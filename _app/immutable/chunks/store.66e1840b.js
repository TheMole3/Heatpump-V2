import{w as r}from"./index.58c9df35.js";function n(e,s){if(typeof window<"u"){const t=localStorage.getItem(e);let o=!0;try{o=Object.keys(JSON.parse(t)).sort().join(",")==Object.keys(s).sort().join(",")}catch{o=!0}if(t&&o)try{return JSON.parse(t)||void 0}catch{return console.error("Invalid JSON, falbacking to default value, key: ",e),s}}return s}function a(e,s){typeof window<"u"&&localStorage.setItem(e,JSON.stringify(s))}const d=r(!1),f=r(n("refreshToken",null)),i={temp:20,power:!0,mode:1,fan:1,highPower:!1,tenDegreeMode:!1,disabledSettings:{temp:!1,power:!1,mode:!1,fan:!1,highPower:!1,tenDegreeMode:!1}},l=r(n("settings",i));f.subscribe(e=>{a("refreshToken",e)});l.subscribe(e=>{a("settings",e)});export{d as a,f as r,l as s};
