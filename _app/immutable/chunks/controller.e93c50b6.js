import{s as m}from"./store.66e1840b.js";let c={},n;m.subscribe(e=>{c=e,n||(n=c)});function f(e,r){if(([3].includes(e.mode)||e.tenDegreeMode)&&(e.fan=0,r.fan=!0),e.highPower&&e.tenDegreeMode)throw new Error("High Power and Ten Degree Mode cannot be enabled simultaneously.");(e.highPower||e.tenDegreeMode)&&(Object.assign(r,{temp:!0,fan:!0,mode:!0}),e.temp=void 0,r[e.highPower?"tenDegreeMode":"highPower"]=!0),e.power||Object.keys(r).forEach(o=>r[o]=!0)}function d(e,r,o){if(r==="mode"){const i=[1,2].includes(o)&&![1,2].includes(n.mode),a=[0,3].includes(o)&&![0,3].includes(n.mode);i&&(e.temp=20),a&&(e.temp=0)}const t={0:[-2,2],3:[-2,2],1:[18,32],2:[18,32]};if(t[e.mode]){const[i,a]=t[e.mode];e.temp=Math.min(Math.max(e.temp,i),a)}else e.temp=void 0}function u(e,r){const o={...c,[r]:e},t={temp:!1,fan:!1,mode:!1,highPower:!1,tenDegreeMode:!1,power:!1};return f(o,t),(r==="highPower"&&!o.highPower||r==="tenDegreeMode"&&!o.tenDegreeMode)&&(o.temp=[1,2].includes(o.mode)?20:0),d(o,r,e),n={...o,disabledSettings:t},{...o,disabledSettings:t}}const l=(e,r)=>{try{const o=u(r,e);m.set(o)}catch(o){console.error("Invalid setting update:",o.message)}};export{l as u};
