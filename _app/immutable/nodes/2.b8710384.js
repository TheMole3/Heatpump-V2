var _0=Object.defineProperty;var w0=(t,e,i)=>e in t?_0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var ye=(t,e,i)=>(w0(t,typeof e!="symbol"?e+"":e,i),i),Ra=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var F=(t,e,i)=>(Ra(t,e,"read from private field"),i?i.call(t):e.get(t)),We=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Fe=(t,e,i,n)=>(Ra(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);var Ys=(t,e,i,n)=>({set _(r){Fe(t,e,r,i)},get _(){return F(t,e,n)}}),Re=(t,e,i)=>(Ra(t,e,"access private method"),i);import{s as lr,n as It,r as Pd,f as Cd,e as sc,b as os,h as Da,o as Id}from"../chunks/scheduler.f9c04a13.js";import{S as Os,i as Ps,g as Ce,s as nt,h as Ie,j as He,y as wt,c as rt,f as ke,k as me,a as Ne,x as Le,z as Ft,p as Fo,t as Ci,b as Uo,d as yi,m as Ii,n as Ri,o as Cn,A as jo,e as Pr,B as La,r as po,u as go,v as mo,C as Hs,w as bo,D as su,E as er,F as tr,G as zt}from"../chunks/index.c45fb041.js";import{w as Cs}from"../chunks/index.58c9df35.js";async function Is(){const e=await fetch("https://sso.melo.se/application/o/emqx/.well-known/openid-configuration");if(!e.ok)throw new Error("Failed to fetch OIDC configuration");return e.json()}async function v0(t,e,i){const r=(await Is()).token_endpoint,s=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e,client_id:i}),o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()});if(!o.ok)throw new Error("Failed to exchange authorization code for token");return o.json()}async function S0(t,e){const n=(await Is()).token_endpoint,r=new URLSearchParams({grant_type:"refresh_token",refresh_token:t,client_id:e}),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!s.ok)throw new Error("Failed to refresh access token");return s.json()}async function Rd(t){const e=await Is(),i=await fetch(e.userinfo_endpoint,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!i.ok)throw new Error("Failed to fetch user information");return await i.json()}function Dd(t,e){if(typeof window<"u"){const i=localStorage.getItem(t);let n=!0;try{n=Object.keys(JSON.parse(i)).sort().join(",")==Object.keys(e).sort().join(",")}catch{n=!0}if(i&&n)try{return JSON.parse(i)||void 0}catch{return console.error("Invalid JSON, falbacking to default value, key: ",t),e}}return e}function Ld(t,e){typeof window<"u"&&localStorage.setItem(t,JSON.stringify(e))}const Rs=Cs(!1),Wo=Cs(Dd("refreshToken",null)),x0={temp:20,power:!0,mode:1,fan:1,highPower:!1,tenDegreeMode:!1,disabledSettings:{temp:!1,power:!1,mode:!1,fan:!1,highPower:!1,tenDegreeMode:!1}},la=Cs(Dd("settings",x0));Wo.subscribe(t=>{Ld("refreshToken",t)});la.subscribe(t=>{Ld("settings",t)});let ha="pPdjbX7XGaFpwme0AlZCPbkJ5ZFF4lGYRWOeLIy8",gs=typeof window<"u"?window.location.href.split("?")[0]:"";function ca(t){let e;return t.subscribe(n=>{e=n})(),e}async function k0(){try{const t=await Is();if(t!=null&&t.end_session_endpoint){const e=`${t.end_session_endpoint}?client_id=${ha}&post_logout_redirect_uri=${encodeURIComponent("https://google.com")}`;window.localStorage.removeItem("refreshToken"),window.location.replace(e)}else window.location.href=gs}catch(t){console.error("Error during logout:",t.message||t),window.location.href=gs}}function E0(t){try{const i=JSON.parse(atob(t.split(".")[1])).exp*1e3;return Date.now()>i}catch(e){return console.error("Error decoding token:",e.message||e),!0}}async function M0(){try{const t=ca(Rs);return!t||E0(t)?await O0():{loading:!1,loginError:!1}}catch(t){return console.error("Error refreshing token if needed:",t.message||t),{loading:!1,loginError:"Failed to refresh token"}}}async function T0(){const t=ca(Wo);if(!t)return console.warn("No refresh token available"),{loading:!1,loginError:"No refresh token available"};try{const e=await S0(t,ha);if(e!=null&&e.access_token)return Rs.set(e.access_token),Wo.set(e.refresh_token),console.info("Access token refreshed"),{loading:!1,loginError:!1};throw new Error("No access token returned from refresh")}catch(e){return console.error("Error refreshing access token:",e.message||e),{loading:!1,loginError:"Failed to refresh access token"}}}async function A0(){if(typeof window>"u")return{loading:!1,loginError:"No window context"};const t=new URLSearchParams(window.location.search),e=t.get("code"),i=t.get("state");if(!e||!i)return console.warn("Missing code or state in redirect URL"),{loading:!1,loginError:"Missing state or code in URL"};try{const n=await v0(e,gs,ha);return Rs.set(n.access_token),Wo.set(n.refresh_token),console.info("Token exchange successful"),window.history.replaceState({},"",gs),{loading:!1,loginError:!1}}catch(n){return console.error("Error during token exchange:",n.message||n),{loading:!1,loginError:"Failed to exchange token"}}}async function Bd(){if(typeof window>"u")return{loading:!1,loginError:"No window context"};try{const t=await Is(),e="openid profile offline_access",i="code",n=Math.random().toString(36).substring(7),r=`${t.authorization_endpoint}?response_type=${i}&client_id=${ha}&redirect_uri=${gs}&scope=${e}&state=${n}`;return window.location.replace(r),{loading:!0,loginError:!1}}catch(t){return console.error("Error starting OIDC flow:",t.message||t),{loading:!1,loginError:"Failed to start OIDC flow"}}}async function O0(){try{const t=await T0(),e=ca(Rs);return!t.loading&&!e?typeof window<"u"&&window.location.search.includes("code=")?await A0():await Bd():{loading:!1,loginError:!1}}catch(t){return console.error("Error ensuring valid token:",t.message||t),{loading:!1,loginError:"Failed to ensure valid token"}}}async function Nd(){try{return(await M0()).loading?{loading:!0,loginError:!1}:{accessToken:ca(Rs),loading:!1,loginError:!1}}catch(t){return console.error("Error getting updated token:",t.message||t),{loading:!1,loginError:"Failed to get updated token"}}}let dl={},ms;la.subscribe(t=>{dl=t,ms||(ms=dl)});function P0(t,e){if(([3].includes(t.mode)||t.tenDegreeMode)&&(t.fan=0,e.fan=!0),t.highPower&&t.tenDegreeMode)throw new Error("High Power and Ten Degree Mode cannot be enabled simultaneously.");(t.highPower||t.tenDegreeMode)&&(Object.assign(e,{temp:!0,fan:!0,mode:!0}),t.temp=void 0,e[t.highPower?"tenDegreeMode":"highPower"]=!0),t.power||Object.keys(e).forEach(i=>e[i]=!0)}function C0(t,e,i){if(e==="mode"){const r=[1,2].includes(i)&&![1,2].includes(ms.mode),s=[0,3].includes(i)&&![0,3].includes(ms.mode);r&&(t.temp=20),s&&(t.temp=0)}const n={0:[-2,2],3:[-2,2],1:[18,32],2:[18,32]};if(n[t.mode]){const[r,s]=n[t.mode];t.temp=Math.min(Math.max(t.temp,r),s)}else t.temp=void 0}function I0(t,e){const i={...dl,[e]:t},n={temp:!1,fan:!1,mode:!1,highPower:!1,tenDegreeMode:!1,power:!1};return P0(i,n),(e==="highPower"&&!i.highPower||e==="tenDegreeMode"&&!i.tenDegreeMode)&&(i.temp=[1,2].includes(i.mode)?20:0),C0(i,e,t),ms={...i,disabledSettings:n},{...i,disabledSettings:n}}const vr=(t,e)=>{try{const i=I0(e,t);la.set(i)}catch(i){console.error("Invalid setting update:",i.message)}};function R0(t){const e=t-1;return e*e*e+1}function zo(t){return--t*t*t*t*t+1}function Yo(t,{delay:e=0,duration:i=400,easing:n=R0,axis:r="y"}={}){const s=getComputedStyle(t),o=+s.opacity,a=r==="y"?"height":"width",l=parseFloat(s[a]),h=r==="y"?["top","bottom"]:["left","right"],c=h.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),u=parseFloat(s[`padding${c[0]}`]),f=parseFloat(s[`padding${c[1]}`]),d=parseFloat(s[`margin${c[0]}`]),g=parseFloat(s[`margin${c[1]}`]),y=parseFloat(s[`border${c[0]}Width`]),_=parseFloat(s[`border${c[1]}Width`]);return{delay:e,duration:i,easing:n,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*o};${a}: ${w*l}px;padding-${h[0]}: ${w*u}px;padding-${h[1]}: ${w*f}px;margin-${h[0]}: ${w*d}px;margin-${h[1]}: ${w*g}px;border-${h[0]}-width: ${w*y}px;border-${h[1]}-width: ${w*_}px;`}}function D0(t){let e,i="-";return{c(){e=Ce("span"),e.textContent=i,this.h()},l(n){e=Ie(n,"SPAN",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-1seu71o"&&(e.textContent=i),this.h()},h(){me(e,"class","text-8xl text-center absolute pointer-events-none")},m(n,r){Ne(n,e,r)},p:It,d(n){n&&ke(e)}}}function L0(t){let e=[0,3].includes(t[0]),i,n=t[3],r,s=t[4],o,a,l="Â°",h=e&&ou(),c=au(t),u=lu(t);return{c(){h&&h.c(),i=nt(),c.c(),r=nt(),u.c(),o=nt(),a=Ce("span"),a.textContent=l,this.h()},l(f){h&&h.l(f),i=rt(f),c.l(f),r=rt(f),u.l(f),o=rt(f),a=Ie(f,"SPAN",{class:!0,"data-svelte-h":!0}),wt(a)!=="svelte-umdtd2"&&(a.textContent=l),this.h()},h(){me(a,"class","text-7xl absolute ml-[7.7rem] -top-2 pointer-events-none")},m(f,d){h&&h.m(f,d),Ne(f,i,d),c.m(f,d),Ne(f,r,d),u.m(f,d),Ne(f,o,d),Ne(f,a,d)},p(f,d){d&1&&(e=[0,3].includes(f[0])),e?h||(h=ou(),h.c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null),d&8&&lr(n,n=f[3])?(Fo(),Ci(c,1,1,It),Uo(),c=au(f),c.c(),yi(c,1),c.m(r.parentNode,r)):c.p(f,d),d&16&&lr(s,s=f[4])?(Fo(),Ci(u,1,1,It),Uo(),u=lu(f),u.c(),yi(u,1),u.m(o.parentNode,o)):u.p(f,d)},d(f){f&&(ke(i),ke(r),ke(o),ke(a)),h&&h.d(f),c.d(f),u.d(f)}}}function ou(t){let e,i="Relativ temperatur";return{c(){e=Ce("span"),e.textContent=i,this.h()},l(n){e=Ie(n,"SPAN",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-1lr22o5"&&(e.textContent=i),this.h()},h(){me(e,"class","absolute font-light text-sm -bottom-8")},m(n,r){Ne(n,e,r)},d(n){n&&ke(e)}}}function au(t){let e,i,n,r,s;return{c(){e=Ce("span"),i=Ii(t[3]),this.h()},l(o){e=Ie(o,"SPAN",{class:!0});var a=He(e);i=Ri(a,t[3]),a.forEach(ke),this.h()},h(){me(e,"class",n="text-8xl text-center absolute pointer-events-none "+(t[4]==""?"":"mr-[2.5rem]"))},m(o,a){Ne(o,e,a),Le(e,i),s=!0},p(o,a){(!s||a&8)&&Cn(i,o[3]),(!s||a&16&&n!==(n="text-8xl text-center absolute pointer-events-none "+(o[4]==""?"":"mr-[2.5rem]")))&&me(e,"class",n)},i(o){s||(o&&Cd(()=>{s&&(r||(r=jo(e,Yo,{delay:0,duration:300,easing:zo,axis:"y"},!0)),r.run(1))}),s=!0)},o(o){o&&(r||(r=jo(e,Yo,{delay:0,duration:300,easing:zo,axis:"y"},!1)),r.run(0)),s=!1},d(o){o&&ke(e),o&&r&&r.end()}}}function lu(t){let e,i,n,r;return{c(){e=Ce("span"),i=Ii(t[4]),this.h()},l(s){e=Ie(s,"SPAN",{class:!0});var o=He(e);i=Ri(o,t[4]),o.forEach(ke),this.h()},h(){me(e,"class","text-8xl text-center absolute pointer-events-none ml-[2.5rem]")},m(s,o){Ne(s,e,o),Le(e,i),r=!0},p(s,o){(!r||o&16)&&Cn(i,s[4])},i(s){r||(s&&Cd(()=>{r&&(n||(n=jo(e,Yo,{delay:0,duration:300,easing:zo,axis:"y"},!0)),n.run(1))}),r=!0)},o(s){s&&(n||(n=jo(e,Yo,{delay:0,duration:300,easing:zo,axis:"y"},!1)),n.run(0)),r=!1},d(s){s&&ke(e),s&&n&&n.end()}}}function B0(t){let e,i,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-14 h-full mr-14"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg>',r,s,o,a,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-14 h-full ml-14"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',h,c,u;function f(y,_){return _&2&&(s=null),s==null&&(s=!isNaN(y[1])&&y[1]!==null),s?L0:D0}let d=f(t,-1),g=d(t);return{c(){e=Ce("div"),i=Ce("button"),i.innerHTML=n,r=nt(),g.c(),o=nt(),a=Ce("button"),a.innerHTML=l,this.h()},l(y){e=Ie(y,"DIV",{class:!0});var _=He(e);i=Ie(_,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(i)!=="svelte-c194v9"&&(i.innerHTML=n),r=rt(_),g.l(_),o=rt(_),a=Ie(_,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(a)!=="svelte-9lnhab"&&(a.innerHTML=l),_.forEach(ke),this.h()},h(){me(i,"class","h-18 mt-6 mr-5 w-1/2 flex justify-end active:-translate-x-2 transition-transform duration-200"),me(a,"class","h-18 mt-6 ml-5 w-1/2 active:translate-x-2 transition-transform duration-200"),me(e,"class",h="w-full flex flex-row justify-center items-center drop-shadow-xl "+(t[2]?"opacity-20 pointer-events-none":""))},m(y,_){Ne(y,e,_),Le(e,i),Le(e,r),g.m(e,null),Le(e,o),Le(e,a),c||(u=[Ft(i,"click",t[7]),Ft(a,"click",t[8])],c=!0)},p(y,[_]){d===(d=f(y,_))&&g?g.p(y,_):(g.d(1),g=d(y),g&&(g.c(),g.m(e,o))),_&4&&h!==(h="w-full flex flex-row justify-center items-center drop-shadow-xl "+(y[2]?"opacity-20 pointer-events-none":""))&&me(e,"class",h)},i:It,o:It,d(y){y&&ke(e),g.d(),c=!1,Pd(u)}}}function N0(t,e,i){let{updateSetting:n}=e,{mode:r}=e,{temp:s}=e,o,a,{disabled:l}=e,h=f=>{n("temp",s+f)};const c=()=>{h(-1)},u=()=>{h(1)};return t.$$set=f=>{"updateSetting"in f&&i(6,n=f.updateSetting),"mode"in f&&i(0,r=f.mode),"temp"in f&&i(1,s=f.temp),"disabled"in f&&i(2,l=f.disabled)},t.$$.update=()=>{t.$$.dirty&2&&s!==null&&i(3,o=s.toString().charAt(0)),t.$$.dirty&2&&s!==null&&i(4,a=s.toString().charAt(1))},[r,s,l,o,a,h,n,c,u]}class F0 extends Os{constructor(e){super(),Ps(this,e,N0,B0,lr,{updateSetting:6,mode:0,temp:1,disabled:2})}}var oc=Object.defineProperty,U0=Object.getOwnPropertyDescriptor,j0=Object.getOwnPropertyNames,W0=Object.prototype.hasOwnProperty,Ut=(t,e)=>()=>(t&&(e=t(t=0)),e),ve=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ur=(t,e)=>{for(var i in e)oc(t,i,{get:e[i],enumerable:!0})},z0=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of j0(e))!W0.call(t,r)&&r!==i&&oc(t,r,{get:()=>e[r],enumerable:!(n=U0(e,r))||n.enumerable});return t},at=t=>z0(oc({},"__esModule",{value:!0}),t),de=Ut(()=>{}),Je={};ur(Je,{_debugEnd:()=>ql,_debugProcess:()=>Vl,_events:()=>ah,_eventsCount:()=>lh,_exiting:()=>Cl,_fatalExceptions:()=>zl,_getActiveHandles:()=>Hd,_getActiveRequests:()=>Yd,_kill:()=>Dl,_linkedBinding:()=>Wd,_maxListeners:()=>oh,_preload_modules:()=>rh,_rawDebug:()=>Al,_startProfilerIdleNotifier:()=>$l,_stopProfilerIdleNotifier:()=>Gl,_tickCallback:()=>Hl,abort:()=>Jl,addListener:()=>hh,allowedNodeEnvironmentFlags:()=>jl,arch:()=>gl,argv:()=>yl,argv0:()=>nh,assert:()=>Vd,binding:()=>xl,chdir:()=>Ml,config:()=>Il,cpuUsage:()=>Xr,cwd:()=>El,debugPort:()=>ih,default:()=>lc,dlopen:()=>zd,domain:()=>Pl,emit:()=>ph,emitWarning:()=>Sl,env:()=>bl,execArgv:()=>_l,execPath:()=>th,exit:()=>Fl,features:()=>Wl,hasUncaughtExceptionCaptureCallback:()=>qd,hrtime:()=>yo,kill:()=>Nl,listeners:()=>Gd,memoryUsage:()=>Bl,moduleLoadList:()=>Ol,nextTick:()=>Ud,off:()=>uh,on:()=>Wi,once:()=>ch,openStdin:()=>Ul,pid:()=>Zl,platform:()=>ml,ppid:()=>eh,prependListener:()=>gh,prependOnceListener:()=>mh,reallyExit:()=>Rl,release:()=>Tl,removeAllListeners:()=>dh,removeListener:()=>fh,resourceUsage:()=>Ll,setSourceMapsEnabled:()=>sh,setUncaughtExceptionCaptureCallback:()=>Yl,stderr:()=>Ql,stdin:()=>Xl,stdout:()=>Kl,title:()=>pl,umask:()=>kl,uptime:()=>$d,version:()=>wl,versions:()=>vl});function ac(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Y0(){!ir||!Qn||(ir=!1,Qn.length?Oi=Qn.concat(Oi):as=-1,Oi.length&&Fd())}function Fd(){if(!ir){var t=setTimeout(Y0,0);ir=!0;for(var e=Oi.length;e;){for(Qn=Oi,Oi=[];++as<e;)Qn&&Qn[as].run();as=-1,e=Oi.length}Qn=null,ir=!1,clearTimeout(t)}}function Ud(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];Oi.push(new jd(t,e)),Oi.length===1&&!ir&&setTimeout(Fd,0)}function jd(t,e){this.fun=t,this.array=e}function Yt(){}function Wd(t){ac("_linkedBinding")}function zd(t){ac("dlopen")}function Yd(){return[]}function Hd(){return[]}function Vd(t,e){if(!t)throw new Error(e||"assertion error")}function qd(){return!1}function $d(){return Gi.now()/1e3}function yo(t){var e=Math.floor((Date.now()-Gi.now())*.001),i=Gi.now()*.001,n=Math.floor(i)+e,r=Math.floor(i%1*1e9);return t&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=_o)),[n,r]}function Wi(){return lc}function Gd(t){return[]}var Oi,ir,Qn,as,pl,gl,ml,bl,yl,_l,wl,vl,Sl,xl,kl,El,Ml,Tl,Al,Ol,Pl,Cl,Il,Rl,Dl,Xr,Ll,Bl,Nl,Fl,Ul,jl,Wl,zl,Yl,Hl,Vl,ql,$l,Gl,Kl,Ql,Xl,Jl,Zl,eh,th,ih,nh,rh,sh,Gi,Ba,_o,oh,ah,lh,hh,ch,uh,fh,dh,ph,gh,mh,lc,H0=Ut(()=>{de(),ge(),pe(),Oi=[],ir=!1,as=-1,jd.prototype.run=function(){this.fun.apply(null,this.array)},pl="browser",gl="x64",ml="browser",bl={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},yl=["/usr/bin/node"],_l=[],wl="v16.8.0",vl={},Sl=function(t,e){console.warn((e?e+": ":"")+t)},xl=function(t){ac("binding")},kl=function(t){return 0},El=function(){return"/"},Ml=function(t){},Tl={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Al=Yt,Ol=[],Pl={},Cl=!1,Il={},Rl=Yt,Dl=Yt,Xr=function(){return{}},Ll=Xr,Bl=Xr,Nl=Yt,Fl=Yt,Ul=Yt,jl={},Wl={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},zl=Yt,Yl=Yt,Hl=Yt,Vl=Yt,ql=Yt,$l=Yt,Gl=Yt,Kl=void 0,Ql=void 0,Xl=void 0,Jl=Yt,Zl=2,eh=1,th="/bin/usr/node",ih=9229,nh="node",rh=[],sh=Yt,Gi={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Gi.now===void 0&&(Ba=Date.now(),Gi.timing&&Gi.timing.navigationStart&&(Ba=Gi.timing.navigationStart),Gi.now=()=>Date.now()-Ba),_o=1e9,yo.bigint=function(t){var e=yo(t);return typeof BigInt>"u"?e[0]*_o+e[1]:BigInt(e[0]*_o)+BigInt(e[1])},oh=10,ah={},lh=0,hh=Wi,ch=Wi,uh=Wi,fh=Wi,dh=Wi,ph=Yt,gh=Wi,mh=Wi,lc={version:wl,versions:vl,arch:gl,platform:ml,release:Tl,_rawDebug:Al,moduleLoadList:Ol,binding:xl,_linkedBinding:Wd,_events:ah,_eventsCount:lh,_maxListeners:oh,on:Wi,addListener:hh,once:ch,off:uh,removeListener:fh,removeAllListeners:dh,emit:ph,prependListener:gh,prependOnceListener:mh,listeners:Gd,domain:Pl,_exiting:Cl,config:Il,dlopen:zd,uptime:$d,_getActiveRequests:Yd,_getActiveHandles:Hd,reallyExit:Rl,_kill:Dl,cpuUsage:Xr,resourceUsage:Ll,memoryUsage:Bl,kill:Nl,exit:Fl,openStdin:Ul,allowedNodeEnvironmentFlags:jl,assert:Vd,features:Wl,_fatalExceptions:zl,setUncaughtExceptionCaptureCallback:Yl,hasUncaughtExceptionCaptureCallback:qd,emitWarning:Sl,nextTick:Ud,_tickCallback:Hl,_debugProcess:Vl,_debugEnd:ql,_startProfilerIdleNotifier:$l,_stopProfilerIdleNotifier:Gl,stdout:Kl,stdin:Xl,stderr:Ql,abort:Jl,umask:kl,chdir:Ml,cwd:El,env:bl,title:pl,argv:yl,execArgv:_l,pid:Zl,ppid:eh,execPath:th,debugPort:ih,hrtime:yo,argv0:nh,_preload_modules:rh,setSourceMapsEnabled:sh}}),pe=Ut(()=>{H0()}),jt={};ur(jt,{Buffer:()=>Ho,INSPECT_MAX_BYTES:()=>Kd,default:()=>zi,kMaxLength:()=>Qd});function V0(){if(bh)return Sr;bh=!0,Sr.byteLength=a,Sr.toByteArray=h,Sr.fromByteArray=f;for(var t=[],e=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)t[r]=n[r],e[n.charCodeAt(r)]=r;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function o(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=d.indexOf("=");y===-1&&(y=g);var _=y===g?0:4-y%4;return[y,_]}function a(d){var g=o(d),y=g[0],_=g[1];return(y+_)*3/4-_}function l(d,g,y){return(g+y)*3/4-y}function h(d){var g,y=o(d),_=y[0],w=y[1],v=new i(l(d,_,w)),S=0,A=w>0?_-4:_,O;for(O=0;O<A;O+=4)g=e[d.charCodeAt(O)]<<18|e[d.charCodeAt(O+1)]<<12|e[d.charCodeAt(O+2)]<<6|e[d.charCodeAt(O+3)],v[S++]=g>>16&255,v[S++]=g>>8&255,v[S++]=g&255;return w===2&&(g=e[d.charCodeAt(O)]<<2|e[d.charCodeAt(O+1)]>>4,v[S++]=g&255),w===1&&(g=e[d.charCodeAt(O)]<<10|e[d.charCodeAt(O+1)]<<4|e[d.charCodeAt(O+2)]>>2,v[S++]=g>>8&255,v[S++]=g&255),v}function c(d){return t[d>>18&63]+t[d>>12&63]+t[d>>6&63]+t[d&63]}function u(d,g,y){for(var _,w=[],v=g;v<y;v+=3)_=(d[v]<<16&16711680)+(d[v+1]<<8&65280)+(d[v+2]&255),w.push(c(_));return w.join("")}function f(d){for(var g,y=d.length,_=y%3,w=[],v=16383,S=0,A=y-_;S<A;S+=v)w.push(u(d,S,S+v>A?A:S+v));return _===1?(g=d[y-1],w.push(t[g>>2]+t[g<<4&63]+"==")):_===2&&(g=(d[y-2]<<8)+d[y-1],w.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),w.join("")}return Sr}function q0(){return yh?Jr:(yh=!0,Jr.read=function(t,e,i,n,r){var s,o,a=r*8-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?r-1:0,f=i?-1:1,d=t[e+u];for(u+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=s*256+t[e+u],u+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+u],u+=f,c-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(d?-1:1)*o*Math.pow(2,s-n)},Jr.write=function(t,e,i,n,r,s){var o,a,l,h=s*8-r-1,c=(1<<h)-1,u=c>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,g=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?e+=f/l:e+=f*Math.pow(2,1-u),e*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o=o+u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[i+d]=a&255,d+=g,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;t[i+d]=o&255,d+=g,o/=256,h-=8);t[i+d-g]|=y*128},Jr)}function $0(){if(_h)return bn;_h=!0;let t=V0(),e=q0(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;bn.Buffer=o,bn.SlowBuffer=w,bn.INSPECT_MAX_BYTES=50;let n=2147483647;bn.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=r(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{let m=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(m,p),m.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(m){if(m>n)throw new RangeError('The value "'+m+'" is invalid for option "size"');let p=new Uint8Array(m);return Object.setPrototypeOf(p,o.prototype),p}function o(m,p,b){if(typeof m=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(m)}return a(m,p,b)}o.poolSize=8192;function a(m,p,b){if(typeof m=="string")return u(m,p);if(ArrayBuffer.isView(m))return d(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(Q(m,ArrayBuffer)||m&&Q(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(m,SharedArrayBuffer)||m&&Q(m.buffer,SharedArrayBuffer)))return g(m,p,b);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let P=m.valueOf&&m.valueOf();if(P!=null&&P!==m)return o.from(P,p,b);let R=y(m);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return o.from(m[Symbol.toPrimitive]("string"),p,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o.from=function(m,p,b){return a(m,p,b)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function h(m,p,b){return l(m),m<=0?s(m):p!==void 0?typeof b=="string"?s(m).fill(p,b):s(m).fill(p):s(m)}o.alloc=function(m,p,b){return h(m,p,b)};function c(m){return l(m),s(m<0?0:_(m)|0)}o.allocUnsafe=function(m){return c(m)},o.allocUnsafeSlow=function(m){return c(m)};function u(m,p){if((typeof p!="string"||p==="")&&(p="utf8"),!o.isEncoding(p))throw new TypeError("Unknown encoding: "+p);let b=v(m,p)|0,P=s(b),R=P.write(m,p);return R!==b&&(P=P.slice(0,R)),P}function f(m){let p=m.length<0?0:_(m.length)|0,b=s(p);for(let P=0;P<p;P+=1)b[P]=m[P]&255;return b}function d(m){if(Q(m,Uint8Array)){let p=new Uint8Array(m);return g(p.buffer,p.byteOffset,p.byteLength)}return f(m)}function g(m,p,b){if(p<0||m.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<p+(b||0))throw new RangeError('"length" is outside of buffer bounds');let P;return p===void 0&&b===void 0?P=new Uint8Array(m):b===void 0?P=new Uint8Array(m,p):P=new Uint8Array(m,p,b),Object.setPrototypeOf(P,o.prototype),P}function y(m){if(o.isBuffer(m)){let p=_(m.length)|0,b=s(p);return b.length===0||m.copy(b,0,0,p),b}if(m.length!==void 0)return typeof m.length!="number"||_e(m.length)?s(0):f(m);if(m.type==="Buffer"&&Array.isArray(m.data))return f(m.data)}function _(m){if(m>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return m|0}function w(m){return+m!=m&&(m=0),o.alloc(+m)}o.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==o.prototype},o.compare=function(m,p){if(Q(m,Uint8Array)&&(m=o.from(m,m.offset,m.byteLength)),Q(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),!o.isBuffer(m)||!o.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===p)return 0;let b=m.length,P=p.length;for(let R=0,E=Math.min(b,P);R<E;++R)if(m[R]!==p[R]){b=m[R],P=p[R];break}return b<P?-1:P<b?1:0},o.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(m,p){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return o.alloc(0);let b;if(p===void 0)for(p=0,b=0;b<m.length;++b)p+=m[b].length;let P=o.allocUnsafe(p),R=0;for(b=0;b<m.length;++b){let E=m[b];if(Q(E,Uint8Array))R+E.length>P.length?(o.isBuffer(E)||(E=o.from(E)),E.copy(P,R)):Uint8Array.prototype.set.call(P,E,R);else if(o.isBuffer(E))E.copy(P,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=E.length}return P};function v(m,p){if(o.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||Q(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);let b=m.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&b===0)return 0;let R=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return z(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return J(m).length;default:if(R)return P?-1:z(m).length;p=(""+p).toLowerCase(),R=!0}}o.byteLength=v;function S(m,p,b){let P=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,p>>>=0,b<=p))return"";for(m||(m="utf8");;)switch(m){case"hex":return V(this,p,b);case"utf8":case"utf-8":return Y(this,p,b);case"ascii":return re(this,p,b);case"latin1":case"binary":return Z(this,p,b);case"base64":return k(this,p,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,p,b);default:if(P)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),P=!0}}o.prototype._isBuffer=!0;function A(m,p,b){let P=m[p];m[p]=m[b],m[b]=P}o.prototype.swap16=function(){let m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<m;p+=2)A(this,p,p+1);return this},o.prototype.swap32=function(){let m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<m;p+=4)A(this,p,p+3),A(this,p+1,p+2);return this},o.prototype.swap64=function(){let m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<m;p+=8)A(this,p,p+7),A(this,p+1,p+6),A(this,p+2,p+5),A(this,p+3,p+4);return this},o.prototype.toString=function(){let m=this.length;return m===0?"":arguments.length===0?Y(this,0,m):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(m){if(!o.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:o.compare(this,m)===0},o.prototype.inspect=function(){let m="",p=bn.INSPECT_MAX_BYTES;return m=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(m+=" ... "),"<Buffer "+m+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(m,p,b,P,R){if(Q(m,Uint8Array)&&(m=o.from(m,m.offset,m.byteLength)),!o.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(p===void 0&&(p=0),b===void 0&&(b=m?m.length:0),P===void 0&&(P=0),R===void 0&&(R=this.length),p<0||b>m.length||P<0||R>this.length)throw new RangeError("out of range index");if(P>=R&&p>=b)return 0;if(P>=R)return-1;if(p>=b)return 1;if(p>>>=0,b>>>=0,P>>>=0,R>>>=0,this===m)return 0;let E=R-P,D=b-p,U=Math.min(E,D),ee=this.slice(P,R),ae=m.slice(p,b);for(let we=0;we<U;++we)if(ee[we]!==ae[we]){E=ee[we],D=ae[we];break}return E<D?-1:D<E?1:0};function O(m,p,b,P,R){if(m.length===0)return-1;if(typeof b=="string"?(P=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,_e(b)&&(b=R?0:m.length-1),b<0&&(b=m.length+b),b>=m.length){if(R)return-1;b=m.length-1}else if(b<0)if(R)b=0;else return-1;if(typeof p=="string"&&(p=o.from(p,P)),o.isBuffer(p))return p.length===0?-1:x(m,p,b,P,R);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(m,p,b):Uint8Array.prototype.lastIndexOf.call(m,p,b):x(m,[p],b,P,R);throw new TypeError("val must be string, number or Buffer")}function x(m,p,b,P,R){let E=1,D=m.length,U=p.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(m.length<2||p.length<2)return-1;E=2,D/=2,U/=2,b/=2}function ee(we,Ae){return E===1?we[Ae]:we.readUInt16BE(Ae*E)}let ae;if(R){let we=-1;for(ae=b;ae<D;ae++)if(ee(m,ae)===ee(p,we===-1?0:ae-we)){if(we===-1&&(we=ae),ae-we+1===U)return we*E}else we!==-1&&(ae-=ae-we),we=-1}else for(b+U>D&&(b=D-U),ae=b;ae>=0;ae--){let we=!0;for(let Ae=0;Ae<U;Ae++)if(ee(m,ae+Ae)!==ee(p,Ae)){we=!1;break}if(we)return ae}return-1}o.prototype.includes=function(m,p,b){return this.indexOf(m,p,b)!==-1},o.prototype.indexOf=function(m,p,b){return O(this,m,p,b,!0)},o.prototype.lastIndexOf=function(m,p,b){return O(this,m,p,b,!1)};function M(m,p,b,P){b=Number(b)||0;let R=m.length-b;P?(P=Number(P),P>R&&(P=R)):P=R;let E=p.length;P>E/2&&(P=E/2);let D;for(D=0;D<P;++D){let U=parseInt(p.substr(D*2,2),16);if(_e(U))return D;m[b+D]=U}return D}function T(m,p,b,P){return j(z(p,m.length-b),m,b,P)}function B(m,p,b,P){return j(W(p),m,b,P)}function q(m,p,b,P){return j(J(p),m,b,P)}function $(m,p,b,P){return j(oe(p,m.length-b),m,b,P)}o.prototype.write=function(m,p,b,P){if(p===void 0)P="utf8",b=this.length,p=0;else if(b===void 0&&typeof p=="string")P=p,b=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(b)?(b=b>>>0,P===void 0&&(P="utf8")):(P=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let R=this.length-p;if((b===void 0||b>R)&&(b=R),m.length>0&&(b<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let E=!1;for(;;)switch(P){case"hex":return M(this,m,p,b);case"utf8":case"utf-8":return T(this,m,p,b);case"ascii":case"latin1":case"binary":return B(this,m,p,b);case"base64":return q(this,m,p,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,m,p,b);default:if(E)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),E=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(m,p,b){return p===0&&b===m.length?t.fromByteArray(m):t.fromByteArray(m.slice(p,b))}function Y(m,p,b){b=Math.min(m.length,b);let P=[],R=p;for(;R<b;){let E=m[R],D=null,U=E>239?4:E>223?3:E>191?2:1;if(R+U<=b){let ee,ae,we,Ae;switch(U){case 1:E<128&&(D=E);break;case 2:ee=m[R+1],(ee&192)===128&&(Ae=(E&31)<<6|ee&63,Ae>127&&(D=Ae));break;case 3:ee=m[R+1],ae=m[R+2],(ee&192)===128&&(ae&192)===128&&(Ae=(E&15)<<12|(ee&63)<<6|ae&63,Ae>2047&&(Ae<55296||Ae>57343)&&(D=Ae));break;case 4:ee=m[R+1],ae=m[R+2],we=m[R+3],(ee&192)===128&&(ae&192)===128&&(we&192)===128&&(Ae=(E&15)<<18|(ee&63)<<12|(ae&63)<<6|we&63,Ae>65535&&Ae<1114112&&(D=Ae))}}D===null?(D=65533,U=1):D>65535&&(D-=65536,P.push(D>>>10&1023|55296),D=56320|D&1023),P.push(D),R+=U}return H(P)}let X=4096;function H(m){let p=m.length;if(p<=X)return String.fromCharCode.apply(String,m);let b="",P=0;for(;P<p;)b+=String.fromCharCode.apply(String,m.slice(P,P+=X));return b}function re(m,p,b){let P="";b=Math.min(m.length,b);for(let R=p;R<b;++R)P+=String.fromCharCode(m[R]&127);return P}function Z(m,p,b){let P="";b=Math.min(m.length,b);for(let R=p;R<b;++R)P+=String.fromCharCode(m[R]);return P}function V(m,p,b){let P=m.length;(!p||p<0)&&(p=0),(!b||b<0||b>P)&&(b=P);let R="";for(let E=p;E<b;++E)R+=Me[m[E]];return R}function he(m,p,b){let P=m.slice(p,b),R="";for(let E=0;E<P.length-1;E+=2)R+=String.fromCharCode(P[E]+P[E+1]*256);return R}o.prototype.slice=function(m,p){let b=this.length;m=~~m,p=p===void 0?b:~~p,m<0?(m+=b,m<0&&(m=0)):m>b&&(m=b),p<0?(p+=b,p<0&&(p=0)):p>b&&(p=b),p<m&&(p=m);let P=this.subarray(m,p);return Object.setPrototypeOf(P,o.prototype),P};function ne(m,p,b){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+p>b)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(m,p,b){m=m>>>0,p=p>>>0,b||ne(m,p,this.length);let P=this[m],R=1,E=0;for(;++E<p&&(R*=256);)P+=this[m+E]*R;return P},o.prototype.readUintBE=o.prototype.readUIntBE=function(m,p,b){m=m>>>0,p=p>>>0,b||ne(m,p,this.length);let P=this[m+--p],R=1;for(;p>0&&(R*=256);)P+=this[m+--p]*R;return P},o.prototype.readUint8=o.prototype.readUInt8=function(m,p){return m=m>>>0,p||ne(m,1,this.length),this[m]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(m,p){return m=m>>>0,p||ne(m,2,this.length),this[m]|this[m+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(m,p){return m=m>>>0,p||ne(m,2,this.length),this[m]<<8|this[m+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(m,p){return m=m>>>0,p||ne(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(m,p){return m=m>>>0,p||ne(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},o.prototype.readBigUInt64LE=Oe(function(m){m=m>>>0,te(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&fe(m,this.length-8);let P=p+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,R=this[++m]+this[++m]*2**8+this[++m]*2**16+b*2**24;return BigInt(P)+(BigInt(R)<<BigInt(32))}),o.prototype.readBigUInt64BE=Oe(function(m){m=m>>>0,te(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&fe(m,this.length-8);let P=p*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],R=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+b;return(BigInt(P)<<BigInt(32))+BigInt(R)}),o.prototype.readIntLE=function(m,p,b){m=m>>>0,p=p>>>0,b||ne(m,p,this.length);let P=this[m],R=1,E=0;for(;++E<p&&(R*=256);)P+=this[m+E]*R;return R*=128,P>=R&&(P-=Math.pow(2,8*p)),P},o.prototype.readIntBE=function(m,p,b){m=m>>>0,p=p>>>0,b||ne(m,p,this.length);let P=p,R=1,E=this[m+--P];for(;P>0&&(R*=256);)E+=this[m+--P]*R;return R*=128,E>=R&&(E-=Math.pow(2,8*p)),E},o.prototype.readInt8=function(m,p){return m=m>>>0,p||ne(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},o.prototype.readInt16LE=function(m,p){m=m>>>0,p||ne(m,2,this.length);let b=this[m]|this[m+1]<<8;return b&32768?b|4294901760:b},o.prototype.readInt16BE=function(m,p){m=m>>>0,p||ne(m,2,this.length);let b=this[m+1]|this[m]<<8;return b&32768?b|4294901760:b},o.prototype.readInt32LE=function(m,p){return m=m>>>0,p||ne(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},o.prototype.readInt32BE=function(m,p){return m=m>>>0,p||ne(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},o.prototype.readBigInt64LE=Oe(function(m){m=m>>>0,te(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&fe(m,this.length-8);let P=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(b<<24);return(BigInt(P)<<BigInt(32))+BigInt(p+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),o.prototype.readBigInt64BE=Oe(function(m){m=m>>>0,te(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&fe(m,this.length-8);let P=(p<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(P)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+b)}),o.prototype.readFloatLE=function(m,p){return m=m>>>0,p||ne(m,4,this.length),e.read(this,m,!0,23,4)},o.prototype.readFloatBE=function(m,p){return m=m>>>0,p||ne(m,4,this.length),e.read(this,m,!1,23,4)},o.prototype.readDoubleLE=function(m,p){return m=m>>>0,p||ne(m,8,this.length),e.read(this,m,!0,52,8)},o.prototype.readDoubleBE=function(m,p){return m=m>>>0,p||ne(m,8,this.length),e.read(this,m,!1,52,8)};function xe(m,p,b,P,R,E){if(!o.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>R||p<E)throw new RangeError('"value" argument is out of bounds');if(b+P>m.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(m,p,b,P){if(m=+m,p=p>>>0,b=b>>>0,!P){let D=Math.pow(2,8*b)-1;xe(this,m,p,b,D,0)}let R=1,E=0;for(this[p]=m&255;++E<b&&(R*=256);)this[p+E]=m/R&255;return p+b},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(m,p,b,P){if(m=+m,p=p>>>0,b=b>>>0,!P){let D=Math.pow(2,8*b)-1;xe(this,m,p,b,D,0)}let R=b-1,E=1;for(this[p+R]=m&255;--R>=0&&(E*=256);)this[p+R]=m/E&255;return p+b},o.prototype.writeUint8=o.prototype.writeUInt8=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,1,255,0),this[p]=m&255,p+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,2,65535,0),this[p]=m&255,this[p+1]=m>>>8,p+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,2,65535,0),this[p]=m>>>8,this[p+1]=m&255,p+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,4,4294967295,0),this[p+3]=m>>>24,this[p+2]=m>>>16,this[p+1]=m>>>8,this[p]=m&255,p+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,4,4294967295,0),this[p]=m>>>24,this[p+1]=m>>>16,this[p+2]=m>>>8,this[p+3]=m&255,p+4};function I(m,p,b,P,R){ie(p,P,R,m,b,7);let E=Number(p&BigInt(4294967295));m[b++]=E,E=E>>8,m[b++]=E,E=E>>8,m[b++]=E,E=E>>8,m[b++]=E;let D=Number(p>>BigInt(32)&BigInt(4294967295));return m[b++]=D,D=D>>8,m[b++]=D,D=D>>8,m[b++]=D,D=D>>8,m[b++]=D,b}function K(m,p,b,P,R){ie(p,P,R,m,b,7);let E=Number(p&BigInt(4294967295));m[b+7]=E,E=E>>8,m[b+6]=E,E=E>>8,m[b+5]=E,E=E>>8,m[b+4]=E;let D=Number(p>>BigInt(32)&BigInt(4294967295));return m[b+3]=D,D=D>>8,m[b+2]=D,D=D>>8,m[b+1]=D,D=D>>8,m[b]=D,b+8}o.prototype.writeBigUInt64LE=Oe(function(m,p=0){return I(this,m,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Oe(function(m,p=0){return K(this,m,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(m,p,b,P){if(m=+m,p=p>>>0,!P){let U=Math.pow(2,8*b-1);xe(this,m,p,b,U-1,-U)}let R=0,E=1,D=0;for(this[p]=m&255;++R<b&&(E*=256);)m<0&&D===0&&this[p+R-1]!==0&&(D=1),this[p+R]=(m/E>>0)-D&255;return p+b},o.prototype.writeIntBE=function(m,p,b,P){if(m=+m,p=p>>>0,!P){let U=Math.pow(2,8*b-1);xe(this,m,p,b,U-1,-U)}let R=b-1,E=1,D=0;for(this[p+R]=m&255;--R>=0&&(E*=256);)m<0&&D===0&&this[p+R+1]!==0&&(D=1),this[p+R]=(m/E>>0)-D&255;return p+b},o.prototype.writeInt8=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,1,127,-128),m<0&&(m=255+m+1),this[p]=m&255,p+1},o.prototype.writeInt16LE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,2,32767,-32768),this[p]=m&255,this[p+1]=m>>>8,p+2},o.prototype.writeInt16BE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,2,32767,-32768),this[p]=m>>>8,this[p+1]=m&255,p+2},o.prototype.writeInt32LE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,4,2147483647,-2147483648),this[p]=m&255,this[p+1]=m>>>8,this[p+2]=m>>>16,this[p+3]=m>>>24,p+4},o.prototype.writeInt32BE=function(m,p,b){return m=+m,p=p>>>0,b||xe(this,m,p,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[p]=m>>>24,this[p+1]=m>>>16,this[p+2]=m>>>8,this[p+3]=m&255,p+4},o.prototype.writeBigInt64LE=Oe(function(m,p=0){return I(this,m,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Oe(function(m,p=0){return K(this,m,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function se(m,p,b,P,R,E){if(b+P>m.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Ee(m,p,b,P,R){return p=+p,b=b>>>0,R||se(m,p,b,4),e.write(m,p,b,P,23,4),b+4}o.prototype.writeFloatLE=function(m,p,b){return Ee(this,m,p,!0,b)},o.prototype.writeFloatBE=function(m,p,b){return Ee(this,m,p,!1,b)};function le(m,p,b,P,R){return p=+p,b=b>>>0,R||se(m,p,b,8),e.write(m,p,b,P,52,8),b+8}o.prototype.writeDoubleLE=function(m,p,b){return le(this,m,p,!0,b)},o.prototype.writeDoubleBE=function(m,p,b){return le(this,m,p,!1,b)},o.prototype.copy=function(m,p,b,P){if(!o.isBuffer(m))throw new TypeError("argument should be a Buffer");if(b||(b=0),!P&&P!==0&&(P=this.length),p>=m.length&&(p=m.length),p||(p=0),P>0&&P<b&&(P=b),P===b||m.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),m.length-p<P-b&&(P=m.length-p+b);let R=P-b;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,b,P):Uint8Array.prototype.set.call(m,this.subarray(b,P),p),R},o.prototype.fill=function(m,p,b,P){if(typeof m=="string"){if(typeof p=="string"?(P=p,p=0,b=this.length):typeof b=="string"&&(P=b,b=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(m.length===1){let E=m.charCodeAt(0);(P==="utf8"&&E<128||P==="latin1")&&(m=E)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(p<0||this.length<p||this.length<b)throw new RangeError("Out of range index");if(b<=p)return this;p=p>>>0,b=b===void 0?this.length:b>>>0,m||(m=0);let R;if(typeof m=="number")for(R=p;R<b;++R)this[R]=m;else{let E=o.isBuffer(m)?m:o.from(m,P),D=E.length;if(D===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(R=0;R<b-p;++R)this[R+p]=E[R%D]}return this};let N={};function C(m,p,b){N[m]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}C("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(m,p){return`The "${m}" argument must be of type number. Received type ${typeof p}`},TypeError),C("ERR_OUT_OF_RANGE",function(m,p,b){let P=`The value of "${m}" is out of range.`,R=b;return Number.isInteger(b)&&Math.abs(b)>2**32?R=G(String(b)):typeof b=="bigint"&&(R=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(R=G(R)),R+="n"),P+=` It must be ${p}. Received ${R}`,P},RangeError);function G(m){let p="",b=m.length,P=m[0]==="-"?1:0;for(;b>=P+4;b-=3)p=`_${m.slice(b-3,b)}${p}`;return`${m.slice(0,b)}${p}`}function ce(m,p,b){te(p,"offset"),(m[p]===void 0||m[p+b]===void 0)&&fe(p,m.length-(b+1))}function ie(m,p,b,P,R,E){if(m>b||m<p){let D=typeof p=="bigint"?"n":"",U;throw E>3?p===0||p===BigInt(0)?U=`>= 0${D} and < 2${D} ** ${(E+1)*8}${D}`:U=`>= -(2${D} ** ${(E+1)*8-1}${D}) and < 2 ** ${(E+1)*8-1}${D}`:U=`>= ${p}${D} and <= ${b}${D}`,new N.ERR_OUT_OF_RANGE("value",U,m)}ce(P,R,E)}function te(m,p){if(typeof m!="number")throw new N.ERR_INVALID_ARG_TYPE(p,"number",m)}function fe(m,p,b){throw Math.floor(m)!==m?(te(m,b),new N.ERR_OUT_OF_RANGE(b||"offset","an integer",m)):p<0?new N.ERR_BUFFER_OUT_OF_BOUNDS:new N.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${p}`,m)}let ue=/[^+/0-9A-Za-z-_]/g;function L(m){if(m=m.split("=")[0],m=m.trim().replace(ue,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function z(m,p){p=p||1/0;let b,P=m.length,R=null,E=[];for(let D=0;D<P;++D){if(b=m.charCodeAt(D),b>55295&&b<57344){if(!R){if(b>56319){(p-=3)>-1&&E.push(239,191,189);continue}else if(D+1===P){(p-=3)>-1&&E.push(239,191,189);continue}R=b;continue}if(b<56320){(p-=3)>-1&&E.push(239,191,189),R=b;continue}b=(R-55296<<10|b-56320)+65536}else R&&(p-=3)>-1&&E.push(239,191,189);if(R=null,b<128){if((p-=1)<0)break;E.push(b)}else if(b<2048){if((p-=2)<0)break;E.push(b>>6|192,b&63|128)}else if(b<65536){if((p-=3)<0)break;E.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((p-=4)<0)break;E.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return E}function W(m){let p=[];for(let b=0;b<m.length;++b)p.push(m.charCodeAt(b)&255);return p}function oe(m,p){let b,P,R,E=[];for(let D=0;D<m.length&&!((p-=2)<0);++D)b=m.charCodeAt(D),P=b>>8,R=b%256,E.push(R),E.push(P);return E}function J(m){return t.toByteArray(L(m))}function j(m,p,b,P){let R;for(R=0;R<P&&!(R+b>=p.length||R>=m.length);++R)p[R+b]=m[R];return R}function Q(m,p){return m instanceof p||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===p.name}function _e(m){return m!==m}let Me=function(){let m="0123456789abcdef",p=new Array(256);for(let b=0;b<16;++b){let P=b*16;for(let R=0;R<16;++R)p[P+R]=m[b]+m[R]}return p}();function Oe(m){return typeof BigInt>"u"?Ye:m}function Ye(){throw new Error("BigInt not supported")}return bn}var Sr,bh,Jr,yh,bn,_h,zi,Ho,Kd,Qd,Wt=Ut(()=>{de(),ge(),pe(),Sr={},bh=!1,Jr={},yh=!1,bn={},_h=!1,zi=$0(),zi.Buffer,zi.SlowBuffer,zi.INSPECT_MAX_BYTES,zi.kMaxLength,Ho=zi.Buffer,Kd=zi.INSPECT_MAX_BYTES,Qd=zi.kMaxLength}),ge=Ut(()=>{Wt()}),G0=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(i){this.aliasToTopic={},this.max=i}put(i,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=i,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(i){return this.aliasToTopic[i]}clear(){this.aliasToTopic={}}};t.default=e}),Rt=ve((t,e)=>{de(),ge(),pe(),e.exports={ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,n){return i.includes(n)},ArrayPrototypeIndexOf(i,n){return i.indexOf(n)},ArrayPrototypeJoin(i,n){return i.join(n)},ArrayPrototypeMap(i,n){return i.map(n)},ArrayPrototypePop(i,n){return i.pop(n)},ArrayPrototypePush(i,n){return i.push(n)},ArrayPrototypeSlice(i,n,r){return i.slice(n,r)},Error,FunctionPrototypeCall(i,n,...r){return i.call(n,...r)},FunctionPrototypeSymbolHasInstance(i,n){return Function.prototype[Symbol.hasInstance].call(i,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,n){return Object.defineProperties(i,n)},ObjectDefineProperty(i,n,r){return Object.defineProperty(i,n,r)},ObjectGetOwnPropertyDescriptor(i,n){return Object.getOwnPropertyDescriptor(i,n)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,n){return Object.setPrototypeOf(i,n)},Promise,PromisePrototypeCatch(i,n){return i.catch(n)},PromisePrototypeThen(i,n,r){return i.then(n,r)},PromiseReject(i){return Promise.reject(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,n){return i.test(n)},SafeSet:Set,String,StringPrototypeSlice(i,n,r){return i.slice(n,r)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(i,n,r){return i.set(n,r)},Uint8Array}}),an=ve((t,e)=>{de(),ge(),pe();var i=(Wt(),at(jt)),n=Object.getPrototypeOf(async function(){}).constructor,r=globalThis.Blob||i.Blob,s=typeof r<"u"?function(a){return a instanceof r}:function(a){return!1},o=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let l="";for(let h=0;h<a.length;h++)l+=`    ${a[h].stack}
`;super(l),this.name="AggregateError",this.errors=a}};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(a){let l=!1;return function(...h){l||(l=!0,a.apply(this,h))}},createDeferredPromise:function(){let a,l;return{promise:new Promise((h,c)=>{a=h,l=c}),resolve:a,reject:l}},promisify(a){return new Promise((l,h)=>{a((c,...u)=>c?h(c):l(...u))})},debuglog(){return function(){}},format(a,...l){return a.replace(/%([sdifj])/g,function(...[h,c]){let u=l.shift();return c==="f"?u.toFixed(6):c==="j"?JSON.stringify(u):c==="s"&&typeof u=="object"?`${u.constructor!==Object?u.constructor.name:""} {}`.trim():u.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}},types:{isAsyncFunction(a){return a instanceof n},isArrayBufferView(a){return ArrayBuffer.isView(a)}},isBlob:s},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),hc=ve((t,e)=>{de(),ge(),pe();var{AbortController:i,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=i,e.exports.AbortSignal=n,e.exports.default=i}),ei=ve((t,e)=>{de(),ge(),pe();var{format:i,inspect:n,AggregateError:r}=an(),s=globalThis.AggregateError||r,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",c={};function u(v,S){if(!v)throw new c.ERR_INTERNAL_ASSERTION(S)}function f(v){let S="",A=v.length,O=v[0]==="-"?1:0;for(;A>=O+4;A-=3)S=`_${v.slice(A-3,A)}${S}`;return`${v.slice(0,A)}${S}`}function d(v,S,A){if(typeof S=="function")return u(S.length<=A.length,`Code: ${v}; The provided arguments length (${A.length}) does not match the required ones (${S.length}).`),S(...A);let O=(S.match(/%[dfijoOs]/g)||[]).length;return u(O===A.length,`Code: ${v}; The provided arguments length (${A.length}) does not match the required ones (${O}).`),A.length===0?S:i(S,...A)}function g(v,S,A){A||(A=Error);class O extends A{constructor(...M){super(d(v,S,M))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(O.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),O.prototype.code=v,O.prototype[o]=!0,c[v]=O}function y(v){let S=h+v.name;return Object.defineProperty(v,"name",{value:S}),v}function _(v,S){if(v&&S&&v!==S){if(Array.isArray(S.errors))return S.errors.push(v),S;let A=new s([S,v],S.message);return A.code=S.code,A}return v||S}var w=class extends Error{constructor(v="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",S);super(v,S),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(v,S,A)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let O="The ";v.endsWith(" argument")?O+=`${v} `:O+=`"${v}" ${v.includes(".")?"property":"argument"} `,O+="must be ";let x=[],M=[],T=[];for(let q of S)u(typeof q=="string","All expected entries have to be of type string"),a.includes(q)?x.push(q.toLowerCase()):l.test(q)?M.push(q):(u(q!=="object",'The value "object" should be written as "Object"'),T.push(q));if(M.length>0){let q=x.indexOf("object");q!==-1&&(x.splice(x,q,1),M.push("Object"))}if(x.length>0){switch(x.length){case 1:O+=`of type ${x[0]}`;break;case 2:O+=`one of type ${x[0]} or ${x[1]}`;break;default:{let q=x.pop();O+=`one of type ${x.join(", ")}, or ${q}`}}(M.length>0||T.length>0)&&(O+=" or ")}if(M.length>0){switch(M.length){case 1:O+=`an instance of ${M[0]}`;break;case 2:O+=`an instance of ${M[0]} or ${M[1]}`;break;default:{let q=M.pop();O+=`an instance of ${M.join(", ")}, or ${q}`}}T.length>0&&(O+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(O+="an "),O+=`${T[0]}`;break;case 2:O+=`one of ${T[0]} or ${T[1]}`;break;default:{let q=T.pop();O+=`one of ${T.join(", ")}, or ${q}`}}if(A==null)O+=`. Received ${A}`;else if(typeof A=="function"&&A.name)O+=`. Received function ${A.name}`;else if(typeof A=="object"){var B;if((B=A.constructor)!==null&&B!==void 0&&B.name)O+=`. Received an instance of ${A.constructor.name}`;else{let q=n(A,{depth:-1});O+=`. Received ${q}`}}else{let q=n(A,{colors:!1});q.length>25&&(q=`${q.slice(0,25)}...`),O+=`. Received type ${typeof A} (${q})`}return O},TypeError),g("ERR_INVALID_ARG_VALUE",(v,S,A="is invalid")=>{let O=n(S);return O.length>128&&(O=O.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${A}. Received ${O}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(v,S,A)=>{var O;let x=A!=null&&(O=A.constructor)!==null&&O!==void 0&&O.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${v} to be returned from the "${S}" function but got ${x}.`},TypeError),g("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let S,A=v.length;switch(v=(Array.isArray(v)?v:[v]).map(O=>`"${O}"`).join(" or "),A){case 1:S+=`The ${v[0]} argument`;break;case 2:S+=`The ${v[0]} and ${v[1]} arguments`;break;default:{let O=v.pop();S+=`The ${v.join(", ")}, and ${O} arguments`}break}return`${S} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(v,S,A)=>{u(S,'Missing "range" argument');let O;return Number.isInteger(A)&&Math.abs(A)>2**32?O=f(String(A)):typeof A=="bigint"?(O=String(A),(A>2n**32n||A<-(2n**32n))&&(O=f(O)),O+="n"):O=n(A),`The value of "${v}" is out of range. It must be ${S}. Received ${O}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:w,aggregateTwoErrors:y(_),hideStackFrames:y,codes:c}}),ua=ve((t,e)=>{de(),ge(),pe();var{ArrayIsArray:i,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:r,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:h,NumberParseInt:c,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:d,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=Rt(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:O}}=ei(),{normalizeEncoding:x}=an(),{isAsyncFunction:M,isArrayBufferView:T}=an().types,B={};function q(j){return j===(j|0)}function $(j){return j===j>>>0}var k=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function X(j,Q,_e){if(typeof j>"u"&&(j=_e),typeof j=="string"){if(f(k,j)===null)throw new S(Q,j,Y);j=c(j,8)}return Z(j,Q),j}var H=_((j,Q,_e=h,Me=l)=>{if(typeof j!="number")throw new v(Q,"number",j);if(!o(j))throw new A(Q,"an integer",j);if(j<_e||j>Me)throw new A(Q,`>= ${_e} && <= ${Me}`,j)}),re=_((j,Q,_e=-2147483648,Me=2147483647)=>{if(typeof j!="number")throw new v(Q,"number",j);if(!o(j))throw new A(Q,"an integer",j);if(j<_e||j>Me)throw new A(Q,`>= ${_e} && <= ${Me}`,j)}),Z=_((j,Q,_e=!1)=>{if(typeof j!="number")throw new v(Q,"number",j);if(!o(j))throw new A(Q,"an integer",j);let Me=_e?1:0,Oe=4294967295;if(j<Me||j>Oe)throw new A(Q,`>= ${Me} && <= ${Oe}`,j)});function V(j,Q){if(typeof j!="string")throw new v(Q,"string",j)}function he(j,Q,_e=void 0,Me){if(typeof j!="number")throw new v(Q,"number",j);if(_e!=null&&j<_e||Me!=null&&j>Me||(_e!=null||Me!=null)&&a(j))throw new A(Q,`${_e!=null?`>= ${_e}`:""}${_e!=null&&Me!=null?" && ":""}${Me!=null?`<= ${Me}`:""}`,j)}var ne=_((j,Q,_e)=>{if(!n(_e,j)){let Me="must be one of: "+r(s(_e,Oe=>typeof Oe=="string"?`'${Oe}'`:d(Oe)),", ");throw new S(Q,j,Me)}});function xe(j,Q){if(typeof j!="boolean")throw new v(Q,"boolean",j)}function I(j,Q,_e){return j==null||!u(j,Q)?_e:j[Q]}var K=_((j,Q,_e=null)=>{let Me=I(_e,"allowArray",!1),Oe=I(_e,"allowFunction",!1);if(!I(_e,"nullable",!1)&&j===null||!Me&&i(j)||typeof j!="object"&&(!Oe||typeof j!="function"))throw new v(Q,"Object",j)}),se=_((j,Q)=>{if(j!=null&&typeof j!="object"&&typeof j!="function")throw new v(Q,"a dictionary",j)}),Ee=_((j,Q,_e=0)=>{if(!i(j))throw new v(Q,"Array",j);if(j.length<_e){let Me=`must be longer than ${_e}`;throw new S(Q,j,Me)}});function le(j,Q){Ee(j,Q);for(let _e=0;_e<j.length;_e++)V(j[_e],`${Q}[${_e}]`)}function N(j,Q){Ee(j,Q);for(let _e=0;_e<j.length;_e++)xe(j[_e],`${Q}[${_e}]`)}function C(j,Q="signal"){if(V(j,Q),B[j]===void 0)throw B[g(j)]!==void 0?new O(j+" (signals must use all capital letters)"):new O(j)}var G=_((j,Q="buffer")=>{if(!T(j))throw new v(Q,["Buffer","TypedArray","DataView"],j)});function ce(j,Q){let _e=x(Q),Me=j.length;if(_e==="hex"&&Me%2!==0)throw new S("encoding",Q,`is invalid for data of length ${Me}`)}function ie(j,Q="Port",_e=!0){if(typeof j!="number"&&typeof j!="string"||typeof j=="string"&&y(j).length===0||+j!==+j>>>0||j>65535||j===0&&!_e)throw new w(Q,j,_e);return j|0}var te=_((j,Q)=>{if(j!==void 0&&(j===null||typeof j!="object"||!("aborted"in j)))throw new v(Q,"AbortSignal",j)}),fe=_((j,Q)=>{if(typeof j!="function")throw new v(Q,"Function",j)}),ue=_((j,Q)=>{if(typeof j!="function"||M(j))throw new v(Q,"Function",j)}),L=_((j,Q)=>{if(j!==void 0)throw new v(Q,"undefined",j)});function z(j,Q,_e){if(!n(_e,j))throw new v(Q,`('${r(_e,"|")}')`,j)}var W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function oe(j,Q){if(typeof j>"u"||!f(W,j))throw new S(Q,j,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function J(j){if(typeof j=="string")return oe(j,"hints"),j;if(i(j)){let Q=j.length,_e="";if(Q===0)return _e;for(let Me=0;Me<Q;Me++){let Oe=j[Me];oe(Oe,"hints"),_e+=Oe,Me!==Q-1&&(_e+=", ")}return _e}throw new S("hints",j,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:q,isUint32:$,parseFileMode:X,validateArray:Ee,validateStringArray:le,validateBooleanArray:N,validateBoolean:xe,validateBuffer:G,validateDictionary:se,validateEncoding:ce,validateFunction:fe,validateInt32:re,validateInteger:H,validateNumber:he,validateObject:K,validateOneOf:ne,validatePlainFunction:ue,validatePort:ie,validateSignalName:C,validateString:V,validateUint32:Z,validateUndefined:L,validateUnion:z,validateAbortSignal:te,validateLinkHeaderValue:J}}),fr=ve((t,e)=>{de(),ge(),pe();var i=e.exports={},n,r;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?r=clearTimeout:r=o}catch{r=o}})();function a(w){if(n===setTimeout)return setTimeout(w,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(w,0);try{return n(w,0)}catch{try{return n.call(null,w,0)}catch{return n.call(this,w,0)}}}function l(w){if(r===clearTimeout)return clearTimeout(w);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(w);try{return r(w)}catch{try{return r.call(null,w)}catch{return r.call(this,w)}}}var h=[],c=!1,u,f=-1;function d(){!c||!u||(c=!1,u.length?h=u.concat(h):f=-1,h.length&&g())}function g(){if(!c){var w=a(d);c=!0;for(var v=h.length;v;){for(u=h,h=[];++f<v;)u&&u[f].run();f=-1,v=h.length}u=null,c=!1,l(w)}}i.nextTick=function(w){var v=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)v[S-1]=arguments[S];h.push(new y(w,v)),h.length===1&&!c&&a(g)};function y(w,v){this.fun=w,this.array=v}y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function _(){}i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(w){return[]},i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),un=ve((t,e)=>{de(),ge(),pe();var{Symbol:i,SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:s}=Rt(),o=i("kDestroyed"),a=i("kIsErrored"),l=i("kIsReadable"),h=i("kIsDisturbed"),c=s("nodejs.webstream.isClosedPromise"),u=s("nodejs.webstream.controllerErrorFunction");function f(I,K=!1){var se;return!!(I&&typeof I.pipe=="function"&&typeof I.on=="function"&&(!K||typeof I.pause=="function"&&typeof I.resume=="function")&&(!I._writableState||((se=I._readableState)===null||se===void 0?void 0:se.readable)!==!1)&&(!I._writableState||I._readableState))}function d(I){var K;return!!(I&&typeof I.write=="function"&&typeof I.on=="function"&&(!I._readableState||((K=I._writableState)===null||K===void 0?void 0:K.writable)!==!1))}function g(I){return!!(I&&typeof I.pipe=="function"&&I._readableState&&typeof I.on=="function"&&typeof I.write=="function")}function y(I){return I&&(I._readableState||I._writableState||typeof I.write=="function"&&typeof I.on=="function"||typeof I.pipe=="function"&&typeof I.on=="function")}function _(I){return!!(I&&!y(I)&&typeof I.pipeThrough=="function"&&typeof I.getReader=="function"&&typeof I.cancel=="function")}function w(I){return!!(I&&!y(I)&&typeof I.getWriter=="function"&&typeof I.abort=="function")}function v(I){return!!(I&&!y(I)&&typeof I.readable=="object"&&typeof I.writable=="object")}function S(I){return _(I)||w(I)||v(I)}function A(I,K){return I==null?!1:K===!0?typeof I[n]=="function":K===!1?typeof I[r]=="function":typeof I[n]=="function"||typeof I[r]=="function"}function O(I){if(!y(I))return null;let K=I._writableState,se=I._readableState,Ee=K||se;return!!(I.destroyed||I[o]||Ee!=null&&Ee.destroyed)}function x(I){if(!d(I))return null;if(I.writableEnded===!0)return!0;let K=I._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function M(I,K){if(!d(I))return null;if(I.writableFinished===!0)return!0;let se=I._writableState;return se!=null&&se.errored?!1:typeof(se==null?void 0:se.finished)!="boolean"?null:!!(se.finished||K===!1&&se.ended===!0&&se.length===0)}function T(I){if(!f(I))return null;if(I.readableEnded===!0)return!0;let K=I._readableState;return!K||K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function B(I,K){if(!f(I))return null;let se=I._readableState;return se!=null&&se.errored?!1:typeof(se==null?void 0:se.endEmitted)!="boolean"?null:!!(se.endEmitted||K===!1&&se.ended===!0&&se.length===0)}function q(I){return I&&I[l]!=null?I[l]:typeof(I==null?void 0:I.readable)!="boolean"?null:O(I)?!1:f(I)&&I.readable&&!B(I)}function $(I){return typeof(I==null?void 0:I.writable)!="boolean"?null:O(I)?!1:d(I)&&I.writable&&!x(I)}function k(I,K){return y(I)?O(I)?!0:!((K==null?void 0:K.readable)!==!1&&q(I)||(K==null?void 0:K.writable)!==!1&&$(I)):null}function Y(I){var K,se;return y(I)?I.writableErrored?I.writableErrored:(K=(se=I._writableState)===null||se===void 0?void 0:se.errored)!==null&&K!==void 0?K:null:null}function X(I){var K,se;return y(I)?I.readableErrored?I.readableErrored:(K=(se=I._readableState)===null||se===void 0?void 0:se.errored)!==null&&K!==void 0?K:null:null}function H(I){if(!y(I))return null;if(typeof I.closed=="boolean")return I.closed;let K=I._writableState,se=I._readableState;return typeof(K==null?void 0:K.closed)=="boolean"||typeof(se==null?void 0:se.closed)=="boolean"?(K==null?void 0:K.closed)||(se==null?void 0:se.closed):typeof I._closed=="boolean"&&re(I)?I._closed:null}function re(I){return typeof I._closed=="boolean"&&typeof I._defaultKeepAlive=="boolean"&&typeof I._removedConnection=="boolean"&&typeof I._removedContLen=="boolean"}function Z(I){return typeof I._sent100=="boolean"&&re(I)}function V(I){var K;return typeof I._consuming=="boolean"&&typeof I._dumped=="boolean"&&((K=I.req)===null||K===void 0?void 0:K.upgradeOrConnect)===void 0}function he(I){if(!y(I))return null;let K=I._writableState,se=I._readableState,Ee=K||se;return!Ee&&Z(I)||!!(Ee&&Ee.autoDestroy&&Ee.emitClose&&Ee.closed===!1)}function ne(I){var K;return!!(I&&((K=I[h])!==null&&K!==void 0?K:I.readableDidRead||I.readableAborted))}function xe(I){var K,se,Ee,le,N,C,G,ce,ie,te;return!!(I&&((K=(se=(Ee=(le=(N=(C=I[a])!==null&&C!==void 0?C:I.readableErrored)!==null&&N!==void 0?N:I.writableErrored)!==null&&le!==void 0?le:(G=I._readableState)===null||G===void 0?void 0:G.errorEmitted)!==null&&Ee!==void 0?Ee:(ce=I._writableState)===null||ce===void 0?void 0:ce.errorEmitted)!==null&&se!==void 0?se:(ie=I._readableState)===null||ie===void 0?void 0:ie.errored)!==null&&K!==void 0?K:!((te=I._writableState)===null||te===void 0)&&te.errored))}e.exports={kDestroyed:o,isDisturbed:ne,kIsDisturbed:h,isErrored:xe,kIsErrored:a,isReadable:q,kIsReadable:l,kIsClosedPromise:c,kControllerErrorFunction:u,isClosed:H,isDestroyed:O,isDuplexNodeStream:g,isFinished:k,isIterable:A,isReadableNodeStream:f,isReadableStream:_,isReadableEnded:T,isReadableFinished:B,isReadableErrored:X,isNodeStream:y,isWebStream:S,isWritable:$,isWritableNodeStream:d,isWritableStream:w,isWritableEnded:x,isWritableFinished:M,isWritableErrored:Y,isServerRequest:V,isServerResponse:Z,willEmitClose:he,isTransformStream:v}}),In=ve((t,e)=>{de(),ge(),pe();var i=fr(),{AbortError:n,codes:r}=ei(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=r,{kEmptyObject:a,once:l}=an(),{validateAbortSignal:h,validateFunction:c,validateObject:u,validateBoolean:f}=ua(),{Promise:d,PromisePrototypeThen:g}=Rt(),{isClosed:y,isReadable:_,isReadableNodeStream:w,isReadableStream:v,isReadableFinished:S,isReadableErrored:A,isWritable:O,isWritableNodeStream:x,isWritableStream:M,isWritableFinished:T,isWritableErrored:B,isNodeStream:q,willEmitClose:$,kIsClosedPromise:k}=un();function Y(V){return V.setHeader&&typeof V.abort=="function"}var X=()=>{};function H(V,he,ne){var xe,I;if(arguments.length===2?(ne=he,he=a):he==null?he=a:u(he,"options"),c(ne,"callback"),h(he.signal,"options.signal"),ne=l(ne),v(V)||M(V))return re(V,he,ne);if(!q(V))throw new s("stream",["ReadableStream","WritableStream","Stream"],V);let K=(xe=he.readable)!==null&&xe!==void 0?xe:w(V),se=(I=he.writable)!==null&&I!==void 0?I:x(V),Ee=V._writableState,le=V._readableState,N=()=>{V.writable||ce()},C=$(V)&&w(V)===K&&x(V)===se,G=T(V,!1),ce=()=>{G=!0,V.destroyed&&(C=!1),!(C&&(!V.readable||K))&&(!K||ie)&&ne.call(V)},ie=S(V,!1),te=()=>{ie=!0,V.destroyed&&(C=!1),!(C&&(!V.writable||se))&&(!se||G)&&ne.call(V)},fe=J=>{ne.call(V,J)},ue=y(V),L=()=>{ue=!0;let J=B(V)||A(V);if(J&&typeof J!="boolean")return ne.call(V,J);if(K&&!ie&&w(V,!0)&&!S(V,!1))return ne.call(V,new o);if(se&&!G&&!T(V,!1))return ne.call(V,new o);ne.call(V)},z=()=>{ue=!0;let J=B(V)||A(V);if(J&&typeof J!="boolean")return ne.call(V,J);ne.call(V)},W=()=>{V.req.on("finish",ce)};Y(V)?(V.on("complete",ce),C||V.on("abort",L),V.req?W():V.on("request",W)):se&&!Ee&&(V.on("end",N),V.on("close",N)),!C&&typeof V.aborted=="boolean"&&V.on("aborted",L),V.on("end",te),V.on("finish",ce),he.error!==!1&&V.on("error",fe),V.on("close",L),ue?i.nextTick(L):Ee!=null&&Ee.errorEmitted||le!=null&&le.errorEmitted?C||i.nextTick(z):(!K&&(!C||_(V))&&(G||O(V)===!1)||!se&&(!C||O(V))&&(ie||_(V)===!1)||le&&V.req&&V.aborted)&&i.nextTick(z);let oe=()=>{ne=X,V.removeListener("aborted",L),V.removeListener("complete",ce),V.removeListener("abort",L),V.removeListener("request",W),V.req&&V.req.removeListener("finish",ce),V.removeListener("end",N),V.removeListener("close",N),V.removeListener("finish",ce),V.removeListener("end",te),V.removeListener("error",fe),V.removeListener("close",L)};if(he.signal&&!ue){let J=()=>{let j=ne;oe(),j.call(V,new n(void 0,{cause:he.signal.reason}))};if(he.signal.aborted)i.nextTick(J);else{let j=ne;ne=l((...Q)=>{he.signal.removeEventListener("abort",J),j.apply(V,Q)}),he.signal.addEventListener("abort",J)}}return oe}function re(V,he,ne){let xe=!1,I=X;if(he.signal)if(I=()=>{xe=!0,ne.call(V,new n(void 0,{cause:he.signal.reason}))},he.signal.aborted)i.nextTick(I);else{let se=ne;ne=l((...Ee)=>{he.signal.removeEventListener("abort",I),se.apply(V,Ee)}),he.signal.addEventListener("abort",I)}let K=(...se)=>{xe||i.nextTick(()=>ne.apply(V,se))};return g(V[k].promise,K,K),X}function Z(V,he){var ne;let xe=!1;return he===null&&(he=a),(ne=he)!==null&&ne!==void 0&&ne.cleanup&&(f(he.cleanup,"cleanup"),xe=he.cleanup),new d((I,K)=>{let se=H(V,he,Ee=>{xe&&se(),Ee?K(Ee):I()})})}e.exports=H,e.exports.finished=Z}),Dr=ve((t,e)=>{de(),ge(),pe();var i=fr(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:s}=ei(),{Symbol:o}=Rt(),{kDestroyed:a,isDestroyed:l,isFinished:h,isServerRequest:c}=un(),u=o("kDestroy"),f=o("kConstruct");function d(k,Y,X){k&&(k.stack,Y&&!Y.errored&&(Y.errored=k),X&&!X.errored&&(X.errored=k))}function g(k,Y){let X=this._readableState,H=this._writableState,re=H||X;return H!=null&&H.destroyed||X!=null&&X.destroyed?(typeof Y=="function"&&Y(),this):(d(k,H,X),H&&(H.destroyed=!0),X&&(X.destroyed=!0),re.constructed?y(this,k,Y):this.once(u,function(Z){y(this,n(Z,k),Y)}),this)}function y(k,Y,X){let H=!1;function re(Z){if(H)return;H=!0;let V=k._readableState,he=k._writableState;d(Z,he,V),he&&(he.closed=!0),V&&(V.closed=!0),typeof X=="function"&&X(Z),Z?i.nextTick(_,k,Z):i.nextTick(w,k)}try{k._destroy(Y||null,re)}catch(Z){re(Z)}}function _(k,Y){v(k,Y),w(k)}function w(k){let Y=k._readableState,X=k._writableState;X&&(X.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(X!=null&&X.emitClose||Y!=null&&Y.emitClose)&&k.emit("close")}function v(k,Y){let X=k._readableState,H=k._writableState;H!=null&&H.errorEmitted||X!=null&&X.errorEmitted||(H&&(H.errorEmitted=!0),X&&(X.errorEmitted=!0),k.emit("error",Y))}function S(){let k=this._readableState,Y=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=k.readable===!1,k.endEmitted=k.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function A(k,Y,X){let H=k._readableState,re=k._writableState;if(re!=null&&re.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||re!=null&&re.autoDestroy?k.destroy(Y):Y&&(Y.stack,re&&!re.errored&&(re.errored=Y),H&&!H.errored&&(H.errored=Y),X?i.nextTick(v,k,Y):v(k,Y))}function O(k,Y){if(typeof k._construct!="function")return;let X=k._readableState,H=k._writableState;X&&(X.constructed=!1),H&&(H.constructed=!1),k.once(f,Y),!(k.listenerCount(f)>1)&&i.nextTick(x,k)}function x(k){let Y=!1;function X(H){if(Y){A(k,H??new r);return}Y=!0;let re=k._readableState,Z=k._writableState,V=Z||re;re&&(re.constructed=!0),Z&&(Z.constructed=!0),V.destroyed?k.emit(u,H):H?A(k,H,!0):i.nextTick(M,k)}try{k._construct(H=>{i.nextTick(X,H)})}catch(H){i.nextTick(X,H)}}function M(k){k.emit(f)}function T(k){return(k==null?void 0:k.setHeader)&&typeof k.abort=="function"}function B(k){k.emit("close")}function q(k,Y){k.emit("error",Y),i.nextTick(B,k)}function $(k,Y){!k||l(k)||(!Y&&!h(k)&&(Y=new s),c(k)?(k.socket=null,k.destroy(Y)):T(k)?k.abort():T(k.req)?k.req.abort():typeof k.destroy=="function"?k.destroy(Y):typeof k.close=="function"?k.close():Y?i.nextTick(q,k,Y):i.nextTick(B,k),k.destroyed||(k[a]=!0))}e.exports={construct:O,destroyer:$,destroy:g,undestroy:S,errorOrDestroy:A}});function it(){it.init.call(this)}function wo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Xd(t){return t._maxListeners===void 0?it.defaultMaxListeners:t._maxListeners}function hu(t,e,i,n){var r,s,o,a;if(wo(i),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),o=s[e]),o===void 0)o=s[e]=i,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=Xd(t))>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return t}function K0(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cu(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=K0.bind(n);return r.listener=i,n.wrapFn=r,r}function uu(t,e,i){var n=t._events;if(n===void 0)return[];var r=n[e];return r===void 0?[]:typeof r=="function"?i?[r.listener||r]:[r]:i?function(s){for(var o=new Array(s.length),a=0;a<o.length;++a)o[a]=s[a].listener||s[a];return o}(r):Jd(r,r.length)}function fu(t){var e=this._events;if(e!==void 0){var i=e[t];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}function Jd(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}var du,pu,Ln,Na,Fa,Ua,ni,gu=Ut(()=>{de(),ge(),pe(),Ln=typeof Reflect=="object"?Reflect:null,Na=Ln&&typeof Ln.apply=="function"?Ln.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},pu=Ln&&typeof Ln.ownKeys=="function"?Ln.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},Fa=Number.isNaN||function(t){return t!=t},du=it,it.EventEmitter=it,it.prototype._events=void 0,it.prototype._eventsCount=0,it.prototype._maxListeners=void 0,Ua=10,Object.defineProperty(it,"defaultMaxListeners",{enumerable:!0,get:function(){return Ua},set:function(t){if(typeof t!="number"||t<0||Fa(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ua=t}}),it.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},it.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Fa(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},it.prototype.getMaxListeners=function(){return Xd(this)},it.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n=t==="error",r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=r[t];if(a===void 0)return!1;if(typeof a=="function")Na(a,this,e);else{var l=a.length,h=Jd(a,l);for(i=0;i<l;++i)Na(h[i],this,e)}return!0},it.prototype.addListener=function(t,e){return hu(this,t,e,!1)},it.prototype.on=it.prototype.addListener,it.prototype.prependListener=function(t,e){return hu(this,t,e,!0)},it.prototype.once=function(t,e){return wo(e),this.on(t,cu(this,t,e)),this},it.prototype.prependOnceListener=function(t,e){return wo(e),this.prependListener(t,cu(this,t,e)),this},it.prototype.removeListener=function(t,e){var i,n,r,s,o;if(wo(e),(n=this._events)===void 0)return this;if((i=n[t])===void 0)return this;if(i===e||i.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){o=i[s].listener,r=s;break}if(r<0)return this;r===0?i.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(i,r),i.length===1&&(n[t]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",t,o||e)}return this},it.prototype.off=it.prototype.removeListener,it.prototype.removeAllListeners=function(t){var e,i,n;if((i=this._events)===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var r,s=Object.keys(i);for(n=0;n<s.length;++n)(r=s[n])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=i[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},it.prototype.listeners=function(t){return uu(this,t,!0)},it.prototype.rawListeners=function(t){return uu(this,t,!1)},it.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):fu.call(t,e)},it.prototype.listenerCount=fu,it.prototype.eventNames=function(){return this._eventsCount>0?pu(this._events):[]},ni=du,ni.EventEmitter,ni.defaultMaxListeners,ni.init,ni.listenerCount,ni.EventEmitter,ni.defaultMaxListeners,ni.init,ni.listenerCount}),dr={};ur(dr,{EventEmitter:()=>Zd,default:()=>ni,defaultMaxListeners:()=>ep,init:()=>tp,listenerCount:()=>ip,on:()=>np,once:()=>rp});var Zd,ep,tp,ip,np,rp,Lr=Ut(()=>{de(),ge(),pe(),gu(),gu(),ni.once=function(t,e){return new Promise((i,n)=>{function r(...o){s!==void 0&&t.removeListener("error",s),i(o)}let s;e!=="error"&&(s=o=>{t.removeListener(name,r),n(o)},t.once("error",s)),t.once(e,r)})},ni.on=function(t,e){let i=[],n=[],r=null,s=!1,o={async next(){let h=i.shift();if(h)return createIterResult(h,!1);if(r){let c=Promise.reject(r);return r=null,c}return s?createIterResult(void 0,!0):new Promise((c,u)=>n.push({resolve:c,reject:u}))},async return(){t.removeListener(e,a),t.removeListener("error",l),s=!0;for(let h of n)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){r=h,t.removeListener(e,a),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),o;function a(...h){let c=n.shift();c?c.resolve(createIterResult(h,!1)):i.push(h)}function l(h){s=!0;let c=n.shift();c?c.reject(h):r=h,o.return()}},{EventEmitter:Zd,defaultMaxListeners:ep,init:tp,listenerCount:ip,on:np,once:rp}=ni}),cc=ve((t,e)=>{de(),ge(),pe();var{ArrayIsArray:i,ObjectSetPrototypeOf:n}=Rt(),{EventEmitter:r}=(Lr(),at(dr));function s(a){r.call(this,a)}n(s.prototype,r.prototype),n(s,r),s.prototype.pipe=function(a,l){let h=this;function c(w){a.writable&&a.write(w)===!1&&h.pause&&h.pause()}h.on("data",c);function u(){h.readable&&h.resume&&h.resume()}a.on("drain",u),!a._isStdio&&(!l||l.end!==!1)&&(h.on("end",d),h.on("close",g));let f=!1;function d(){f||(f=!0,a.end())}function g(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function y(w){_(),r.listenerCount(this,"error")===0&&this.emit("error",w)}o(h,"error",y),o(a,"error",y);function _(){h.removeListener("data",c),a.removeListener("drain",u),h.removeListener("end",d),h.removeListener("close",g),h.removeListener("error",y),a.removeListener("error",y),h.removeListener("end",_),h.removeListener("close",_),a.removeListener("close",_)}return h.on("end",_),h.on("close",_),a.on("close",_),a.emit("pipe",h),a};function o(a,l,h){if(typeof a.prependListener=="function")return a.prependListener(l,h);!a._events||!a._events[l]?a.on(l,h):i(a._events[l])?a._events[l].unshift(h):a._events[l]=[h,a._events[l]]}e.exports={Stream:s,prependListener:o}}),fa=ve((t,e)=>{de(),ge(),pe();var{AbortError:i,codes:n}=ei(),{isNodeStream:r,isWebStream:s,kControllerErrorFunction:o}=un(),a=In(),{ERR_INVALID_ARG_TYPE:l}=n,h=(c,u)=>{if(typeof c!="object"||!("aborted"in c))throw new l(u,"AbortSignal",c)};e.exports.addAbortSignal=function(c,u){if(h(c,"signal"),!r(u)&&!s(u))throw new l("stream",["ReadableStream","WritableStream","Stream"],u);return e.exports.addAbortSignalNoValidate(c,u)},e.exports.addAbortSignalNoValidate=function(c,u){if(typeof c!="object"||!("aborted"in c))return u;let f=r(u)?()=>{u.destroy(new i(void 0,{cause:c.reason}))}:()=>{u[o](new i(void 0,{cause:c.reason}))};return c.aborted?f():(c.addEventListener("abort",f),a(u,()=>c.removeEventListener("abort",f))),u}}),Q0=ve((t,e)=>{de(),ge(),pe();var{StringPrototypeSlice:i,SymbolIterator:n,TypedArrayPrototypeSet:r,Uint8Array:s}=Rt(),{Buffer:o}=(Wt(),at(jt)),{inspect:a}=an();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let h={data:l,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(l){let h={data:l,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let h=this.head,c=""+h.data;for(;(h=h.next)!==null;)c+=l+h.data;return c}concat(l){if(this.length===0)return o.alloc(0);let h=o.allocUnsafe(l>>>0),c=this.head,u=0;for(;c;)r(h,c.data,u),u+=c.data.length,c=c.next;return h}consume(l,h){let c=this.head.data;if(l<c.length){let u=c.slice(0,l);return this.head.data=c.slice(l),u}return l===c.length?this.shift():h?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[n](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let h="",c=this.head,u=0;do{let f=c.data;if(l>f.length)h+=f,l-=f.length;else{l===f.length?(h+=f,++u,c.next?this.head=c.next:this.head=this.tail=null):(h+=i(f,0,l),this.head=c,c.data=i(f,l));break}++u}while((c=c.next)!==null);return this.length-=u,h}_getBuffer(l){let h=o.allocUnsafe(l),c=l,u=this.head,f=0;do{let d=u.data;if(l>d.length)r(h,d,c-l),l-=d.length;else{l===d.length?(r(h,d,c-l),++f,u.next?this.head=u.next:this.head=this.tail=null):(r(h,new s(d.buffer,d.byteOffset,l),c-l),this.head=u,u.data=d.slice(l));break}++f}while((u=u.next)!==null);return this.length-=f,h}[Symbol.for("nodejs.util.inspect.custom")](l,h){return a(this,{...h,depth:0,customInspect:!1})}}}),uc=ve((t,e)=>{de(),ge(),pe();var{MathFloor:i,NumberIsInteger:n}=Rt(),{ERR_INVALID_ARG_VALUE:r}=ei().codes;function s(l,h,c){return l.highWaterMark!=null?l.highWaterMark:h?l[c]:null}function o(l){return l?16:16*1024}function a(l,h,c,u){let f=s(h,u,c);if(f!=null){if(!n(f)||f<0){let d=u?`options.${c}`:"options.highWaterMark";throw new r(d,f)}return i(f)}return o(l.objectMode)}e.exports={getHighWaterMark:a,getDefaultHighWaterMark:o}});function mu(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return i===-1&&(i=e),[i,i===e?0:4-i%4]}function X0(t,e,i){for(var n,r,s=[],o=e;o<i;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(gi[(r=n)>>18&63]+gi[r>>12&63]+gi[r>>6&63]+gi[63&r]);return s.join("")}function Xi(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,be.prototype),e}function be(t,e,i){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wh(t)}return sp(t,e,i)}function sp(t,e,i){if(typeof t=="string")return function(s,o){if(typeof o=="string"&&o!==""||(o="utf8"),!be.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var a=0|ap(s,o),l=Xi(a),h=l.write(s,o);return h!==a&&(l=l.slice(0,h)),l}(t,e);if(ArrayBuffer.isView(t))return ja(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Ji(t,ArrayBuffer)||t&&Ji(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ji(t,SharedArrayBuffer)||t&&Ji(t.buffer,SharedArrayBuffer)))return J0(t,e,i);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return be.from(n,e,i);var r=function(s){if(be.isBuffer(s)){var o=0|fc(s.length),a=Xi(o);return a.length===0||s.copy(a,0,0,o),a}if(s.length!==void 0)return typeof s.length!="number"||dc(s.length)?Xi(0):ja(s);if(s.type==="Buffer"&&Array.isArray(s.data))return ja(s.data)}(t);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return be.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function op(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function wh(t){return op(t),Xi(t<0?0:0|fc(t))}function ja(t){for(var e=t.length<0?0:0|fc(t.length),i=Xi(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function J0(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&i===void 0?new Uint8Array(t):i===void 0?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(n,be.prototype),n}function fc(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|t}function ap(t,e){if(be.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Ji(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&i===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return vh(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return up(t).length;default:if(r)return n?-1:vh(t).length;e=(""+e).toLowerCase(),r=!0}}function Z0(t,e,i){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return lb(this,e,i);case"utf8":case"utf-8":return hp(this,e,i);case"ascii":return ob(this,e,i);case"latin1":case"binary":return ab(this,e,i);case"base64":return sb(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hb(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Bn(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function bu(t,e,i,n,r){if(t.length===0)return-1;if(typeof i=="string"?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),dc(i=+i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if(typeof e=="string"&&(e=be.from(e,n)),be.isBuffer(e))return e.length===0?-1:yu(t,e,i,n,r);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):yu(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function yu(t,e,i,n,r){var s,o=1,a=t.length,l=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,i/=2}function h(d,g){return o===1?d[g]:d.readUInt16BE(g*o)}if(r){var c=-1;for(s=i;s<a;s++)if(h(t,s)===h(e,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===l)return c*o}else c!==-1&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var u=!0,f=0;f<l;f++)if(h(t,s+f)!==h(e,f)){u=!1;break}if(u)return s}return-1}function eb(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(dc(a))return o;t[i+o]=a}return o}function tb(t,e,i,n){return da(vh(e,t.length-i),t,i,n)}function lp(t,e,i,n){return da(function(r){for(var s=[],o=0;o<r.length;++o)s.push(255&r.charCodeAt(o));return s}(e),t,i,n)}function ib(t,e,i,n){return lp(t,e,i,n)}function nb(t,e,i,n){return da(up(e),t,i,n)}function rb(t,e,i,n){return da(function(r,s){for(var o,a,l,h=[],c=0;c<r.length&&!((s-=2)<0);++c)o=r.charCodeAt(c),a=o>>8,l=o%256,h.push(l),h.push(a);return h}(e,t.length-i),t,i,n)}function sb(t,e,i){return e===0&&i===t.length?Vo.fromByteArray(t):Vo.fromByteArray(t.slice(e,i))}function hp(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,o,a,l,h=t[r],c=null,u=h>239?4:h>223?3:h>191?2:1;if(r+u<=i)switch(u){case 1:h<128&&(c=h);break;case 2:(192&(s=t[r+1]))==128&&(l=(31&h)<<6|63&s)>127&&(c=l);break;case 3:s=t[r+1],o=t[r+2],(192&s)==128&&(192&o)==128&&(l=(15&h)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}c===null?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=u}return function(f){var d=f.length;if(d<=4096)return String.fromCharCode.apply(String,f);for(var g="",y=0;y<d;)g+=String.fromCharCode.apply(String,f.slice(y,y+=4096));return g}(n)}function ob(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function ab(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function lb(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=dp[t[s]];return r}function hb(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function Dt(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function Kt(t,e,i,n,r,s){if(!be.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function cp(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function _u(t,e,i,n,r){return e=+e,i>>>=0,r||cp(t,0,i,4),Kn.write(t,e,i,n,23,4),i+4}function wu(t,e,i,n,r){return e=+e,i>>>=0,r||cp(t,0,i,8),Kn.write(t,e,i,n,52,8),i+8}function vh(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function up(t){return Vo.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(fp,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function da(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function Ji(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function dc(t){return t!=t}function vu(t,e){for(var i in t)e[i]=t[i]}function Nn(t,e,i){return di(t,e,i)}function jr(t){var e;switch(this.encoding=function(i){var n=function(r){if(!r)return"utf8";for(var s;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(s)return;r=(""+r).toLowerCase(),s=!0}}(i);if(typeof n!="string"&&(qo.isEncoding===Sh||!Sh(i)))throw new Error("Unknown encoding: "+i);return n||i}(t),this.encoding){case"utf16le":this.text=ub,this.end=fb,e=4;break;case"utf8":this.fillLast=cb,e=4;break;case"base64":this.text=db,this.end=pb,e=3;break;default:return this.write=gb,this.end=mb,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=qo.allocUnsafe(e)}function Wa(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function cb(t){var e=this.lastTotal-this.lastNeed,i=function(n,r,s){if((192&r[0])!=128)return n.lastNeed=0,"ï¿½";if(n.lastNeed>1&&r.length>1){if((192&r[1])!=128)return n.lastNeed=1,"ï¿½";if(n.lastNeed>2&&r.length>2&&(192&r[2])!=128)return n.lastNeed=2,"ï¿½"}}(this,t);return i!==void 0?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function ub(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function fb(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function db(t,e){var i=(t.length-e)%3;return i===0?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function pb(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function gb(t){return t.toString(this.encoding)}function mb(t){return t&&t.length?this.write(t):""}var Su,gi,ti,xu,Vs,Fn,ku,Eu,ki,Vo,Kn,za,fp,dp,Wr,zr,di,Mu,kr,qo,Sh,Tu=Ut(()=>{for(de(),ge(),pe(),Su={byteLength:function(t){var e=mu(t),i=e[0],n=e[1];return 3*(i+n)/4-n},toByteArray:function(t){var e,i,n=mu(t),r=n[0],s=n[1],o=new xu(function(h,c,u){return 3*(c+u)/4-u}(0,r,s)),a=0,l=s>0?r-4:r;for(i=0;i<l;i+=4)e=ti[t.charCodeAt(i)]<<18|ti[t.charCodeAt(i+1)]<<12|ti[t.charCodeAt(i+2)]<<6|ti[t.charCodeAt(i+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return s===2&&(e=ti[t.charCodeAt(i)]<<2|ti[t.charCodeAt(i+1)]>>4,o[a++]=255&e),s===1&&(e=ti[t.charCodeAt(i)]<<10|ti[t.charCodeAt(i+1)]<<4|ti[t.charCodeAt(i+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o},fromByteArray:function(t){for(var e,i=t.length,n=i%3,r=[],s=0,o=i-n;s<o;s+=16383)r.push(X0(t,s,s+16383>o?o:s+16383));return n===1?(e=t[i-1],r.push(gi[e>>2]+gi[e<<4&63]+"==")):n===2&&(e=(t[i-2]<<8)+t[i-1],r.push(gi[e>>10]+gi[e>>4&63]+gi[e<<2&63]+"=")),r.join("")}},gi=[],ti=[],xu=typeof Uint8Array<"u"?Uint8Array:Array,Vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fn=0,ku=Vs.length;Fn<ku;++Fn)gi[Fn]=Vs[Fn],ti[Vs.charCodeAt(Fn)]=Fn;ti["-".charCodeAt(0)]=62,ti["_".charCodeAt(0)]=63,Eu={read:function(t,e,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?r-1:0,f=i?-1:1,d=t[e+u];for(u+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+u],u+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+u],u+=f,c-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},write:function(t,e,i,n,r,s){var o,a,l,h=8*s-r-1,c=(1<<h)-1,u=c>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,g=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[i+d]=255&a,d+=g,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;t[i+d]=255&o,d+=g,o/=256,h-=8);t[i+d-g]|=128*y}},ki={},Vo=Su,Kn=Eu,za=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,ki.Buffer=be,ki.SlowBuffer=function(t){return+t!=t&&(t=0),be.alloc(+t)},ki.INSPECT_MAX_BYTES=50,ki.kMaxLength=2147483647,be.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}(),be.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(be.prototype,"parent",{enumerable:!0,get:function(){if(be.isBuffer(this))return this.buffer}}),Object.defineProperty(be.prototype,"offset",{enumerable:!0,get:function(){if(be.isBuffer(this))return this.byteOffset}}),be.poolSize=8192,be.from=function(t,e,i){return sp(t,e,i)},Object.setPrototypeOf(be.prototype,Uint8Array.prototype),Object.setPrototypeOf(be,Uint8Array),be.alloc=function(t,e,i){return function(n,r,s){return op(n),n<=0?Xi(n):r!==void 0?typeof s=="string"?Xi(n).fill(r,s):Xi(n).fill(r):Xi(n)}(t,e,i)},be.allocUnsafe=function(t){return wh(t)},be.allocUnsafeSlow=function(t){return wh(t)},be.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==be.prototype},be.compare=function(t,e){if(Ji(t,Uint8Array)&&(t=be.from(t,t.offset,t.byteLength)),Ji(e,Uint8Array)&&(e=be.from(e,e.offset,e.byteLength)),!be.isBuffer(t)||!be.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},be.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},be.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return be.alloc(0);var i;if(e===void 0)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=be.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(Ji(s,Uint8Array)&&(s=be.from(s)),!be.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},be.byteLength=ap,be.prototype._isBuffer=!0,be.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Bn(this,e,e+1);return this},be.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Bn(this,e,e+3),Bn(this,e+1,e+2);return this},be.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Bn(this,e,e+7),Bn(this,e+1,e+6),Bn(this,e+2,e+5),Bn(this,e+3,e+4);return this},be.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?hp(this,0,t):Z0.apply(this,arguments)},be.prototype.toLocaleString=be.prototype.toString,be.prototype.equals=function(t){if(!be.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||be.compare(this,t)===0},be.prototype.inspect=function(){var t="",e=ki.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},za&&(be.prototype[za]=be.prototype.inspect),be.prototype.compare=function(t,e,i,n,r){if(Ji(t,Uint8Array)&&(t=be.from(t,t.offset,t.byteLength)),!be.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),i===void 0&&(i=t?t.length:0),n===void 0&&(n=0),r===void 0&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),l=this.slice(n,r),h=t.slice(e,i),c=0;c<a;++c)if(l[c]!==h[c]){s=l[c],o=h[c];break}return s<o?-1:o<s?1:0},be.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},be.prototype.indexOf=function(t,e,i){return bu(this,t,e,i,!0)},be.prototype.lastIndexOf=function(t,e,i){return bu(this,t,e,i,!1)},be.prototype.write=function(t,e,i,n){if(e===void 0)n="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,n===void 0&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((i===void 0||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return eb(this,t,e,i);case"utf8":case"utf-8":return tb(this,t,e,i);case"ascii":return lp(this,t,e,i);case"latin1":case"binary":return ib(this,t,e,i);case"base64":return nb(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rb(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},be.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},be.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=e===void 0?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,be.prototype),n},be.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||Dt(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},be.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||Dt(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},be.prototype.readUInt8=function(t,e){return t>>>=0,e||Dt(t,1,this.length),this[t]},be.prototype.readUInt16LE=function(t,e){return t>>>=0,e||Dt(t,2,this.length),this[t]|this[t+1]<<8},be.prototype.readUInt16BE=function(t,e){return t>>>=0,e||Dt(t,2,this.length),this[t]<<8|this[t+1]},be.prototype.readUInt32LE=function(t,e){return t>>>=0,e||Dt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},be.prototype.readUInt32BE=function(t,e){return t>>>=0,e||Dt(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},be.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||Dt(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},be.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||Dt(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},be.prototype.readInt8=function(t,e){return t>>>=0,e||Dt(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},be.prototype.readInt16LE=function(t,e){t>>>=0,e||Dt(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},be.prototype.readInt16BE=function(t,e){t>>>=0,e||Dt(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},be.prototype.readInt32LE=function(t,e){return t>>>=0,e||Dt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},be.prototype.readInt32BE=function(t,e){return t>>>=0,e||Dt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},be.prototype.readFloatLE=function(t,e){return t>>>=0,e||Dt(t,4,this.length),Kn.read(this,t,!0,23,4)},be.prototype.readFloatBE=function(t,e){return t>>>=0,e||Dt(t,4,this.length),Kn.read(this,t,!1,23,4)},be.prototype.readDoubleLE=function(t,e){return t>>>=0,e||Dt(t,8,this.length),Kn.read(this,t,!0,52,8)},be.prototype.readDoubleBE=function(t,e){return t>>>=0,e||Dt(t,8,this.length),Kn.read(this,t,!1,52,8)},be.prototype.writeUIntLE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||Kt(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},be.prototype.writeUIntBE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||Kt(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},be.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,1,255,0),this[e]=255&t,e+1},be.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},be.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},be.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},be.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},be.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);Kt(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&a===0&&this[e+s-1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},be.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);Kt(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&a===0&&this[e+s+1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},be.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},be.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},be.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},be.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},be.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||Kt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},be.prototype.writeFloatLE=function(t,e,i){return _u(this,t,e,!0,i)},be.prototype.writeFloatBE=function(t,e,i){return _u(this,t,e,!1,i)},be.prototype.writeDoubleLE=function(t,e,i){return wu(this,t,e,!0,i)},be.prototype.writeDoubleBE=function(t,e,i){return wu(this,t,e,!1,i)},be.prototype.copy=function(t,e,i,n){if(!be.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r=n-i;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,i,n);else if(this===t&&i<e&&e<n)for(var s=r-1;s>=0;--s)t[s+e]=this[s+i];else Uint8Array.prototype.set.call(t,this.subarray(i,n),e);return r},be.prototype.fill=function(t,e,i,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!be.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){var r=t.charCodeAt(0);(n==="utf8"&&r<128||n==="latin1")&&(t=r)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=i===void 0?this.length:i>>>0,t||(t=0),typeof t=="number")for(s=e;s<i;++s)this[s]=t;else{var o=be.isBuffer(t)?t:be.from(t,n),a=o.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this},fp=/[^+/0-9A-Za-z-_]/g,dp=function(){for(var t=new Array(256),e=0;e<16;++e)for(var i=16*e,n=0;n<16;++n)t[i+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}(),ki.Buffer,ki.INSPECT_MAX_BYTES,ki.kMaxLength,Wr={},zr=ki,di=zr.Buffer,di.from&&di.alloc&&di.allocUnsafe&&di.allocUnsafeSlow?Wr=zr:(vu(zr,Wr),Wr.Buffer=Nn),Nn.prototype=Object.create(di.prototype),vu(di,Nn),Nn.from=function(t,e,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return di(t,e,i)},Nn.alloc=function(t,e,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=di(t);return e!==void 0?typeof i=="string"?n.fill(e,i):n.fill(e):n.fill(0),n},Nn.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return di(t)},Nn.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return zr.SlowBuffer(t)},Mu=Wr,kr={},qo=Mu.Buffer,Sh=qo.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},kr.StringDecoder=jr,jr.prototype.write=function(t){if(t.length===0)return"";var e,i;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},jr.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},jr.prototype.text=function(t,e){var i=function(r,s,o){var a=s.length-1;if(a<o)return 0;var l=Wa(s[a]);return l>=0?(l>0&&(r.lastNeed=l-1),l):--a<o||l===-2?0:(l=Wa(s[a]))>=0?(l>0&&(r.lastNeed=l-2),l):--a<o||l===-2?0:(l=Wa(s[a]))>=0?(l>0&&(l===2?l=0:r.lastNeed=l-3),l):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},jr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},kr.StringDecoder,kr.StringDecoder}),pp={};ur(pp,{StringDecoder:()=>gp,default:()=>kr});var gp,bb=Ut(()=>{de(),ge(),pe(),Tu(),Tu(),gp=kr.StringDecoder}),mp=ve((t,e)=>{de(),ge(),pe();var i=fr(),{PromisePrototypeThen:n,SymbolAsyncIterator:r,SymbolIterator:s}=Rt(),{Buffer:o}=(Wt(),at(jt)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=ei().codes;function h(c,u,f){let d;if(typeof u=="string"||u instanceof o)return new c({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let g;if(u&&u[r])g=!0,d=u[r]();else if(u&&u[s])g=!1,d=u[s]();else throw new a("iterable",["Iterable"],u);let y=new c({objectMode:!0,highWaterMark:1,...f}),_=!1;y._read=function(){_||(_=!0,v())},y._destroy=function(S,A){n(w(S),()=>i.nextTick(A,S),O=>i.nextTick(A,O||S))};async function w(S){let A=S!=null,O=typeof d.throw=="function";if(A&&O){let{value:x,done:M}=await d.throw(S);if(await x,M)return}if(typeof d.return=="function"){let{value:x}=await d.return();await x}}async function v(){for(;;){try{let{value:S,done:A}=g?await d.next():d.next();if(A)y.push(null);else{let O=S&&typeof S.then=="function"?await S:S;if(O===null)throw _=!1,new l;if(y.push(O))continue;_=!1}}catch(S){y.destroy(S)}break}}return y}e.exports=h}),pa=ve((t,e)=>{de(),ge(),pe();var i=fr(),{ArrayPrototypeIndexOf:n,NumberIsInteger:r,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:h,Promise:c,SafeSet:u,SymbolAsyncIterator:f,Symbol:d}=Rt();e.exports=I,I.ReadableState=xe;var{EventEmitter:g}=(Lr(),at(dr)),{Stream:y,prependListener:_}=cc(),{Buffer:w}=(Wt(),at(jt)),{addAbortSignal:v}=fa(),S=In(),A=an().debuglog("stream",p=>{A=p}),O=Q0(),x=Dr(),{getHighWaterMark:M,getDefaultHighWaterMark:T}=uc(),{aggregateTwoErrors:B,codes:{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:Y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:X}}=ei(),{validateObject:H}=ua(),re=d("kPaused"),{StringDecoder:Z}=(bb(),at(pp)),V=mp();h(I.prototype,y.prototype),h(I,y);var he=()=>{},{errorOrDestroy:ne}=x;function xe(p,b,P){typeof P!="boolean"&&(P=b instanceof ln()),this.objectMode=!!(p&&p.objectMode),P&&(this.objectMode=this.objectMode||!!(p&&p.readableObjectMode)),this.highWaterMark=p?M(this,p,"readableHighWaterMark",P):T(!1),this.buffer=new O,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[re]=null,this.errorEmitted=!1,this.emitClose=!p||p.emitClose!==!1,this.autoDestroy=!p||p.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,p&&p.encoding&&(this.decoder=new Z(p.encoding),this.encoding=p.encoding)}function I(p){if(!(this instanceof I))return new I(p);let b=this instanceof ln();this._readableState=new xe(p,this,b),p&&(typeof p.read=="function"&&(this._read=p.read),typeof p.destroy=="function"&&(this._destroy=p.destroy),typeof p.construct=="function"&&(this._construct=p.construct),p.signal&&!b&&v(p.signal,this)),y.call(this,p),x.construct(this,()=>{this._readableState.needReadable&&ie(this,this._readableState)})}I.prototype.destroy=x.destroy,I.prototype._undestroy=x.undestroy,I.prototype._destroy=function(p,b){b(p)},I.prototype[g.captureRejectionSymbol]=function(p){this.destroy(p)},I.prototype.push=function(p,b){return K(this,p,b,!1)},I.prototype.unshift=function(p,b){return K(this,p,b,!0)};function K(p,b,P,R){A("readableAddChunk",b);let E=p._readableState,D;if(E.objectMode||(typeof b=="string"?(P=P||E.defaultEncoding,E.encoding!==P&&(R&&E.encoding?b=w.from(b,P).toString(E.encoding):(b=w.from(b,P),P=""))):b instanceof w?P="":y._isUint8Array(b)?(b=y._uint8ArrayToBuffer(b),P=""):b!=null&&(D=new q("chunk",["string","Buffer","Uint8Array"],b))),D)ne(p,D);else if(b===null)E.reading=!1,C(p,E);else if(E.objectMode||b&&b.length>0)if(R)if(E.endEmitted)ne(p,new X);else{if(E.destroyed||E.errored)return!1;se(p,E,b,!0)}else if(E.ended)ne(p,new Y);else{if(E.destroyed||E.errored)return!1;E.reading=!1,E.decoder&&!P?(b=E.decoder.write(b),E.objectMode||b.length!==0?se(p,E,b,!1):ie(p,E)):se(p,E,b,!1)}else R||(E.reading=!1,ie(p,E));return!E.ended&&(E.length<E.highWaterMark||E.length===0)}function se(p,b,P,R){b.flowing&&b.length===0&&!b.sync&&p.listenerCount("data")>0?(b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,p.emit("data",P)):(b.length+=b.objectMode?1:P.length,R?b.buffer.unshift(P):b.buffer.push(P),b.needReadable&&G(p)),ie(p,b)}I.prototype.isPaused=function(){let p=this._readableState;return p[re]===!0||p.flowing===!1},I.prototype.setEncoding=function(p){let b=new Z(p);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;let P=this._readableState.buffer,R="";for(let E of P)R+=b.write(E);return P.clear(),R!==""&&P.push(R),this._readableState.length=R.length,this};var Ee=1073741824;function le(p){if(p>Ee)throw new k("size","<= 1GiB",p);return p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p++,p}function N(p,b){return p<=0||b.length===0&&b.ended?0:b.objectMode?1:s(p)?b.flowing&&b.length?b.buffer.first().length:b.length:p<=b.length?p:b.ended?b.length:0}I.prototype.read=function(p){A("read",p),p===void 0?p=NaN:r(p)||(p=o(p,10));let b=this._readableState,P=p;if(p>b.highWaterMark&&(b.highWaterMark=le(p)),p!==0&&(b.emittedReadable=!1),p===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return A("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?_e(this):G(this),null;if(p=N(p,b),p===0&&b.ended)return b.length===0&&_e(this),null;let R=b.needReadable;if(A("need readable",R),(b.length===0||b.length-p<b.highWaterMark)&&(R=!0,A("length less than watermark",R)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)R=!1,A("reading, ended or constructing",R);else if(R){A("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0);try{this._read(b.highWaterMark)}catch(D){ne(this,D)}b.sync=!1,b.reading||(p=N(P,b))}let E;return p>0?E=Q(p,b):E=null,E===null?(b.needReadable=b.length<=b.highWaterMark,p=0):(b.length-=p,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),P!==p&&b.ended&&_e(this)),E!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",E)),E};function C(p,b){if(A("onEofChunk"),!b.ended){if(b.decoder){let P=b.decoder.end();P&&P.length&&(b.buffer.push(P),b.length+=b.objectMode?1:P.length)}b.ended=!0,b.sync?G(p):(b.needReadable=!1,b.emittedReadable=!0,ce(p))}}function G(p){let b=p._readableState;A("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(A("emitReadable",b.flowing),b.emittedReadable=!0,i.nextTick(ce,p))}function ce(p){let b=p._readableState;A("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(p.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,oe(p)}function ie(p,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,i.nextTick(te,p,b))}function te(p,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){let P=b.length;if(A("maybeReadMore read 0"),p.read(0),P===b.length)break}b.readingMore=!1}I.prototype._read=function(p){throw new $("_read()")},I.prototype.pipe=function(p,b){let P=this,R=this._readableState;R.pipes.length===1&&(R.multiAwaitDrain||(R.multiAwaitDrain=!0,R.awaitDrainWriters=new u(R.awaitDrainWriters?[R.awaitDrainWriters]:[]))),R.pipes.push(p),A("pipe count=%d opts=%j",R.pipes.length,b);let E=(!b||b.end!==!1)&&p!==i.stdout&&p!==i.stderr?U:At;R.endEmitted?i.nextTick(E):P.once("end",E),p.on("unpipe",D);function D(ot,ht){A("onunpipe"),ot===P&&ht&&ht.hasUnpiped===!1&&(ht.hasUnpiped=!0,we())}function U(){A("onend"),p.end()}let ee,ae=!1;function we(){A("cleanup"),p.removeListener("close",Bt),p.removeListener("finish",Ke),ee&&p.removeListener("drain",ee),p.removeListener("error",gt),p.removeListener("unpipe",D),P.removeListener("end",U),P.removeListener("end",At),P.removeListener("data",Be),ae=!0,ee&&R.awaitDrainWriters&&(!p._writableState||p._writableState.needDrain)&&ee()}function Ae(){ae||(R.pipes.length===1&&R.pipes[0]===p?(A("false write response, pause",0),R.awaitDrainWriters=p,R.multiAwaitDrain=!1):R.pipes.length>1&&R.pipes.includes(p)&&(A("false write response, pause",R.awaitDrainWriters.size),R.awaitDrainWriters.add(p)),P.pause()),ee||(ee=fe(P,p),p.on("drain",ee))}P.on("data",Be);function Be(ot){A("ondata");let ht=p.write(ot);A("dest.write",ht),ht===!1&&Ae()}function gt(ot){if(A("onerror",ot),At(),p.removeListener("error",gt),p.listenerCount("error")===0){let ht=p._writableState||p._readableState;ht&&!ht.errorEmitted?ne(p,ot):p.emit("error",ot)}}_(p,"error",gt);function Bt(){p.removeListener("finish",Ke),At()}p.once("close",Bt);function Ke(){A("onfinish"),p.removeListener("close",Bt),At()}p.once("finish",Ke);function At(){A("unpipe"),P.unpipe(p)}return p.emit("pipe",P),p.writableNeedDrain===!0?R.flowing&&Ae():R.flowing||(A("pipe resume"),P.resume()),p};function fe(p,b){return function(){let P=p._readableState;P.awaitDrainWriters===b?(A("pipeOnDrain",1),P.awaitDrainWriters=null):P.multiAwaitDrain&&(A("pipeOnDrain",P.awaitDrainWriters.size),P.awaitDrainWriters.delete(b)),(!P.awaitDrainWriters||P.awaitDrainWriters.size===0)&&p.listenerCount("data")&&p.resume()}}I.prototype.unpipe=function(p){let b=this._readableState,P={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!p){let E=b.pipes;b.pipes=[],this.pause();for(let D=0;D<E.length;D++)E[D].emit("unpipe",this,{hasUnpiped:!1});return this}let R=n(b.pipes,p);return R===-1?this:(b.pipes.splice(R,1),b.pipes.length===0&&this.pause(),p.emit("unpipe",this,P),this)},I.prototype.on=function(p,b){let P=y.prototype.on.call(this,p,b),R=this._readableState;return p==="data"?(R.readableListening=this.listenerCount("readable")>0,R.flowing!==!1&&this.resume()):p==="readable"&&!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,A("on readable",R.length,R.reading),R.length?G(this):R.reading||i.nextTick(L,this)),P},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(p,b){let P=y.prototype.removeListener.call(this,p,b);return p==="readable"&&i.nextTick(ue,this),P},I.prototype.off=I.prototype.removeListener,I.prototype.removeAllListeners=function(p){let b=y.prototype.removeAllListeners.apply(this,arguments);return(p==="readable"||p===void 0)&&i.nextTick(ue,this),b};function ue(p){let b=p._readableState;b.readableListening=p.listenerCount("readable")>0,b.resumeScheduled&&b[re]===!1?b.flowing=!0:p.listenerCount("data")>0?p.resume():b.readableListening||(b.flowing=null)}function L(p){A("readable nexttick read 0"),p.read(0)}I.prototype.resume=function(){let p=this._readableState;return p.flowing||(A("resume"),p.flowing=!p.readableListening,z(this,p)),p[re]=!1,this};function z(p,b){b.resumeScheduled||(b.resumeScheduled=!0,i.nextTick(W,p,b))}function W(p,b){A("resume",b.reading),b.reading||p.read(0),b.resumeScheduled=!1,p.emit("resume"),oe(p),b.flowing&&!b.reading&&p.read(0)}I.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[re]=!0,this};function oe(p){let b=p._readableState;for(A("flow",b.flowing);b.flowing&&p.read()!==null;);}I.prototype.wrap=function(p){let b=!1;p.on("data",R=>{!this.push(R)&&p.pause&&(b=!0,p.pause())}),p.on("end",()=>{this.push(null)}),p.on("error",R=>{ne(this,R)}),p.on("close",()=>{this.destroy()}),p.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&p.resume&&(b=!1,p.resume())};let P=l(p);for(let R=1;R<P.length;R++){let E=P[R];this[E]===void 0&&typeof p[E]=="function"&&(this[E]=p[E].bind(p))}return this},I.prototype[f]=function(){return J(this)},I.prototype.iterator=function(p){return p!==void 0&&H(p,"options"),J(this,p)};function J(p,b){typeof p.read!="function"&&(p=I.wrap(p,{objectMode:!0}));let P=j(p,b);return P.stream=p,P}async function*j(p,b){let P=he;function R(U){this===p?(P(),P=he):P=U}p.on("readable",R);let E,D=S(p,{writable:!1},U=>{E=U?B(E,U):null,P(),P=he});try{for(;;){let U=p.destroyed?null:p.read();if(U!==null)yield U;else{if(E)throw E;if(E===null)return;await new c(R)}}}catch(U){throw E=B(E,U),E}finally{(E||(b==null?void 0:b.destroyOnReturn)!==!1)&&(E===void 0||p._readableState.autoDestroy)?x.destroyer(p,null):(p.off("readable",R),D())}}a(I.prototype,{readable:{__proto__:null,get(){let p=this._readableState;return!!p&&p.readable!==!1&&!p.destroyed&&!p.errorEmitted&&!p.endEmitted},set(p){this._readableState&&(this._readableState.readable=!!p)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(p){this._readableState&&(this._readableState.destroyed=p)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(xe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[re]!==!1},set(p){this[re]=!!p}}}),I._fromList=Q;function Q(p,b){if(b.length===0)return null;let P;return b.objectMode?P=b.buffer.shift():!p||p>=b.length?(b.decoder?P=b.buffer.join(""):b.buffer.length===1?P=b.buffer.first():P=b.buffer.concat(b.length),b.buffer.clear()):P=b.buffer.consume(p,b.decoder),P}function _e(p){let b=p._readableState;A("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,i.nextTick(Me,b,p))}function Me(p,b){if(A("endReadableNT",p.endEmitted,p.length),!p.errored&&!p.closeEmitted&&!p.endEmitted&&p.length===0){if(p.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)i.nextTick(Oe,b);else if(p.autoDestroy){let P=b._writableState;(!P||P.autoDestroy&&(P.finished||P.writable===!1))&&b.destroy()}}}function Oe(p){p.writable&&!p.writableEnded&&!p.destroyed&&p.end()}I.from=function(p,b){return V(I,p,b)};var Ye;function m(){return Ye===void 0&&(Ye={}),Ye}I.fromWeb=function(p,b){return m().newStreamReadableFromReadableStream(p,b)},I.toWeb=function(p,b){return m().newReadableStreamFromStreamReadable(p,b)},I.wrap=function(p,b){var P,R;return new I({objectMode:(P=(R=p.readableObjectMode)!==null&&R!==void 0?R:p.objectMode)!==null&&P!==void 0?P:!0,...b,destroy(E,D){x.destroyer(p,E),D(E)}}).wrap(p)}}),bp=ve((t,e)=>{de(),ge(),pe();var i=fr(),{ArrayPrototypeSlice:n,Error:r,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:h,Symbol:c,SymbolHasInstance:u}=Rt();e.exports=Z,Z.WritableState=H;var{EventEmitter:f}=(Lr(),at(dr)),d=cc().Stream,{Buffer:g}=(Wt(),at(jt)),y=Dr(),{addAbortSignal:_}=fa(),{getHighWaterMark:w,getDefaultHighWaterMark:v}=uc(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:O,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:B,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:$}=ei().codes,{errorOrDestroy:k}=y;l(Z.prototype,d.prototype),l(Z,d);function Y(){}var X=c("kOnFinished");function H(L,z,W){typeof W!="boolean"&&(W=z instanceof ln()),this.objectMode=!!(L&&L.objectMode),W&&(this.objectMode=this.objectMode||!!(L&&L.writableObjectMode)),this.highWaterMark=L?w(this,L,"writableHighWaterMark",W):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let oe=!!(L&&L.decodeStrings===!1);this.decodeStrings=!oe,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=I.bind(void 0,z),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,re(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function re(L){L.buffered=[],L.bufferedIndex=0,L.allBuffers=!0,L.allNoop=!0}H.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},o(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Z(L){let z=this instanceof ln();if(!z&&!s(Z,this))return new Z(L);this._writableState=new H(L,this,z),L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&_(L.signal,this)),d.call(this,L),y.construct(this,()=>{let W=this._writableState;W.writing||le(this,W),ce(this,W)})}o(Z,u,{__proto__:null,value:function(L){return s(this,L)?!0:this!==Z?!1:L&&L._writableState instanceof H}}),Z.prototype.pipe=function(){k(this,new x)};function V(L,z,W,oe){let J=L._writableState;if(typeof W=="function")oe=W,W=J.defaultEncoding;else{if(!W)W=J.defaultEncoding;else if(W!=="buffer"&&!g.isEncoding(W))throw new $(W);typeof oe!="function"&&(oe=Y)}if(z===null)throw new B;if(!J.objectMode)if(typeof z=="string")J.decodeStrings!==!1&&(z=g.from(z,W),W="buffer");else if(z instanceof g)W="buffer";else if(d._isUint8Array(z))z=d._uint8ArrayToBuffer(z),W="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],z);let j;return J.ending?j=new q:J.destroyed&&(j=new M("write")),j?(i.nextTick(oe,j),k(L,j,!0),j):(J.pendingcb++,he(L,J,z,W,oe))}Z.prototype.write=function(L,z,W){return V(this,L,z,W)===!0},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){let L=this._writableState;L.corked&&(L.corked--,L.writing||le(this,L))},Z.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=h(L)),!g.isEncoding(L))throw new $(L);return this._writableState.defaultEncoding=L,this};function he(L,z,W,oe,J){let j=z.objectMode?1:W.length;z.length+=j;let Q=z.length<z.highWaterMark;return Q||(z.needDrain=!0),z.writing||z.corked||z.errored||!z.constructed?(z.buffered.push({chunk:W,encoding:oe,callback:J}),z.allBuffers&&oe!=="buffer"&&(z.allBuffers=!1),z.allNoop&&J!==Y&&(z.allNoop=!1)):(z.writelen=j,z.writecb=J,z.writing=!0,z.sync=!0,L._write(W,oe,z.onwrite),z.sync=!1),Q&&!z.errored&&!z.destroyed}function ne(L,z,W,oe,J,j,Q){z.writelen=oe,z.writecb=Q,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new M("write")):W?L._writev(J,z.onwrite):L._write(J,j,z.onwrite),z.sync=!1}function xe(L,z,W,oe){--z.pendingcb,oe(W),Ee(z),k(L,W)}function I(L,z){let W=L._writableState,oe=W.sync,J=W.writecb;if(typeof J!="function"){k(L,new O);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,z?(z.stack,W.errored||(W.errored=z),L._readableState&&!L._readableState.errored&&(L._readableState.errored=z),oe?i.nextTick(xe,L,W,z,J):xe(L,W,z,J)):(W.buffered.length>W.bufferedIndex&&le(L,W),oe?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===J?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:J,stream:L,state:W},i.nextTick(K,W.afterWriteTickInfo)):se(L,W,1,J))}function K({stream:L,state:z,count:W,cb:oe}){return z.afterWriteTickInfo=null,se(L,z,W,oe)}function se(L,z,W,oe){for(!z.ending&&!L.destroyed&&z.length===0&&z.needDrain&&(z.needDrain=!1,L.emit("drain"));W-- >0;)z.pendingcb--,oe();z.destroyed&&Ee(z),ce(L,z)}function Ee(L){if(L.writing)return;for(let J=L.bufferedIndex;J<L.buffered.length;++J){var z;let{chunk:j,callback:Q}=L.buffered[J],_e=L.objectMode?1:j.length;L.length-=_e,Q((z=L.errored)!==null&&z!==void 0?z:new M("write"))}let W=L[X].splice(0);for(let J=0;J<W.length;J++){var oe;W[J]((oe=L.errored)!==null&&oe!==void 0?oe:new M("end"))}re(L)}function le(L,z){if(z.corked||z.bufferProcessing||z.destroyed||!z.constructed)return;let{buffered:W,bufferedIndex:oe,objectMode:J}=z,j=W.length-oe;if(!j)return;let Q=oe;if(z.bufferProcessing=!0,j>1&&L._writev){z.pendingcb-=j-1;let _e=z.allNoop?Y:Oe=>{for(let Ye=Q;Ye<W.length;++Ye)W[Ye].callback(Oe)},Me=z.allNoop&&Q===0?W:n(W,Q);Me.allBuffers=z.allBuffers,ne(L,z,!0,z.length,Me,"",_e),re(z)}else{do{let{chunk:_e,encoding:Me,callback:Oe}=W[Q];W[Q++]=null;let Ye=J?1:_e.length;ne(L,z,!1,Ye,_e,Me,Oe)}while(Q<W.length&&!z.writing);Q===W.length?re(z):Q>256?(W.splice(0,Q),z.bufferedIndex=0):z.bufferedIndex=Q}z.bufferProcessing=!1}Z.prototype._write=function(L,z,W){if(this._writev)this._writev([{chunk:L,encoding:z}],W);else throw new A("_write()")},Z.prototype._writev=null,Z.prototype.end=function(L,z,W){let oe=this._writableState;typeof L=="function"?(W=L,L=null,z=null):typeof z=="function"&&(W=z,z=null);let J;if(L!=null){let j=V(this,L,z);j instanceof r&&(J=j)}return oe.corked&&(oe.corked=1,this.uncork()),J||(!oe.errored&&!oe.ending?(oe.ending=!0,ce(this,oe,!0),oe.ended=!0):oe.finished?J=new T("end"):oe.destroyed&&(J=new M("end"))),typeof W=="function"&&(J||oe.finished?i.nextTick(W,J):oe[X].push(W)),this};function N(L){return L.ending&&!L.destroyed&&L.constructed&&L.length===0&&!L.errored&&L.buffered.length===0&&!L.finished&&!L.writing&&!L.errorEmitted&&!L.closeEmitted}function C(L,z){let W=!1;function oe(J){if(W){k(L,J??O());return}if(W=!0,z.pendingcb--,J){let j=z[X].splice(0);for(let Q=0;Q<j.length;Q++)j[Q](J);k(L,J,z.sync)}else N(z)&&(z.prefinished=!0,L.emit("prefinish"),z.pendingcb++,i.nextTick(ie,L,z))}z.sync=!0,z.pendingcb++;try{L._final(oe)}catch(J){oe(J)}z.sync=!1}function G(L,z){!z.prefinished&&!z.finalCalled&&(typeof L._final=="function"&&!z.destroyed?(z.finalCalled=!0,C(L,z)):(z.prefinished=!0,L.emit("prefinish")))}function ce(L,z,W){N(z)&&(G(L,z),z.pendingcb===0&&(W?(z.pendingcb++,i.nextTick((oe,J)=>{N(J)?ie(oe,J):J.pendingcb--},L,z)):N(z)&&(z.pendingcb++,ie(L,z))))}function ie(L,z){z.pendingcb--,z.finished=!0;let W=z[X].splice(0);for(let oe=0;oe<W.length;oe++)W[oe]();if(L.emit("finish"),z.autoDestroy){let oe=L._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||oe.readable===!1))&&L.destroy()}}a(Z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(L){this._writableState&&(this._writableState.destroyed=L)}},writable:{__proto__:null,get(){let L=this._writableState;return!!L&&L.writable!==!1&&!L.destroyed&&!L.errored&&!L.ending&&!L.ended},set(L){this._writableState&&(this._writableState.writable=!!L)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let L=this._writableState;return L?!L.destroyed&&!L.ending&&L.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var te=y.destroy;Z.prototype.destroy=function(L,z){let W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[X].length)&&i.nextTick(Ee,W),te.call(this,L,z),this},Z.prototype._undestroy=y.undestroy,Z.prototype._destroy=function(L,z){z(L)},Z.prototype[f.captureRejectionSymbol]=function(L){this.destroy(L)};var fe;function ue(){return fe===void 0&&(fe={}),fe}Z.fromWeb=function(L,z){return ue().newStreamWritableFromWritableStream(L,z)},Z.toWeb=function(L){return ue().newWritableStreamFromStreamWritable(L)}}),yb=ve((t,e)=>{de(),ge(),pe();var i=fr(),n=(Wt(),at(jt)),{isReadable:r,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:h,isDuplexNodeStream:c}=un(),u=In(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:g}}=ei(),{destroyer:y}=Dr(),_=ln(),w=pa(),{createDeferredPromise:v}=an(),S=mp(),A=globalThis.Blob||n.Blob,O=typeof A<"u"?function($){return $ instanceof A}:function($){return!1},x=globalThis.AbortController||hc().AbortController,{FunctionPrototypeCall:M}=Rt(),T=class extends _{constructor($){super($),($==null?void 0:$.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),($==null?void 0:$.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function $(k,Y){if(c(k))return k;if(l(k))return q({readable:k});if(h(k))return q({writable:k});if(a(k))return q({writable:!1,readable:!1});if(typeof k=="function"){let{value:H,write:re,final:Z,destroy:V}=B(k);if(o(H))return S(T,H,{objectMode:!0,write:re,final:Z,destroy:V});let he=H==null?void 0:H.then;if(typeof he=="function"){let ne,xe=M(he,H,I=>{if(I!=null)throw new g("nully","body",I)},I=>{y(ne,I)});return ne=new T({objectMode:!0,readable:!1,write:re,final(I){Z(async()=>{try{await xe,i.nextTick(I,null)}catch(K){i.nextTick(I,K)}})},destroy:V})}throw new g("Iterable, AsyncIterable or AsyncFunction",Y,H)}if(O(k))return $(k.arrayBuffer());if(o(k))return S(T,k,{objectMode:!0,writable:!1});if(typeof(k==null?void 0:k.writable)=="object"||typeof(k==null?void 0:k.readable)=="object"){let H=k!=null&&k.readable?l(k==null?void 0:k.readable)?k==null?void 0:k.readable:$(k.readable):void 0,re=k!=null&&k.writable?h(k==null?void 0:k.writable)?k==null?void 0:k.writable:$(k.writable):void 0;return q({readable:H,writable:re})}let X=k==null?void 0:k.then;if(typeof X=="function"){let H;return M(X,k,re=>{re!=null&&H.push(re),H.push(null)},re=>{y(H,re)}),H=new T({objectMode:!0,writable:!1,read(){}})}throw new d(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],k)};function B($){let{promise:k,resolve:Y}=v(),X=new x,H=X.signal;return{value:$(async function*(){for(;;){let re=k;k=null;let{chunk:Z,done:V,cb:he}=await re;if(i.nextTick(he),V)return;if(H.aborted)throw new f(void 0,{cause:H.reason});({promise:k,resolve:Y}=v()),yield Z}}(),{signal:H}),write(re,Z,V){let he=Y;Y=null,he({chunk:re,done:!1,cb:V})},final(re){let Z=Y;Y=null,Z({done:!0,cb:re})},destroy(re,Z){X.abort(),Z(re)}}}function q($){let k=$.readable&&typeof $.readable.read!="function"?w.wrap($.readable):$.readable,Y=$.writable,X=!!r(k),H=!!s(Y),re,Z,V,he,ne;function xe(I){let K=he;he=null,K?K(I):I&&ne.destroy(I)}return ne=new T({readableObjectMode:!!(k!=null&&k.readableObjectMode),writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readable:X,writable:H}),H&&(u(Y,I=>{H=!1,I&&y(k,I),xe(I)}),ne._write=function(I,K,se){Y.write(I,K)?se():re=se},ne._final=function(I){Y.end(),Z=I},Y.on("drain",function(){if(re){let I=re;re=null,I()}}),Y.on("finish",function(){if(Z){let I=Z;Z=null,I()}})),X&&(u(k,I=>{X=!1,I&&y(k,I),xe(I)}),k.on("readable",function(){if(V){let I=V;V=null,I()}}),k.on("end",function(){ne.push(null)}),ne._read=function(){for(;;){let I=k.read();if(I===null){V=ne._read;return}if(!ne.push(I))return}}),ne._destroy=function(I,K){!I&&he!==null&&(I=new f),V=null,re=null,Z=null,he===null?K(I):(he=K,y(Y,I),y(k,I))},ne}}),ln=ve((t,e)=>{de(),ge(),pe();var{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:r,ObjectSetPrototypeOf:s}=Rt();e.exports=l;var o=pa(),a=bp();s(l.prototype,o.prototype),s(l,o);{let f=r(a.prototype);for(let d=0;d<f.length;d++){let g=f[d];l.prototype[g]||(l.prototype[g]=a.prototype[g])}}function l(f){if(!(this instanceof l))return new l(f);o.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}i(l.prototype,{writable:{__proto__:null,...n(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(a.prototype,"writableLength")},writableFinished:{__proto__:null,...n(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});var h;function c(){return h===void 0&&(h={}),h}l.fromWeb=function(f,d){return c().newStreamDuplexFromReadableWritablePair(f,d)},l.toWeb=function(f){return c().newReadableWritablePairFromDuplex(f)};var u;l.from=function(f){return u||(u=yb()),u(f,"body")}}),yp=ve((t,e)=>{de(),ge(),pe();var{ObjectSetPrototypeOf:i,Symbol:n}=Rt();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:r}=ei().codes,s=ln(),{getHighWaterMark:o}=uc();i(l.prototype,s.prototype),i(l,s);var a=n("kCallback");function l(u){if(!(this instanceof l))return new l(u);let f=u?o(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),s.call(this,u),this._readableState.sync=!1,this[a]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",c)}function h(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,d)=>{if(f){u?u(f):this.destroy(f);return}d!=null&&this.push(d),this.push(null),u&&u()}):(this.push(null),u&&u())}function c(){this._final!==h&&h.call(this)}l.prototype._final=h,l.prototype._transform=function(u,f,d){throw new r("_transform()")},l.prototype._write=function(u,f,d){let g=this._readableState,y=this._writableState,_=g.length;this._transform(u,f,(w,v)=>{if(w){d(w);return}v!=null&&this.push(v),y.ended||_===g.length||g.length<g.highWaterMark?d():this[a]=d})},l.prototype._read=function(){if(this[a]){let u=this[a];this[a]=null,u()}}}),_p=ve((t,e)=>{de(),ge(),pe();var{ObjectSetPrototypeOf:i}=Rt();e.exports=r;var n=yp();i(r.prototype,n.prototype),i(r,n);function r(s){if(!(this instanceof r))return new r(s);n.call(this,s)}r.prototype._transform=function(s,o,a){a(null,s)}}),pc=ve((t,e)=>{de(),ge(),pe();var i=fr(),{ArrayIsArray:n,Promise:r,SymbolAsyncIterator:s}=Rt(),o=In(),{once:a}=an(),l=Dr(),h=ln(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:_}=ei(),{validateFunction:w,validateAbortSignal:v}=ua(),{isIterable:S,isReadable:A,isReadableNodeStream:O,isNodeStream:x,isTransformStream:M,isWebStream:T,isReadableStream:B,isReadableEnded:q}=un(),$=globalThis.AbortController||hc().AbortController,k,Y;function X(K,se,Ee){let le=!1;K.on("close",()=>{le=!0});let N=o(K,{readable:se,writable:Ee},C=>{le=!C});return{destroy:C=>{le||(le=!0,l.destroyer(K,C||new g("pipe")))},cleanup:N}}function H(K){return w(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function re(K){if(S(K))return K;if(O(K))return Z(K);throw new u("val",["Readable","Iterable","AsyncIterable"],K)}async function*Z(K){Y||(Y=pa()),yield*Y.prototype[s].call(K)}async function V(K,se,Ee,{end:le}){let N,C=null,G=te=>{if(te&&(N=te),C){let fe=C;C=null,fe()}},ce=()=>new r((te,fe)=>{N?fe(N):C=()=>{N?fe(N):te()}});se.on("drain",G);let ie=o(se,{readable:!1},G);try{se.writableNeedDrain&&await ce();for await(let te of K)se.write(te)||await ce();le&&se.end(),await ce(),Ee()}catch(te){Ee(N!==te?c(N,te):te)}finally{ie(),se.off("drain",G)}}async function he(K,se,Ee,{end:le}){M(se)&&(se=se.writable);let N=se.getWriter();try{for await(let C of K)await N.ready,N.write(C).catch(()=>{});await N.ready,le&&await N.close(),Ee()}catch(C){try{await N.abort(C),Ee(C)}catch(G){Ee(G)}}}function ne(...K){return xe(K,a(H(K)))}function xe(K,se,Ee){if(K.length===1&&n(K[0])&&(K=K[0]),K.length<2)throw new d("streams");let le=new $,N=le.signal,C=Ee==null?void 0:Ee.signal,G=[];v(C,"options.signal");function ce(){z(new _)}C==null||C.addEventListener("abort",ce);let ie,te,fe=[],ue=0;function L(j){z(j,--ue===0)}function z(j,Q){if(j&&(!ie||ie.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ie=j),!(!ie&&!Q)){for(;fe.length;)fe.shift()(ie);C==null||C.removeEventListener("abort",ce),le.abort(),Q&&(ie||G.forEach(_e=>_e()),i.nextTick(se,ie,te))}}let W;for(let j=0;j<K.length;j++){let Q=K[j],_e=j<K.length-1,Me=j>0,Oe=_e||(Ee==null?void 0:Ee.end)!==!1,Ye=j===K.length-1;if(x(Q)){let m=function(p){p&&p.name!=="AbortError"&&p.code!=="ERR_STREAM_PREMATURE_CLOSE"&&L(p)};if(Oe){let{destroy:p,cleanup:b}=X(Q,_e,Me);fe.push(p),A(Q)&&Ye&&G.push(b)}Q.on("error",m),A(Q)&&Ye&&G.push(()=>{Q.removeListener("error",m)})}if(j===0)if(typeof Q=="function"){if(W=Q({signal:N}),!S(W))throw new f("Iterable, AsyncIterable or Stream","source",W)}else S(Q)||O(Q)||M(Q)?W=Q:W=h.from(Q);else if(typeof Q=="function"){if(M(W)){var oe;W=re((oe=W)===null||oe===void 0?void 0:oe.readable)}else W=re(W);if(W=Q(W,{signal:N}),_e){if(!S(W,!0))throw new f("AsyncIterable",`transform[${j-1}]`,W)}else{var J;k||(k=_p());let m=new k({objectMode:!0}),p=(J=W)===null||J===void 0?void 0:J.then;if(typeof p=="function")ue++,p.call(W,R=>{te=R,R!=null&&m.write(R),Oe&&m.end(),i.nextTick(L)},R=>{m.destroy(R),i.nextTick(L,R)});else if(S(W,!0))ue++,V(W,m,L,{end:Oe});else if(B(W)||M(W)){let R=W.readable||W;ue++,V(R,m,L,{end:Oe})}else throw new f("AsyncIterable or Promise","destination",W);W=m;let{destroy:b,cleanup:P}=X(W,!1,!0);fe.push(b),Ye&&G.push(P)}}else if(x(Q)){if(O(W)){ue+=2;let m=I(W,Q,L,{end:Oe});A(Q)&&Ye&&G.push(m)}else if(M(W)||B(W)){let m=W.readable||W;ue++,V(m,Q,L,{end:Oe})}else if(S(W))ue++,V(W,Q,L,{end:Oe});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=Q}else if(T(Q)){if(O(W))ue++,he(re(W),Q,L,{end:Oe});else if(B(W)||S(W))ue++,he(W,Q,L,{end:Oe});else if(M(W))ue++,he(W.readable,Q,L,{end:Oe});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=Q}else W=h.from(Q)}return(N!=null&&N.aborted||C!=null&&C.aborted)&&i.nextTick(ce),W}function I(K,se,Ee,{end:le}){let N=!1;if(se.on("close",()=>{N||Ee(new y)}),K.pipe(se,{end:!1}),le){let C=function(){N=!0,se.end()};q(K)?i.nextTick(C):K.once("end",C)}else Ee();return o(K,{readable:!0,writable:!1},C=>{let G=K._readableState;C&&C.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?K.once("end",Ee).once("error",Ee):Ee(C)}),o(se,{readable:!1,writable:!0},Ee)}e.exports={pipelineImpl:xe,pipeline:ne}}),wp=ve((t,e)=>{de(),ge(),pe();var{pipeline:i}=pc(),n=ln(),{destroyer:r}=Dr(),{isNodeStream:s,isReadable:o,isWritable:a,isWebStream:l,isTransformStream:h,isWritableStream:c,isReadableStream:u}=un(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:g}}=ei(),y=In();e.exports=function(..._){if(_.length===0)throw new g("streams");if(_.length===1)return n.from(_[0]);let w=[..._];if(typeof _[0]=="function"&&(_[0]=n.from(_[0])),typeof _[_.length-1]=="function"){let k=_.length-1;_[k]=n.from(_[k])}for(let k=0;k<_.length;++k)if(!(!s(_[k])&&!l(_[k]))){if(k<_.length-1&&!(o(_[k])||u(_[k])||h(_[k])))throw new d(`streams[${k}]`,w[k],"must be readable");if(k>0&&!(a(_[k])||c(_[k])||h(_[k])))throw new d(`streams[${k}]`,w[k],"must be writable")}let v,S,A,O,x;function M(k){let Y=O;O=null,Y?Y(k):k?x.destroy(k):!$&&!q&&x.destroy()}let T=_[0],B=i(_,M),q=!!(a(T)||c(T)||h(T)),$=!!(o(B)||u(B)||h(B));if(x=new n({writableObjectMode:!!(T!=null&&T.writableObjectMode),readableObjectMode:!!(B!=null&&B.writableObjectMode),writable:q,readable:$}),q){if(s(T))x._write=function(Y,X,H){T.write(Y,X)?H():v=H},x._final=function(Y){T.end(),S=Y},T.on("drain",function(){if(v){let Y=v;v=null,Y()}});else if(l(T)){let Y=(h(T)?T.writable:T).getWriter();x._write=async function(X,H,re){try{await Y.ready,Y.write(X).catch(()=>{}),re()}catch(Z){re(Z)}},x._final=async function(X){try{await Y.ready,Y.close().catch(()=>{}),S=X}catch(H){X(H)}}}let k=h(B)?B.readable:B;y(k,()=>{if(S){let Y=S;S=null,Y()}})}if($){if(s(B))B.on("readable",function(){if(A){let k=A;A=null,k()}}),B.on("end",function(){x.push(null)}),x._read=function(){for(;;){let k=B.read();if(k===null){A=x._read;return}if(!x.push(k))return}};else if(l(B)){let k=(h(B)?B.readable:B).getReader();x._read=async function(){for(;;)try{let{value:Y,done:X}=await k.read();if(!x.push(Y))return;if(X){x.push(null);return}}catch{return}}}}return x._destroy=function(k,Y){!k&&O!==null&&(k=new f),A=null,v=null,S=null,O===null?Y(k):(O=Y,s(B)&&r(B,k))},x}}),_b=ve((t,e)=>{de(),ge(),pe();var i=globalThis.AbortController||hc().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:a}=ei(),{validateAbortSignal:l,validateInteger:h,validateObject:c}=ua(),u=Rt().Symbol("kWeak"),{finished:f}=In(),d=wp(),{addAbortSignalNoValidate:g}=fa(),{isWritable:y,isNodeStream:_}=un(),{ArrayPrototypePush:w,MathFloor:v,Number:S,NumberIsNaN:A,Promise:O,PromiseReject:x,PromisePrototypeThen:M,Symbol:T}=Rt(),B=T("kEmpty"),q=T("kEof");function $(le,N){if(N!=null&&c(N,"options"),(N==null?void 0:N.signal)!=null&&l(N.signal,"options.signal"),_(le)&&!y(le))throw new n("stream",le,"must be writable");let C=d(this,le);return N!=null&&N.signal&&g(N.signal,C),C}function k(le,N){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);N!=null&&c(N,"options"),(N==null?void 0:N.signal)!=null&&l(N.signal,"options.signal");let C=1;return(N==null?void 0:N.concurrency)!=null&&(C=v(N.concurrency)),h(C,"concurrency",1),(async function*(){var G,ce;let ie=new i,te=this,fe=[],ue=ie.signal,L={signal:ue},z=()=>ie.abort();N!=null&&(G=N.signal)!==null&&G!==void 0&&G.aborted&&z(),N==null||(ce=N.signal)===null||ce===void 0||ce.addEventListener("abort",z);let W,oe,J=!1;function j(){J=!0}async function Q(){try{for await(let Oe of te){var _e;if(J)return;if(ue.aborted)throw new a;try{Oe=le(Oe,L)}catch(Ye){Oe=x(Ye)}Oe!==B&&(typeof((_e=Oe)===null||_e===void 0?void 0:_e.catch)=="function"&&Oe.catch(j),fe.push(Oe),W&&(W(),W=null),!J&&fe.length&&fe.length>=C&&await new O(Ye=>{oe=Ye}))}fe.push(q)}catch(Oe){let Ye=x(Oe);M(Ye,void 0,j),fe.push(Ye)}finally{var Me;J=!0,W&&(W(),W=null),N==null||(Me=N.signal)===null||Me===void 0||Me.removeEventListener("abort",z)}}Q();try{for(;;){for(;fe.length>0;){let _e=await fe[0];if(_e===q)return;if(ue.aborted)throw new a;_e!==B&&(yield _e),fe.shift(),oe&&(oe(),oe=null)}await new O(_e=>{W=_e})}}finally{ie.abort(),J=!0,oe&&(oe(),oe=null)}}).call(this)}function Y(le=void 0){return le!=null&&c(le,"options"),(le==null?void 0:le.signal)!=null&&l(le.signal,"options.signal"),(async function*(){let N=0;for await(let G of this){var C;if(le!=null&&(C=le.signal)!==null&&C!==void 0&&C.aborted)throw new a({cause:le.signal.reason});yield[N++,G]}}).call(this)}async function X(le,N=void 0){for await(let C of V.call(this,le,N))return!0;return!1}async function H(le,N=void 0){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);return!await X.call(this,async(...C)=>!await le(...C),N)}async function re(le,N){for await(let C of V.call(this,le,N))return C}async function Z(le,N){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);async function C(G,ce){return await le(G,ce),B}for await(let G of k.call(this,C,N));}function V(le,N){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);async function C(G,ce){return await le(G,ce)?G:B}return k.call(this,C,N)}var he=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ne(le,N,C){var G;if(typeof le!="function")throw new r("reducer",["Function","AsyncFunction"],le);C!=null&&c(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal");let ce=arguments.length>1;if(C!=null&&(G=C.signal)!==null&&G!==void 0&&G.aborted){let L=new a(void 0,{cause:C.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(L)),L}let ie=new i,te=ie.signal;if(C!=null&&C.signal){let L={once:!0,[u]:this};C.signal.addEventListener("abort",()=>ie.abort(),L)}let fe=!1;try{for await(let L of this){var ue;if(fe=!0,C!=null&&(ue=C.signal)!==null&&ue!==void 0&&ue.aborted)throw new a;ce?N=await le(N,L,{signal:te}):(N=L,ce=!0)}if(!fe&&!ce)throw new he}finally{ie.abort()}return N}async function xe(le){le!=null&&c(le,"options"),(le==null?void 0:le.signal)!=null&&l(le.signal,"options.signal");let N=[];for await(let G of this){var C;if(le!=null&&(C=le.signal)!==null&&C!==void 0&&C.aborted)throw new a(void 0,{cause:le.signal.reason});w(N,G)}return N}function I(le,N){let C=k.call(this,le,N);return(async function*(){for await(let G of C)yield*G}).call(this)}function K(le){if(le=S(le),A(le))return 0;if(le<0)throw new o("number",">= 0",le);return le}function se(le,N=void 0){return N!=null&&c(N,"options"),(N==null?void 0:N.signal)!=null&&l(N.signal,"options.signal"),le=K(le),(async function*(){var C;if(N!=null&&(C=N.signal)!==null&&C!==void 0&&C.aborted)throw new a;for await(let ce of this){var G;if(N!=null&&(G=N.signal)!==null&&G!==void 0&&G.aborted)throw new a;le--<=0&&(yield ce)}}).call(this)}function Ee(le,N=void 0){return N!=null&&c(N,"options"),(N==null?void 0:N.signal)!=null&&l(N.signal,"options.signal"),le=K(le),(async function*(){var C;if(N!=null&&(C=N.signal)!==null&&C!==void 0&&C.aborted)throw new a;for await(let ce of this){var G;if(N!=null&&(G=N.signal)!==null&&G!==void 0&&G.aborted)throw new a;if(le-- >0)yield ce;else return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:Y,drop:se,filter:V,flatMap:I,map:k,take:Ee,compose:$},e.exports.promiseReturningOperators={every:H,forEach:Z,reduce:ne,toArray:xe,some:X,find:re}}),vp=ve((t,e)=>{de(),ge(),pe();var{ArrayPrototypePop:i,Promise:n}=Rt(),{isIterable:r,isNodeStream:s,isWebStream:o}=un(),{pipelineImpl:a}=pc(),{finished:l}=In();Sp();function h(...c){return new n((u,f)=>{let d,g,y=c[c.length-1];if(y&&typeof y=="object"&&!s(y)&&!r(y)&&!o(y)){let _=i(c);d=_.signal,g=_.end}a(c,(_,w)=>{_?f(_):u(w)},{signal:d,end:g})})}e.exports={finished:l,pipeline:h}}),Sp=ve((t,e)=>{de(),ge(),pe();var{Buffer:i}=(Wt(),at(jt)),{ObjectDefineProperty:n,ObjectKeys:r,ReflectApply:s}=Rt(),{promisify:{custom:o}}=an(),{streamReturningOperators:a,promiseReturningOperators:l}=_b(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=ei(),c=wp(),{pipeline:u}=pc(),{destroyer:f}=Dr(),d=In(),g=vp(),y=un(),_=e.exports=cc().Stream;_.isDisturbed=y.isDisturbed,_.isErrored=y.isErrored,_.isReadable=y.isReadable,_.Readable=pa();for(let v of r(a)){let S=function(...O){if(new.target)throw h();return _.Readable.from(s(A,this,O))},A=a[v];n(S,"name",{__proto__:null,value:A.name}),n(S,"length",{__proto__:null,value:A.length}),n(_.Readable.prototype,v,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(let v of r(l)){let S=function(...O){if(new.target)throw h();return s(A,this,O)},A=l[v];n(S,"name",{__proto__:null,value:A.name}),n(S,"length",{__proto__:null,value:A.length}),n(_.Readable.prototype,v,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}_.Writable=bp(),_.Duplex=ln(),_.Transform=yp(),_.PassThrough=_p(),_.pipeline=u;var{addAbortSignal:w}=fa();_.addAbortSignal=w,_.finished=d,_.destroy=f,_.compose=c,n(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),n(u,o,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),n(d,o,{__proto__:null,enumerable:!0,get(){return g.finished}}),_.Stream=_,_._isUint8Array=function(v){return v instanceof Uint8Array},_._uint8ArrayToBuffer=function(v){return i.from(v.buffer,v.byteOffset,v.byteLength)}}),pr=ve((t,e)=>{de(),ge(),pe();var i=Sp(),n=vp(),r=i.Readable.destroy;e.exports=i.Readable,e.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,e.exports._isUint8Array=i._isUint8Array,e.exports.isDisturbed=i.isDisturbed,e.exports.isErrored=i.isErrored,e.exports.isReadable=i.isReadable,e.exports.Readable=i.Readable,e.exports.Writable=i.Writable,e.exports.Duplex=i.Duplex,e.exports.Transform=i.Transform,e.exports.PassThrough=i.PassThrough,e.exports.addAbortSignal=i.addAbortSignal,e.exports.finished=i.finished,e.exports.destroy=i.destroy,e.exports.destroy=r,e.exports.pipeline=i.pipeline,e.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=i.Stream,e.exports.default=e.exports}),wb=ve((t,e)=>{de(),ge(),pe(),typeof Object.create=="function"?e.exports=function(i,n){n&&(i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(i,n){if(n){i.super_=n;var r=function(){};r.prototype=n.prototype,i.prototype=new r,i.prototype.constructor=i}}}),vb=ve((t,e)=>{de(),ge(),pe();var{Buffer:i}=(Wt(),at(jt)),n=Symbol.for("BufferList");function r(s){if(!(this instanceof r))return new r(s);r._init.call(this,s)}r._init=function(s){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},r.prototype._new=function(s){return new r(s)},r.prototype._offset=function(s){if(s===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){let l=o+this._bufs[a].length;if(s<l||a===this._bufs.length-1)return[a,s-o];o=l}},r.prototype._reverseOffset=function(s){let o=s[0],a=s[1];for(let l=0;l<o;l++)a+=this._bufs[l].length;return a},r.prototype.get=function(s){if(s>this.length||s<0)return;let o=this._offset(s);return this._bufs[o[0]][o[1]]},r.prototype.slice=function(s,o){return typeof s=="number"&&s<0&&(s+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,s,o)},r.prototype.copy=function(s,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return s||i.alloc(0);let h=!!s,c=this._offset(a),u=l-a,f=u,d=h&&o||0,g=c[1];if(a===0&&l===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:i.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(s,d),d+=this._bufs[y].length;return s}if(f<=this._bufs[c[0]].length-g)return h?this._bufs[c[0]].copy(s,o,g,g+f):this._bufs[c[0]].slice(g,g+f);h||(s=i.allocUnsafe(u));for(let y=c[0];y<this._bufs.length;y++){let _=this._bufs[y].length-g;if(f>_)this._bufs[y].copy(s,d,g),d+=_;else{this._bufs[y].copy(s,d,g,g+f),d+=_;break}f-=_,g&&(g=0)}return s.length>d?s.slice(0,d):s},r.prototype.shallowSlice=function(s,o){if(s=s||0,o=typeof o!="number"?this.length:o,s<0&&(s+=this.length),o<0&&(o+=this.length),s===o)return this._new();let a=this._offset(s),l=this._offset(o),h=this._bufs.slice(a[0],l[0]+1);return l[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,l[1]),a[1]!==0&&(h[0]=h[0].slice(a[1])),this._new(h)},r.prototype.toString=function(s,o,a){return this.slice(o,a).toString(s)},r.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},r.prototype.duplicate=function(){let s=this._new();for(let o=0;o<this._bufs.length;o++)s.append(this._bufs[o]);return s},r.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(i.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let o=0;o<s.length;o++)this.append(s[o]);else if(this._isBufferList(s))for(let o=0;o<s._bufs.length;o++)this.append(s._bufs[o]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(i.from(s));return this},r.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},r.prototype.indexOf=function(s,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=i.from([s]):typeof s=="string"?s=i.from(s,a):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=i.from(s.buffer,s.byteOffset,s.byteLength):i.isBuffer(s)||(s=i.from(s)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),s.length===0)return o>this.length?this.length:o;let l=this._offset(o),h=l[0],c=l[1];for(;h<this._bufs.length;h++){let u=this._bufs[h];for(;c<u.length;)if(u.length-c>=s.length){let f=u.indexOf(s,c);if(f!==-1)return this._reverseOffset([h,f]);c=u.length-s.length+1}else{let f=this._reverseOffset([h,c]);if(this._match(f,s))return f;c++}c=0}return-1},r.prototype._match=function(s,o){if(this.length-s<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get(s+a)!==o[a])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let o in s)(function(a){s[a]===null?r.prototype[a]=function(l,h){return this.slice(l,l+h)[a](0,h)}:r.prototype[a]=function(l=0){return this.slice(l,l+s[a])[a](0)}})(o)}(),r.prototype._isBufferList=function(s){return s instanceof r||r.isBufferList(s)},r.isBufferList=function(s){return s!=null&&s[n]},e.exports=r}),Sb=ve((t,e)=>{de(),ge(),pe();var i=pr().Duplex,n=wb(),r=vb();function s(o){if(!(this instanceof s))return new s(o);if(typeof o=="function"){this._callback=o;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),o=null}r._init.call(this,o),i.call(this)}n(s,i),Object.assign(s.prototype,r.prototype),s.prototype._new=function(o){return new s(o)},s.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},s.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},s.prototype.end=function(o){i.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},s.prototype._isBufferList=function(o){return o instanceof s||o instanceof r||s.isBufferList(o)},s.isBufferList=r.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=r}),xb=ve((t,e)=>{de(),ge(),pe();var i=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=i}),xp=ve((t,e)=>{de(),ge(),pe();var i=e.exports,{Buffer:n}=(Wt(),at(jt));i.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},i.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},i.requiredHeaderFlagsErrors={};for(let s in i.requiredHeaderFlags){let o=i.requiredHeaderFlags[s];i.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+i.types[s]+" packet"}i.codes={};for(let s in i.types){let o=i.types[s];i.codes[o]=s}i.CMD_SHIFT=4,i.CMD_MASK=240,i.DUP_MASK=8,i.QOS_MASK=3,i.QOS_SHIFT=1,i.RETAIN_MASK=1,i.VARBYTEINT_MASK=127,i.VARBYTEINT_FIN_MASK=128,i.VARBYTEINT_MAX=268435455,i.SESSIONPRESENT_MASK=1,i.SESSIONPRESENT_HEADER=n.from([i.SESSIONPRESENT_MASK]),i.CONNACK_HEADER=n.from([i.codes.connack<<i.CMD_SHIFT]),i.USERNAME_MASK=128,i.PASSWORD_MASK=64,i.WILL_RETAIN_MASK=32,i.WILL_QOS_MASK=24,i.WILL_QOS_SHIFT=3,i.WILL_FLAG_MASK=4,i.CLEAN_SESSION_MASK=2,i.CONNECT_HEADER=n.from([i.codes.connect<<i.CMD_SHIFT]),i.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},i.propertiesCodes={};for(let s in i.properties){let o=i.properties[s];i.propertiesCodes[o]=s}i.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function r(s){return[0,1,2].map(o=>[0,1].map(a=>[0,1].map(l=>{let h=n.alloc(1);return h.writeUInt8(i.codes[s]<<i.CMD_SHIFT|(a?i.DUP_MASK:0)|o<<i.QOS_SHIFT|l,0,!0),h})))}i.PUBLISH_HEADER=r("publish"),i.SUBSCRIBE_HEADER=r("subscribe"),i.SUBSCRIBE_OPTIONS_QOS_MASK=3,i.SUBSCRIBE_OPTIONS_NL_MASK=1,i.SUBSCRIBE_OPTIONS_NL_SHIFT=2,i.SUBSCRIBE_OPTIONS_RAP_MASK=1,i.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,i.SUBSCRIBE_OPTIONS_RH_MASK=3,i.SUBSCRIBE_OPTIONS_RH_SHIFT=4,i.SUBSCRIBE_OPTIONS_RH=[0,16,32],i.SUBSCRIBE_OPTIONS_NL=4,i.SUBSCRIBE_OPTIONS_RAP=8,i.SUBSCRIBE_OPTIONS_QOS=[0,1,2],i.UNSUBSCRIBE_HEADER=r("unsubscribe"),i.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},i.SUBACK_HEADER=n.from([i.codes.suback<<i.CMD_SHIFT]),i.VERSION3=n.from([3]),i.VERSION4=n.from([4]),i.VERSION5=n.from([5]),i.VERSION131=n.from([131]),i.VERSION132=n.from([132]),i.QOS=[0,1,2].map(s=>n.from([s])),i.EMPTY={pingreq:n.from([i.codes.pingreq<<4,0]),pingresp:n.from([i.codes.pingresp<<4,0]),disconnect:n.from([i.codes.disconnect<<4,0])},i.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},i.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},i.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},i.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},i.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},i.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),kb=ve((t,e)=>{de(),ge(),pe();var i=1e3,n=i*60,r=n*60,s=r*24,o=s*7,a=s*365.25;e.exports=function(f,d){d=d||{};var g=typeof f;if(g==="string"&&f.length>0)return l(f);if(g==="number"&&isFinite(f))return d.long?c(f):h(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function l(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var g=parseFloat(d[1]),y=(d[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*o;case"days":case"day":case"d":return g*s;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function h(f){var d=Math.abs(f);return d>=s?Math.round(f/s)+"d":d>=r?Math.round(f/r)+"h":d>=n?Math.round(f/n)+"m":d>=i?Math.round(f/i)+"s":f+"ms"}function c(f){var d=Math.abs(f);return d>=s?u(f,d,s,"day"):d>=r?u(f,d,r,"hour"):d>=n?u(f,d,n,"minute"):d>=i?u(f,d,i,"second"):f+" ms"}function u(f,d,g,y){var _=d>=g*1.5;return Math.round(f/g)+" "+y+(_?"s":"")}}),Eb=ve((t,e)=>{de(),ge(),pe();function i(n){s.debug=s,s.default=s,s.coerce=u,s.disable=l,s.enable=a,s.enabled=h,s.humanize=kb(),s.destroy=f,Object.keys(n).forEach(d=>{s[d]=n[d]}),s.names=[],s.skips=[],s.formatters={};function r(d){let g=0;for(let y=0;y<d.length;y++)g=(g<<5)-g+d.charCodeAt(y),g|=0;return s.colors[Math.abs(g)%s.colors.length]}s.selectColor=r;function s(d){let g,y=null,_,w;function v(...S){if(!v.enabled)return;let A=v,O=Number(new Date),x=O-(g||O);A.diff=x,A.prev=g,A.curr=O,g=O,S[0]=s.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let M=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(T,B)=>{if(T==="%%")return"%";M++;let q=s.formatters[B];if(typeof q=="function"){let $=S[M];T=q.call(A,$),S.splice(M,1),M--}return T}),s.formatArgs.call(A,S),(A.log||s.log).apply(A,S)}return v.namespace=d,v.useColors=s.useColors(),v.color=s.selectColor(d),v.extend=o,v.destroy=s.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(_!==s.namespaces&&(_=s.namespaces,w=s.enabled(d)),w),set:S=>{y=S}}),typeof s.init=="function"&&s.init(v),v}function o(d,g){let y=s(this.namespace+(typeof g>"u"?":":g)+d);return y.log=this.log,y}function a(d){s.save(d),s.namespaces=d,s.names=[],s.skips=[];let g,y=(typeof d=="string"?d:"").split(/[\s,]+/),_=y.length;for(g=0;g<_;g++)y[g]&&(d=y[g].replace(/\*/g,".*?"),d[0]==="-"?s.skips.push(new RegExp("^"+d.slice(1)+"$")):s.names.push(new RegExp("^"+d+"$")))}function l(){let d=[...s.names.map(c),...s.skips.map(c).map(g=>"-"+g)].join(",");return s.enable(""),d}function h(d){if(d[d.length-1]==="*")return!0;let g,y;for(g=0,y=s.skips.length;g<y;g++)if(s.skips[g].test(d))return!1;for(g=0,y=s.names.length;g<y;g++)if(s.names[g].test(d))return!0;return!1}function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}e.exports=i}),hn=ve((t,e)=>{de(),ge(),pe(),t.formatArgs=n,t.save=r,t.load=s,t.useColors=i,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;l.splice(1,0,h,"color: inherit");let c=0,u=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(c++,f==="%c"&&(u=c))}),l.splice(u,0,h)}t.log=console.debug||console.log||(()=>{});function r(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof Je<"u"&&"env"in Je&&(l=Je.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=Eb()(t);var{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),Mb=ve((t,e)=>{de(),ge(),pe();var i=Sb(),{EventEmitter:n}=(Lr(),at(dr)),r=xb(),s=xp(),o=hn()("mqtt-packet:parser"),a=class xh extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof xh?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new xh().parser(h)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new r,this.error=null,this._list=i(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),c=h>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let u=h&15,f=s.requiredHeaderFlags[c];return f!=null&&u!==f?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(h&s.RETAIN_MASK)!==0,this.packet.qos=h>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&s.DUP_MASK)!==0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),o("_parseLength %d",h.value),!!h}_parsePayload(){o("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return o("_parsePayload complete result: %s",h),h}_parseConnect(){o("_parseConnect");let h,c,u,f,d={},g=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));d.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,d.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,d.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let _=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),w=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(d.will)g.will={},g.will.retain=_,g.will.qos=w;else{if(_)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(w)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(g.properties=S)}let v=this._parseString();if(v===null)return this._emitError(new Error("Packet too short"));if(g.clientId=v,o("_parseConnect: packet.clientId: %s",g.clientId),d.will){if(g.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(g.will.properties=S)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=h,o("_parseConnect: packet.will.topic: %s",g.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=c,o("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(d.username){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse username"));g.username=f,o("_parseConnect: packet.username: %s",g.username)}if(d.password){if(u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse password"));g.password=u}return this.settings=g,o("_parseConnect: complete"),g}_parseConnack(){o("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(h.properties=u)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}h.payload=this._list.slice(this._pos,h.length),o("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){o("_parseSubscribe");let h=this.packet,c,u,f,d,g,y,_;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(h.properties=w)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(u=this._parseByte(),this.settings.protocolVersion===5){if(u&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(u&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(f=u&s.SUBSCRIBE_OPTIONS_QOS_MASK,f>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(u>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(u>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,d=u>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,d>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));_={topic:c,qos:f},this.settings.protocolVersion===5?(_.nl=y,_.rap=g,_.rh=d):this.settings.bridgeMode&&(_.rh=0,_.rap=!0,_.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",_),h.subscriptions.push(_)}}}_parseSuback(){o("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){o("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),h.unsubscriptions.push(c)}}}_parseUnsuback(){o("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(h.properties=c),h.granted=[];this._pos<this.packet.length;){let u=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[u])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(u)}}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}o("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}}return!0}_parseDisconnect(){let h=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(h.properties=c),o("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let c=this._parseNum(),u=c+this._pos;if(c===-1||u>this._list.length||u>this.packet.length)return null;let f=this._list.toString("utf8",this._pos,u);return this._pos+=c,o("_parseString: result: %s",f),f}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),c=h+this._pos;if(h===-1||c>this._list.length||c>this.packet.length)return null;let u=this._list.slice(this._pos,c);return this._pos+=h,o("_parseBuffer: result: %o",u),u}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){o("_parseVarByteNum");let c=4,u=0,f=1,d=0,g=!1,y,_=this._pos?this._pos:0;for(;u<c&&_+u<this._list.length;){if(y=this._list.readUInt8(_+u++),d+=f*(y&s.VARBYTEINT_MASK),f*=128,!(y&s.VARBYTEINT_FIN_MASK)){g=!0;break}if(this._list.length<=u)break}return!g&&u===c&&this._list.length>=u&&this._emitError(new Error("Invalid variable byte integer")),_&&(this._pos+=u),g?h?g={bytes:u,value:d}:g=d:g=!1,o("_parseVarByteNum: result: %o",g),g}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",h),h}_parseByType(h){switch(o("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");let h=this._parseVarByteNum(),c=this._pos+h,u={};for(;this._pos<c;){let f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;let d=s.propertiesCodes[f];if(!d)return this._emitError(new Error("Unknown property")),!1;if(d==="userProperties"){u[d]||(u[d]=Object.create(null));let g=this._parseByType(s.propertiesTypes[d]);if(u[d][g.name])if(Array.isArray(u[d][g.name]))u[d][g.name].push(g.value);else{let y=u[d][g.name];u[d][g.name]=[y],u[d][g.name].push(g.value)}else u[d][g.name]=g.value;continue}u[d]?Array.isArray(u[d])?u[d].push(this._parseByType(s.propertiesTypes[d])):(u[d]=[u[d]],u[d].push(this._parseByType(s.propertiesTypes[d]))):u[d]=this._parseByType(s.propertiesTypes[d])}return u}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new r,this._pos=0,!0}_emitError(h){o("_emitError",h),this.error=h,this.emit("error",h)}};e.exports=a}),Tb=ve((t,e)=>{de(),ge(),pe();var{Buffer:i}=(Wt(),at(jt)),n=65536,r={},s=i.isBuffer(i.from([1,2]).subarray(0,1));function o(c){let u=i.allocUnsafe(2);return u.writeUInt8(c>>8,0),u.writeUInt8(c&255,0+1),u}function a(){for(let c=0;c<n;c++)r[c]=o(c)}function l(c){let u=0,f=0,d=i.allocUnsafe(4);do u=c%128|0,c=c/128|0,c>0&&(u=u|128),d.writeUInt8(u,f++);while(c>0&&f<4);return c>0&&(f=0),s?d.subarray(0,f):d.slice(0,f)}function h(c){let u=i.allocUnsafe(4);return u.writeUInt32BE(c,0),u}e.exports={cache:r,generateCache:a,generateNumber:o,genBufVariableByteInt:l,generate4ByteBuffer:h}}),Ab=ve((t,e)=>{de(),ge(),pe(),typeof Je>"u"||!Je.version||Je.version.indexOf("v0.")===0||Je.version.indexOf("v1.")===0&&Je.version.indexOf("v1.8.")!==0?e.exports={nextTick:i}:e.exports=Je;function i(n,r,s,o){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,h;switch(a){case 0:case 1:return Je.nextTick(n);case 2:return Je.nextTick(function(){n.call(null,r)});case 3:return Je.nextTick(function(){n.call(null,r,s)});case 4:return Je.nextTick(function(){n.call(null,r,s,o)});default:for(l=new Array(a-1),h=0;h<l.length;)l[h++]=arguments[h];return Je.nextTick(function(){n.apply(null,l)})}}}),kp=ve((t,e)=>{de(),ge(),pe();var i=xp(),{Buffer:n}=(Wt(),at(jt)),r=n.allocUnsafe(0),s=n.from([0]),o=Tb(),a=Ab().nextTick,l=hn()("mqtt-packet:writeToStream"),h=o.cache,c=o.generateNumber,u=o.generateCache,f=o.genBufVariableByteInt,d=o.generate4ByteBuffer,g=Z,y=!0;function _(N,C,G){switch(l("generate called"),C.cork&&(C.cork(),a(w,C)),y&&(y=!1,u()),l("generate: packet.cmd: %s",N.cmd),N.cmd){case"connect":return v(N,C);case"connack":return S(N,C,G);case"publish":return A(N,C,G);case"puback":case"pubrec":case"pubrel":case"pubcomp":return O(N,C,G);case"subscribe":return x(N,C,G);case"suback":return M(N,C,G);case"unsubscribe":return T(N,C,G);case"unsuback":return B(N,C,G);case"pingreq":case"pingresp":return q(N,C);case"disconnect":return $(N,C,G);case"auth":return k(N,C,G);default:return C.destroy(new Error("Unknown command")),!1}}Object.defineProperty(_,"cacheNumbers",{get(){return g===Z},set(N){N?((!h||Object.keys(h).length===0)&&(y=!0),g=Z):(y=!1,g=V)}});function w(N){N.uncork()}function v(N,C,G){let ce=N||{},ie=ce.protocolId||"MQTT",te=ce.protocolVersion||4,fe=ce.will,ue=ce.clean,L=ce.keepalive||0,z=ce.clientId||"",W=ce.username,oe=ce.password,J=ce.properties;ue===void 0&&(ue=!0);let j=0;if(!ie||typeof ie!="string"&&!n.isBuffer(ie))return C.destroy(new Error("Invalid protocolId")),!1;if(j+=ie.length+2,te!==3&&te!==4&&te!==5)return C.destroy(new Error("Invalid protocol version")),!1;if(j+=1,(typeof z=="string"||n.isBuffer(z))&&(z||te>=4)&&(z||ue))j+=n.byteLength(z)+2;else{if(te<4)return C.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ue*1===0)return C.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof L!="number"||L<0||L>65535||L%1!==0)return C.destroy(new Error("Invalid keepalive")),!1;j+=2,j+=1;let Q,_e;if(te===5){if(Q=xe(C,J),!Q)return!1;j+=Q.length}if(fe){if(typeof fe!="object")return C.destroy(new Error("Invalid will")),!1;if(!fe.topic||typeof fe.topic!="string")return C.destroy(new Error("Invalid will topic")),!1;if(j+=n.byteLength(fe.topic)+2,j+=2,fe.payload)if(fe.payload.length>=0)typeof fe.payload=="string"?j+=n.byteLength(fe.payload):j+=fe.payload.length;else return C.destroy(new Error("Invalid will payload")),!1;if(_e={},te===5){if(_e=xe(C,fe.properties),!_e)return!1;j+=_e.length}}let Me=!1;if(W!=null)if(le(W))Me=!0,j+=n.byteLength(W)+2;else return C.destroy(new Error("Invalid username")),!1;if(oe!=null){if(!Me)return C.destroy(new Error("Username is required to use password")),!1;if(le(oe))j+=Ee(oe)+2;else return C.destroy(new Error("Invalid password")),!1}C.write(i.CONNECT_HEADER),X(C,j),ne(C,ie),ce.bridgeMode&&(te+=128),C.write(te===131?i.VERSION131:te===132?i.VERSION132:te===4?i.VERSION4:te===5?i.VERSION5:i.VERSION3);let Oe=0;return Oe|=W!=null?i.USERNAME_MASK:0,Oe|=oe!=null?i.PASSWORD_MASK:0,Oe|=fe&&fe.retain?i.WILL_RETAIN_MASK:0,Oe|=fe&&fe.qos?fe.qos<<i.WILL_QOS_SHIFT:0,Oe|=fe?i.WILL_FLAG_MASK:0,Oe|=ue?i.CLEAN_SESSION_MASK:0,C.write(n.from([Oe])),g(C,L),te===5&&Q.write(),ne(C,z),fe&&(te===5&&_e.write(),H(C,fe.topic),ne(C,fe.payload)),W!=null&&ne(C,W),oe!=null&&ne(C,oe),!0}function S(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ce===5?ie.reasonCode:ie.returnCode,fe=ie.properties,ue=2;if(typeof te!="number")return C.destroy(new Error("Invalid return code")),!1;let L=null;if(ce===5){if(L=xe(C,fe),!L)return!1;ue+=L.length}return C.write(i.CONNACK_HEADER),X(C,ue),C.write(ie.sessionPresent?i.SESSIONPRESENT_HEADER:s),C.write(n.from([te])),L==null||L.write(),!0}function A(N,C,G){l("publish: packet: %o",N);let ce=G?G.protocolVersion:4,ie=N||{},te=ie.qos||0,fe=ie.retain?i.RETAIN_MASK:0,ue=ie.topic,L=ie.payload||r,z=ie.messageId,W=ie.properties,oe=0;if(typeof ue=="string")oe+=n.byteLength(ue)+2;else if(n.isBuffer(ue))oe+=ue.length+2;else return C.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(L)?oe+=L.length:oe+=n.byteLength(L),te&&typeof z!="number")return C.destroy(new Error("Invalid messageId")),!1;te&&(oe+=2);let J=null;if(ce===5){if(J=xe(C,W),!J)return!1;oe+=J.length}return C.write(i.PUBLISH_HEADER[te][ie.dup?1:0][fe?1:0]),X(C,oe),g(C,Ee(ue)),C.write(ue),te>0&&g(C,z),J==null||J.write(),l("publish: payload: %o",L),C.write(L)}function O(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ie.cmd||"puback",fe=ie.messageId,ue=ie.dup&&te==="pubrel"?i.DUP_MASK:0,L=0,z=ie.reasonCode,W=ie.properties,oe=ce===5?3:2;if(te==="pubrel"&&(L=1),typeof fe!="number")return C.destroy(new Error("Invalid messageId")),!1;let J=null;if(ce===5&&typeof W=="object"){if(J=I(C,W,G,oe),!J)return!1;oe+=J.length}return C.write(i.ACKS[te][L][ue][0]),oe===3&&(oe+=z!==0?1:-1),X(C,oe),g(C,fe),ce===5&&oe!==2&&C.write(n.from([z])),J!==null?J.write():oe===4&&C.write(n.from([0])),!0}function x(N,C,G){l("subscribe: packet: ");let ce=G?G.protocolVersion:4,ie=N||{},te=ie.dup?i.DUP_MASK:0,fe=ie.messageId,ue=ie.subscriptions,L=ie.properties,z=0;if(typeof fe!="number")return C.destroy(new Error("Invalid messageId")),!1;z+=2;let W=null;if(ce===5){if(W=xe(C,L),!W)return!1;z+=W.length}if(typeof ue=="object"&&ue.length)for(let J=0;J<ue.length;J+=1){let j=ue[J].topic,Q=ue[J].qos;if(typeof j!="string")return C.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Q!="number")return C.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ce===5){if(typeof(ue[J].nl||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ue[J].rap||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let _e=ue[J].rh||0;if(typeof _e!="number"||_e>2)return C.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}z+=n.byteLength(j)+2+1}else return C.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",i.SUBSCRIBE_HEADER),C.write(i.SUBSCRIBE_HEADER[1][te?1:0][0]),X(C,z),g(C,fe),W!==null&&W.write();let oe=!0;for(let J of ue){let j=J.topic,Q=J.qos,_e=+J.nl,Me=+J.rap,Oe=J.rh,Ye;H(C,j),Ye=i.SUBSCRIBE_OPTIONS_QOS[Q],ce===5&&(Ye|=_e?i.SUBSCRIBE_OPTIONS_NL:0,Ye|=Me?i.SUBSCRIBE_OPTIONS_RAP:0,Ye|=Oe?i.SUBSCRIBE_OPTIONS_RH[Oe]:0),oe=C.write(n.from([Ye]))}return oe}function M(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ie.messageId,fe=ie.granted,ue=ie.properties,L=0;if(typeof te!="number")return C.destroy(new Error("Invalid messageId")),!1;if(L+=2,typeof fe=="object"&&fe.length)for(let W=0;W<fe.length;W+=1){if(typeof fe[W]!="number")return C.destroy(new Error("Invalid qos vector")),!1;L+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let z=null;if(ce===5){if(z=I(C,ue,G,L),!z)return!1;L+=z.length}return C.write(i.SUBACK_HEADER),X(C,L),g(C,te),z!==null&&z.write(),C.write(n.from(fe))}function T(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ie.messageId,fe=ie.dup?i.DUP_MASK:0,ue=ie.unsubscriptions,L=ie.properties,z=0;if(typeof te!="number")return C.destroy(new Error("Invalid messageId")),!1;if(z+=2,typeof ue=="object"&&ue.length)for(let J=0;J<ue.length;J+=1){if(typeof ue[J]!="string")return C.destroy(new Error("Invalid unsubscriptions")),!1;z+=n.byteLength(ue[J])+2}else return C.destroy(new Error("Invalid unsubscriptions")),!1;let W=null;if(ce===5){if(W=xe(C,L),!W)return!1;z+=W.length}C.write(i.UNSUBSCRIBE_HEADER[1][fe?1:0][0]),X(C,z),g(C,te),W!==null&&W.write();let oe=!0;for(let J=0;J<ue.length;J++)oe=H(C,ue[J]);return oe}function B(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ie.messageId,fe=ie.dup?i.DUP_MASK:0,ue=ie.granted,L=ie.properties,z=ie.cmd,W=0,oe=2;if(typeof te!="number")return C.destroy(new Error("Invalid messageId")),!1;if(ce===5)if(typeof ue=="object"&&ue.length)for(let j=0;j<ue.length;j+=1){if(typeof ue[j]!="number")return C.destroy(new Error("Invalid qos vector")),!1;oe+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let J=null;if(ce===5){if(J=I(C,L,G,oe),!J)return!1;oe+=J.length}return C.write(i.ACKS[z][W][fe][0]),X(C,oe),g(C,te),J!==null&&J.write(),ce===5&&C.write(n.from(ue)),!0}function q(N,C,G){return C.write(i.EMPTY[N.cmd])}function $(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ie.reasonCode,fe=ie.properties,ue=ce===5?1:0,L=null;if(ce===5){if(L=I(C,fe,G,ue),!L)return!1;ue+=L.length}return C.write(n.from([i.codes.disconnect<<4])),X(C,ue),ce===5&&C.write(n.from([te])),L!==null&&L.write(),!0}function k(N,C,G){let ce=G?G.protocolVersion:4,ie=N||{},te=ie.reasonCode,fe=ie.properties,ue=ce===5?1:0;ce!==5&&C.destroy(new Error("Invalid mqtt version for auth packet"));let L=I(C,fe,G,ue);return L?(ue+=L.length,C.write(n.from([i.codes.auth<<4])),X(C,ue),C.write(n.from([te])),L!==null&&L.write(),!0):!1}var Y={};function X(N,C){if(C>i.VARBYTEINT_MAX)return N.destroy(new Error(`Invalid variable byte integer: ${C}`)),!1;let G=Y[C];return G||(G=f(C),C<16384&&(Y[C]=G)),l("writeVarByteInt: writing to stream: %o",G),N.write(G)}function H(N,C){let G=n.byteLength(C);return g(N,G),l("writeString: %s",C),N.write(C,"utf8")}function re(N,C,G){H(N,C),H(N,G)}function Z(N,C){return l("writeNumberCached: number: %d",C),l("writeNumberCached: %o",h[C]),N.write(h[C])}function V(N,C){let G=c(C);return l("writeNumberGenerated: %o",G),N.write(G)}function he(N,C){let G=d(C);return l("write4ByteNumber: %o",G),N.write(G)}function ne(N,C){typeof C=="string"?H(N,C):C?(g(N,C.length),N.write(C)):g(N,0)}function xe(N,C){if(typeof C!="object"||C.length!=null)return{length:1,write(){se(N,{},0)}};let G=0;function ce(ie,te){let fe=i.propertiesTypes[ie],ue=0;switch(fe){case"byte":{if(typeof te!="boolean")return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+1;break}case"int8":{if(typeof te!="number"||te<0||te>255)return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+1;break}case"binary":{if(te&&te===null)return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+n.byteLength(te)+2;break}case"int16":{if(typeof te!="number"||te<0||te>65535)return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+2;break}case"int32":{if(typeof te!="number"||te<0||te>4294967295)return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+4;break}case"var":{if(typeof te!="number"||te<0||te>268435455)return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+n.byteLength(f(te));break}case"string":{if(typeof te!="string")return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=1+2+n.byteLength(te.toString());break}case"pair":{if(typeof te!="object")return N.destroy(new Error(`Invalid ${ie}: ${te}`)),!1;ue+=Object.getOwnPropertyNames(te).reduce((L,z)=>{let W=te[z];return Array.isArray(W)?L+=W.reduce((oe,J)=>(oe+=1+2+n.byteLength(z.toString())+2+n.byteLength(J.toString()),oe),0):L+=1+2+n.byteLength(z.toString())+2+n.byteLength(te[z].toString()),L},0);break}default:return N.destroy(new Error(`Invalid property ${ie}: ${te}`)),!1}return ue}if(C)for(let ie in C){let te=0,fe=0,ue=C[ie];if(Array.isArray(ue))for(let L=0;L<ue.length;L++){if(fe=ce(ie,ue[L]),!fe)return!1;te+=fe}else{if(fe=ce(ie,ue),!fe)return!1;te=fe}if(!te)return!1;G+=te}return{length:n.byteLength(f(G))+G,write(){se(N,C,G)}}}function I(N,C,G,ce){let ie=["reasonString","userProperties"],te=G&&G.properties&&G.properties.maximumPacketSize?G.properties.maximumPacketSize:0,fe=xe(N,C);if(te)for(;ce+fe.length>te;){let ue=ie.shift();if(ue&&C[ue])delete C[ue],fe=xe(N,C);else return!1}return fe}function K(N,C,G){switch(i.propertiesTypes[C]){case"byte":{N.write(n.from([i.properties[C]])),N.write(n.from([+G]));break}case"int8":{N.write(n.from([i.properties[C]])),N.write(n.from([G]));break}case"binary":{N.write(n.from([i.properties[C]])),ne(N,G);break}case"int16":{N.write(n.from([i.properties[C]])),g(N,G);break}case"int32":{N.write(n.from([i.properties[C]])),he(N,G);break}case"var":{N.write(n.from([i.properties[C]])),X(N,G);break}case"string":{N.write(n.from([i.properties[C]])),H(N,G);break}case"pair":{Object.getOwnPropertyNames(G).forEach(ce=>{let ie=G[ce];Array.isArray(ie)?ie.forEach(te=>{N.write(n.from([i.properties[C]])),re(N,ce.toString(),te.toString())}):(N.write(n.from([i.properties[C]])),re(N,ce.toString(),ie.toString()))});break}default:return N.destroy(new Error(`Invalid property ${C} value: ${G}`)),!1}}function se(N,C,G){X(N,G);for(let ce in C)if(Object.prototype.hasOwnProperty.call(C,ce)&&C[ce]!==null){let ie=C[ce];if(Array.isArray(ie))for(let te=0;te<ie.length;te++)K(N,ce,ie[te]);else K(N,ce,ie)}}function Ee(N){return N?N instanceof n?N.length:n.byteLength(N):0}function le(N){return typeof N=="string"||N instanceof n}e.exports=_}),Ob=ve((t,e)=>{de(),ge(),pe();var i=kp(),{EventEmitter:n}=(Lr(),at(dr)),{Buffer:r}=(Wt(),at(jt));function s(a,l){let h=new o;return i(a,h,l),h.concat()}var o=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),h=this._array,c=0,u;for(u=0;u<h.length&&h[u]!==void 0;u++)typeof h[u]!="string"?l[u]=h[u].length:l[u]=r.byteLength(h[u]),a+=l[u];let f=r.allocUnsafe(a);for(u=0;u<h.length&&h[u]!==void 0;u++)typeof h[u]!="string"?(h[u].copy(f,c),c+=l[u]):(f.write(h[u],c),c+=l[u]);return f}destroy(a){a&&this.emit("error",a)}};e.exports=s}),Pb=ve(t=>{de(),ge(),pe(),t.parser=Mb().parser,t.generate=Ob(),t.writeToStream=kp()}),Ep=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let i=this.nextId++;return this.nextId===65536&&(this.nextId=1),i}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(i){return!0}deallocate(i){}clear(){}};t.default=e}),Cb=ve((t,e)=>{de(),ge(),pe(),e.exports=n;function i(s){return s instanceof Ho?Ho.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function n(s){if(s=s||{},s.circles)return r(s);return s.proto?l:a;function o(h,c){for(var u=Object.keys(h),f=new Array(u.length),d=0;d<u.length;d++){var g=u[d],y=h[g];typeof y!="object"||y===null?f[g]=y:y instanceof Date?f[g]=new Date(y):ArrayBuffer.isView(y)?f[g]=i(y):f[g]=c(y)}return f}function a(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return o(h,a);if(h instanceof Map)return new Map(o(Array.from(h),a));if(h instanceof Set)return new Set(o(Array.from(h),a));var c={};for(var u in h)if(Object.hasOwnProperty.call(h,u)!==!1){var f=h[u];typeof f!="object"||f===null?c[u]=f:f instanceof Date?c[u]=new Date(f):f instanceof Map?c[u]=new Map(o(Array.from(f),a)):f instanceof Set?c[u]=new Set(o(Array.from(f),a)):ArrayBuffer.isView(f)?c[u]=i(f):c[u]=a(f)}return c}function l(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return o(h,l);if(h instanceof Map)return new Map(o(Array.from(h),l));if(h instanceof Set)return new Set(o(Array.from(h),l));var c={};for(var u in h){var f=h[u];typeof f!="object"||f===null?c[u]=f:f instanceof Date?c[u]=new Date(f):f instanceof Map?c[u]=new Map(o(Array.from(f),l)):f instanceof Set?c[u]=new Set(o(Array.from(f),l)):ArrayBuffer.isView(f)?c[u]=i(f):c[u]=l(f)}return c}}function r(s){var o=[],a=[];return s.proto?c:h;function l(u,f){for(var d=Object.keys(u),g=new Array(d.length),y=0;y<d.length;y++){var _=d[y],w=u[_];if(typeof w!="object"||w===null)g[_]=w;else if(w instanceof Date)g[_]=new Date(w);else if(ArrayBuffer.isView(w))g[_]=i(w);else{var v=o.indexOf(w);v!==-1?g[_]=a[v]:g[_]=f(w)}}return g}function h(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return l(u,h);if(u instanceof Map)return new Map(l(Array.from(u),h));if(u instanceof Set)return new Set(l(Array.from(u),h));var f={};o.push(u),a.push(f);for(var d in u)if(Object.hasOwnProperty.call(u,d)!==!1){var g=u[d];if(typeof g!="object"||g===null)f[d]=g;else if(g instanceof Date)f[d]=new Date(g);else if(g instanceof Map)f[d]=new Map(l(Array.from(g),h));else if(g instanceof Set)f[d]=new Set(l(Array.from(g),h));else if(ArrayBuffer.isView(g))f[d]=i(g);else{var y=o.indexOf(g);y!==-1?f[d]=a[y]:f[d]=h(g)}}return o.pop(),a.pop(),f}function c(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return l(u,c);if(u instanceof Map)return new Map(l(Array.from(u),c));if(u instanceof Set)return new Set(l(Array.from(u),c));var f={};o.push(u),a.push(f);for(var d in u){var g=u[d];if(typeof g!="object"||g===null)f[d]=g;else if(g instanceof Date)f[d]=new Date(g);else if(g instanceof Map)f[d]=new Map(l(Array.from(g),c));else if(g instanceof Set)f[d]=new Set(l(Array.from(g),c));else if(ArrayBuffer.isView(g))f[d]=i(g);else{var y=o.indexOf(g);y!==-1?f[d]=a[y]:f[d]=c(g)}}return o.pop(),a.pop(),f}}}),Ib=ve((t,e)=>{de(),ge(),pe(),e.exports=Cb()()}),Rb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function e(n){let r=n.split("/");for(let s=0;s<r.length;s++)if(r[s]!=="+"){if(r[s]==="#")return s===r.length-1;if(r[s].indexOf("+")!==-1||r[s].indexOf("#")!==-1)return!1}return!0}t.validateTopic=e;function i(n){if(n.length===0)return"empty_topic_list";for(let r=0;r<n.length;r++)if(!e(n[r]))return n[r];return null}t.validateTopics=i}),Mp=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=pr(),i={objectMode:!0},n={clean:!0},r=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},n),s),this._inflights=new Map}put(s,o){return this._inflights.set(s.messageId,s),o&&o(),this}createStream(){let s=new e.Readable(i),o=[],a=!1,l=0;return this._inflights.forEach((h,c)=>{o.push(h)}),s._read=()=>{!a&&l<o.length?s.push(o[l++]):s.push(null)},s.destroy=h=>{if(!a)return a=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,o){let a=this._inflights.get(s.messageId);return a?(this._inflights.delete(s.messageId),o(null,a)):o&&o(new Error("missing packet")),this}get(s,o){let a=this._inflights.get(s.messageId);return a?o(null,a):o&&o(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};t.default=r}),Db=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],i=(n,r,s)=>{n.log("handlePublish: packet %o",r),s=typeof s<"u"?s:n.noop;let o=r.topic.toString(),a=r.payload,{qos:l}=r,{messageId:h}=r,{options:c}=n;if(n.options.protocolVersion===5){let u;if(r.properties&&(u=r.properties.topicAlias),typeof u<"u")if(o.length===0)if(u>0&&u<=65535){let f=n.topicAliasRecv.getTopicByAlias(u);if(f)o=f,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,u);else{n.log("handlePublish :: unregistered topic alias. alias: %d",u),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",u),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(o,u))n.log("handlePublish :: registered topic: %s - alias: %d",o,u);else{n.log("handlePublish :: topic alias out of range. alias: %d",u),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(o,a,r,(u,f)=>{if(typeof u=="number"&&(f=u,u=null),u)return n.emit("error",u);if(e.indexOf(f)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));f?n._sendPacket({cmd:"pubrec",messageId:h,reasonCode:f},s):n.incomingStore.put(r,()=>{n._sendPacket({cmd:"pubrec",messageId:h},s)})});break}case 1:{c.customHandleAcks(o,a,r,(u,f)=>{if(typeof u=="number"&&(f=u,u=null),u)return n.emit("error",u);if(e.indexOf(f)===-1)return n.emit("error",new Error("Wrong reason code for puback"));f||n.emit("message",o,a,r),n.handleMessage(r,d=>{if(d)return s&&s(d);n._sendPacket({cmd:"puback",messageId:h,reasonCode:f},s)})});break}case 0:n.emit("message",o,a,r),n.handleMessage(r,s);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=i}),Lb=ve((t,e)=>{e.exports={version:"5.10.3"}}),Br=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var e=class Tp extends Error{constructor(r,s){super(r),this.code=s,Object.setPrototypeOf(this,Tp.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=e;function i(n,r,s=!1){var o;let a=[r];for(;;){let l=a[0],h=Object.getPrototypeOf(l);if(h!=null&&h.prototype)a.unshift(h);else break}for(let l of a)for(let h of Object.getOwnPropertyNames(l.prototype))(s||h!=="constructor")&&Object.defineProperty(n.prototype,h,(o=Object.getOwnPropertyDescriptor(l.prototype,h))!==null&&o!==void 0?o:Object.create(null))}t.applyMixin=i,t.nextTick=typeof(Je==null?void 0:Je.nextTick)=="function"?Je.nextTick:n=>{setTimeout(n,0)},t.MQTTJS_VERSION=Lb().version}),ga=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var e=Br();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var i=(n,r)=>{let{messageId:s}=r,o=r.cmd,a=null,l=n.outgoing[s]?n.outgoing[s].cb:null,h=null;if(!l){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let c=r.reasonCode;c&&c>0&&c!==16?(h=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(s,()=>{l(h,r)})):n._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:s};let c=r.reasonCode;c&&c>0&&c!==16?(h=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(s,()=>{l(h,r)})):n._sendPacket(a);break}case"suback":{delete n.outgoing[s],n.messageIdProvider.deallocate(s);let c=r.granted;for(let u=0;u<c.length;u++){let f=c[u];if(f&128){h=new Error(`Subscribe error: ${t.ReasonCodes[f]}`),h.code=f;let d=n.messageIdToTopic[s];d&&d.forEach(g=>{delete n._resubscribeTopics[g]})}}delete n.messageIdToTopic[s],n._invokeStoreProcessingQueue(),l(h,r);break}case"unsuback":{delete n.outgoing[s],n.messageIdProvider.deallocate(s),n._invokeStoreProcessingQueue(),l(null,r);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};t.default=i}),Bb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=Br(),i=ga(),n=(r,s)=>{let{options:o}=r,a=o.protocolVersion,l=a===5?s.reasonCode:s.returnCode;if(a!==5){let h=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);r.emit("error",h);return}r.handleAuth(s,(h,c)=>{if(h){r.emit("error",h);return}if(l===24)r.reconnecting=!1,r._sendPacket(c);else{let u=new e.ErrorWithReasonCode(`Connection refused: ${i.ReasonCodes[l]}`,l);r.emit("error",u)}})};t.default=n}),Nb=ve(t=>{var d,g,y,_,w,v,S,A,O,x,M,T,B,q,$,k,Y,X,H,re,Z,V,he,ne,xe,I,kh,se,Ee,le,N,C,Ap,ce,ie,te,fe,yn,L,_n,W,Eh,J,vo,Q,So,Me,mt,Ye,Mh,p,Zr,P;de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,i=new Set,n=typeof Je=="object"&&Je?Je:{},r=(R,E,D,U)=>{typeof n.emitWarning=="function"?n.emitWarning(R,E,D,U):console.error(`[${D}] ${E}: ${R}`)},s=globalThis.AbortController,o=globalThis.AbortSignal;if(typeof s>"u"){o=class{constructor(){ye(this,"onabort");ye(this,"_onabort",[]);ye(this,"reason");ye(this,"aborted",!1)}addEventListener(D,U){this._onabort.push(U)}},s=class{constructor(){ye(this,"signal",new o);E()}abort(D){var U,ee;if(!this.signal.aborted){this.signal.reason=D,this.signal.aborted=!0;for(let ae of this.signal._onabort)ae(D);(ee=(U=this.signal).onabort)==null||ee.call(U,D)}}};let R=((d=n.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1",E=()=>{R&&(R=!1,r("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",E))}}var a=R=>!i.has(R),l=R=>R&&R===Math.floor(R)&&R>0&&isFinite(R),h=R=>l(R)?R<=Math.pow(2,8)?Uint8Array:R<=Math.pow(2,16)?Uint16Array:R<=Math.pow(2,32)?Uint32Array:R<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(R){super(R),this.fill(0)}},u=(g=class{constructor(E,D){ye(this,"heap");ye(this,"length");if(!F(g,y))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new D(E),this.length=0}static create(E){let D=h(E);if(!D)return[];Fe(g,y,!0);let U=new g(E,D);return Fe(g,y,!1),U}push(E){this.heap[this.length++]=E}pop(){return this.heap[--this.length]}},y=new WeakMap,We(g,y,!1),g),f=(P=class{constructor(E){We(this,I);We(this,C);We(this,fe);We(this,L);We(this,W);We(this,J);We(this,Q);We(this,Me);We(this,Ye);We(this,p);We(this,_,void 0);We(this,w,void 0);We(this,v,void 0);We(this,S,void 0);We(this,A,void 0);ye(this,"ttl");ye(this,"ttlResolution");ye(this,"ttlAutopurge");ye(this,"updateAgeOnGet");ye(this,"updateAgeOnHas");ye(this,"allowStale");ye(this,"noDisposeOnSet");ye(this,"noUpdateTTL");ye(this,"maxEntrySize");ye(this,"sizeCalculation");ye(this,"noDeleteOnFetchRejection");ye(this,"noDeleteOnStaleGet");ye(this,"allowStaleOnFetchAbort");ye(this,"allowStaleOnFetchRejection");ye(this,"ignoreFetchAbort");We(this,O,void 0);We(this,x,void 0);We(this,M,void 0);We(this,T,void 0);We(this,B,void 0);We(this,q,void 0);We(this,$,void 0);We(this,k,void 0);We(this,Y,void 0);We(this,X,void 0);We(this,H,void 0);We(this,re,void 0);We(this,Z,void 0);We(this,V,void 0);We(this,he,void 0);We(this,ne,void 0);We(this,xe,void 0);We(this,se,()=>{});We(this,Ee,()=>{});We(this,le,()=>{});We(this,N,()=>!1);We(this,ce,E=>{});We(this,ie,(E,D,U)=>{});We(this,te,(E,D,U,ee)=>{if(U||ee)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:D=0,ttl:U,ttlResolution:ee=1,ttlAutopurge:ae,updateAgeOnGet:we,updateAgeOnHas:Ae,allowStale:Be,dispose:gt,disposeAfter:Bt,noDisposeOnSet:Ke,noUpdateTTL:At,maxSize:ot=0,maxEntrySize:ht=0,sizeCalculation:et,fetchMethod:Ot,noDeleteOnFetchRejection:Ue,noDeleteOnStaleGet:xt,allowStaleOnFetchRejection:Gt,allowStaleOnFetchAbort:Nt,ignoreFetchAbort:ui}=E;if(D!==0&&!l(D))throw new TypeError("max option must be a nonnegative integer");let Dn=D?h(D):Array;if(!Dn)throw new Error("invalid max value: "+D);if(Fe(this,_,D),Fe(this,w,ot),this.maxEntrySize=ht||F(this,w),this.sizeCalculation=et,this.sizeCalculation){if(!F(this,w)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Ot!==void 0&&typeof Ot!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,A,Ot),Fe(this,ne,!!Ot),Fe(this,M,new Map),Fe(this,T,new Array(D).fill(void 0)),Fe(this,B,new Array(D).fill(void 0)),Fe(this,q,new Dn(D)),Fe(this,$,new Dn(D)),Fe(this,k,0),Fe(this,Y,0),Fe(this,X,u.create(D)),Fe(this,O,0),Fe(this,x,0),typeof gt=="function"&&Fe(this,v,gt),typeof Bt=="function"?(Fe(this,S,Bt),Fe(this,H,[])):(Fe(this,S,void 0),Fe(this,H,void 0)),Fe(this,he,!!F(this,v)),Fe(this,xe,!!F(this,S)),this.noDisposeOnSet=!!Ke,this.noUpdateTTL=!!At,this.noDeleteOnFetchRejection=!!Ue,this.allowStaleOnFetchRejection=!!Gt,this.allowStaleOnFetchAbort=!!Nt,this.ignoreFetchAbort=!!ui,this.maxEntrySize!==0){if(F(this,w)!==0&&!l(F(this,w)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Re(this,C,Ap).call(this)}if(this.allowStale=!!Be,this.noDeleteOnStaleGet=!!xt,this.updateAgeOnGet=!!we,this.updateAgeOnHas=!!Ae,this.ttlResolution=l(ee)||ee===0?ee:1,this.ttlAutopurge=!!ae,this.ttl=U||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Re(this,I,kh).call(this)}if(F(this,_)===0&&this.ttl===0&&F(this,w)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!F(this,_)&&!F(this,w)){let mn="LRU_CACHE_UNBOUNDED";a(mn)&&(i.add(mn),r("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",mn,P))}}static unsafeExposeInternals(E){return{starts:F(E,Z),ttls:F(E,V),sizes:F(E,re),keyMap:F(E,M),keyList:F(E,T),valList:F(E,B),next:F(E,q),prev:F(E,$),get head(){return F(E,k)},get tail(){return F(E,Y)},free:F(E,X),isBackgroundFetch:D=>{var U;return Re(U=E,Me,mt).call(U,D)},backgroundFetch:(D,U,ee,ae)=>{var we;return Re(we=E,Q,So).call(we,D,U,ee,ae)},moveToTail:D=>{var U;return Re(U=E,p,Zr).call(U,D)},indexes:D=>{var U;return Re(U=E,fe,yn).call(U,D)},rindexes:D=>{var U;return Re(U=E,L,_n).call(U,D)},isStale:D=>{var U;return F(U=E,N).call(U,D)}}}get max(){return F(this,_)}get maxSize(){return F(this,w)}get calculatedSize(){return F(this,x)}get size(){return F(this,O)}get fetchMethod(){return F(this,A)}get dispose(){return F(this,v)}get disposeAfter(){return F(this,S)}getRemainingTTL(E){return F(this,M).has(E)?1/0:0}*entries(){for(let E of Re(this,fe,yn).call(this))F(this,B)[E]!==void 0&&F(this,T)[E]!==void 0&&!Re(this,Me,mt).call(this,F(this,B)[E])&&(yield[F(this,T)[E],F(this,B)[E]])}*rentries(){for(let E of Re(this,L,_n).call(this))F(this,B)[E]!==void 0&&F(this,T)[E]!==void 0&&!Re(this,Me,mt).call(this,F(this,B)[E])&&(yield[F(this,T)[E],F(this,B)[E]])}*keys(){for(let E of Re(this,fe,yn).call(this)){let D=F(this,T)[E];D!==void 0&&!Re(this,Me,mt).call(this,F(this,B)[E])&&(yield D)}}*rkeys(){for(let E of Re(this,L,_n).call(this)){let D=F(this,T)[E];D!==void 0&&!Re(this,Me,mt).call(this,F(this,B)[E])&&(yield D)}}*values(){for(let E of Re(this,fe,yn).call(this))F(this,B)[E]!==void 0&&!Re(this,Me,mt).call(this,F(this,B)[E])&&(yield F(this,B)[E])}*rvalues(){for(let E of Re(this,L,_n).call(this))F(this,B)[E]!==void 0&&!Re(this,Me,mt).call(this,F(this,B)[E])&&(yield F(this,B)[E])}[Symbol.iterator](){return this.entries()}find(E,D={}){for(let U of Re(this,fe,yn).call(this)){let ee=F(this,B)[U],ae=Re(this,Me,mt).call(this,ee)?ee.__staleWhileFetching:ee;if(ae!==void 0&&E(ae,F(this,T)[U],this))return this.get(F(this,T)[U],D)}}forEach(E,D=this){for(let U of Re(this,fe,yn).call(this)){let ee=F(this,B)[U],ae=Re(this,Me,mt).call(this,ee)?ee.__staleWhileFetching:ee;ae!==void 0&&E.call(D,ae,F(this,T)[U],this)}}rforEach(E,D=this){for(let U of Re(this,L,_n).call(this)){let ee=F(this,B)[U],ae=Re(this,Me,mt).call(this,ee)?ee.__staleWhileFetching:ee;ae!==void 0&&E.call(D,ae,F(this,T)[U],this)}}purgeStale(){let E=!1;for(let D of Re(this,L,_n).call(this,{allowStale:!0}))F(this,N).call(this,D)&&(this.delete(F(this,T)[D]),E=!0);return E}dump(){let E=[];for(let D of Re(this,fe,yn).call(this,{allowStale:!0})){let U=F(this,T)[D],ee=F(this,B)[D],ae=Re(this,Me,mt).call(this,ee)?ee.__staleWhileFetching:ee;if(ae===void 0||U===void 0)continue;let we={value:ae};if(F(this,V)&&F(this,Z)){we.ttl=F(this,V)[D];let Ae=e.now()-F(this,Z)[D];we.start=Math.floor(Date.now()-Ae)}F(this,re)&&(we.size=F(this,re)[D]),E.unshift([U,we])}return E}load(E){this.clear();for(let[D,U]of E){if(U.start){let ee=Date.now()-U.start;U.start=e.now()-ee}this.set(D,U.value,U)}}set(E,D,U={}){var At,ot,ht,et,Ot;if(D===void 0)return this.delete(E),this;let{ttl:ee=this.ttl,start:ae,noDisposeOnSet:we=this.noDisposeOnSet,sizeCalculation:Ae=this.sizeCalculation,status:Be}=U,{noUpdateTTL:gt=this.noUpdateTTL}=U,Bt=F(this,te).call(this,E,D,U.size||0,Ae);if(this.maxEntrySize&&Bt>this.maxEntrySize)return Be&&(Be.set="miss",Be.maxEntrySizeExceeded=!0),this.delete(E),this;let Ke=F(this,O)===0?void 0:F(this,M).get(E);if(Ke===void 0)Ke=F(this,O)===0?F(this,Y):F(this,X).length!==0?F(this,X).pop():F(this,O)===F(this,_)?Re(this,J,vo).call(this,!1):F(this,O),F(this,T)[Ke]=E,F(this,B)[Ke]=D,F(this,M).set(E,Ke),F(this,q)[F(this,Y)]=Ke,F(this,$)[Ke]=F(this,Y),Fe(this,Y,Ke),Ys(this,O)._++,F(this,ie).call(this,Ke,Bt,Be),Be&&(Be.set="add"),gt=!1;else{Re(this,p,Zr).call(this,Ke);let Ue=F(this,B)[Ke];if(D!==Ue){if(F(this,ne)&&Re(this,Me,mt).call(this,Ue)){Ue.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:xt}=Ue;xt!==void 0&&!we&&(F(this,he)&&((At=F(this,v))==null||At.call(this,xt,E,"set")),F(this,xe)&&((ot=F(this,H))==null||ot.push([xt,E,"set"])))}else we||(F(this,he)&&((ht=F(this,v))==null||ht.call(this,Ue,E,"set")),F(this,xe)&&((et=F(this,H))==null||et.push([Ue,E,"set"])));if(F(this,ce).call(this,Ke),F(this,ie).call(this,Ke,Bt,Be),F(this,B)[Ke]=D,Be){Be.set="replace";let xt=Ue&&Re(this,Me,mt).call(this,Ue)?Ue.__staleWhileFetching:Ue;xt!==void 0&&(Be.oldValue=xt)}}else Be&&(Be.set="update")}if(ee!==0&&!F(this,V)&&Re(this,I,kh).call(this),F(this,V)&&(gt||F(this,le).call(this,Ke,ee,ae),Be&&F(this,Ee).call(this,Be,Ke)),!we&&F(this,xe)&&F(this,H)){let Ue=F(this,H),xt;for(;xt=Ue==null?void 0:Ue.shift();)(Ot=F(this,S))==null||Ot.call(this,...xt)}return this}pop(){var E;try{for(;F(this,O);){let D=F(this,B)[F(this,k)];if(Re(this,J,vo).call(this,!0),Re(this,Me,mt).call(this,D)){if(D.__staleWhileFetching)return D.__staleWhileFetching}else if(D!==void 0)return D}}finally{if(F(this,xe)&&F(this,H)){let D=F(this,H),U;for(;U=D==null?void 0:D.shift();)(E=F(this,S))==null||E.call(this,...U)}}}has(E,D={}){let{updateAgeOnHas:U=this.updateAgeOnHas,status:ee}=D,ae=F(this,M).get(E);if(ae!==void 0){let we=F(this,B)[ae];if(Re(this,Me,mt).call(this,we)&&we.__staleWhileFetching===void 0)return!1;if(F(this,N).call(this,ae))ee&&(ee.has="stale",F(this,Ee).call(this,ee,ae));else return U&&F(this,se).call(this,ae),ee&&(ee.has="hit",F(this,Ee).call(this,ee,ae)),!0}else ee&&(ee.has="miss");return!1}peek(E,D={}){let{allowStale:U=this.allowStale}=D,ee=F(this,M).get(E);if(ee!==void 0&&(U||!F(this,N).call(this,ee))){let ae=F(this,B)[ee];return Re(this,Me,mt).call(this,ae)?ae.__staleWhileFetching:ae}}async fetch(E,D={}){let{allowStale:U=this.allowStale,updateAgeOnGet:ee=this.updateAgeOnGet,noDeleteOnStaleGet:ae=this.noDeleteOnStaleGet,ttl:we=this.ttl,noDisposeOnSet:Ae=this.noDisposeOnSet,size:Be=0,sizeCalculation:gt=this.sizeCalculation,noUpdateTTL:Bt=this.noUpdateTTL,noDeleteOnFetchRejection:Ke=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:At=this.allowStaleOnFetchRejection,ignoreFetchAbort:ot=this.ignoreFetchAbort,allowStaleOnFetchAbort:ht=this.allowStaleOnFetchAbort,context:et,forceRefresh:Ot=!1,status:Ue,signal:xt}=D;if(!F(this,ne))return Ue&&(Ue.fetch="get"),this.get(E,{allowStale:U,updateAgeOnGet:ee,noDeleteOnStaleGet:ae,status:Ue});let Gt={allowStale:U,updateAgeOnGet:ee,noDeleteOnStaleGet:ae,ttl:we,noDisposeOnSet:Ae,size:Be,sizeCalculation:gt,noUpdateTTL:Bt,noDeleteOnFetchRejection:Ke,allowStaleOnFetchRejection:At,allowStaleOnFetchAbort:ht,ignoreFetchAbort:ot,status:Ue,signal:xt},Nt=F(this,M).get(E);if(Nt===void 0){Ue&&(Ue.fetch="miss");let ui=Re(this,Q,So).call(this,E,Nt,Gt,et);return ui.__returned=ui}else{let ui=F(this,B)[Nt];if(Re(this,Me,mt).call(this,ui)){let ru=U&&ui.__staleWhileFetching!==void 0;return Ue&&(Ue.fetch="inflight",ru&&(Ue.returnedStale=!0)),ru?ui.__staleWhileFetching:ui.__returned=ui}let Dn=F(this,N).call(this,Nt);if(!Ot&&!Dn)return Ue&&(Ue.fetch="hit"),Re(this,p,Zr).call(this,Nt),ee&&F(this,se).call(this,Nt),Ue&&F(this,Ee).call(this,Ue,Nt),ui;let mn=Re(this,Q,So).call(this,E,Nt,Gt,et),nu=mn.__staleWhileFetching!==void 0&&U;return Ue&&(Ue.fetch=Dn?"stale":"refresh",nu&&Dn&&(Ue.returnedStale=!0)),nu?mn.__staleWhileFetching:mn.__returned=mn}}get(E,D={}){let{allowStale:U=this.allowStale,updateAgeOnGet:ee=this.updateAgeOnGet,noDeleteOnStaleGet:ae=this.noDeleteOnStaleGet,status:we}=D,Ae=F(this,M).get(E);if(Ae!==void 0){let Be=F(this,B)[Ae],gt=Re(this,Me,mt).call(this,Be);return we&&F(this,Ee).call(this,we,Ae),F(this,N).call(this,Ae)?(we&&(we.get="stale"),gt?(we&&U&&Be.__staleWhileFetching!==void 0&&(we.returnedStale=!0),U?Be.__staleWhileFetching:void 0):(ae||this.delete(E),we&&U&&(we.returnedStale=!0),U?Be:void 0)):(we&&(we.get="hit"),gt?Be.__staleWhileFetching:(Re(this,p,Zr).call(this,Ae),ee&&F(this,se).call(this,Ae),Be))}else we&&(we.get="miss")}delete(E){var U,ee,ae,we;let D=!1;if(F(this,O)!==0){let Ae=F(this,M).get(E);if(Ae!==void 0)if(D=!0,F(this,O)===1)this.clear();else{F(this,ce).call(this,Ae);let Be=F(this,B)[Ae];Re(this,Me,mt).call(this,Be)?Be.__abortController.abort(new Error("deleted")):(F(this,he)||F(this,xe))&&(F(this,he)&&((U=F(this,v))==null||U.call(this,Be,E,"delete")),F(this,xe)&&((ee=F(this,H))==null||ee.push([Be,E,"delete"]))),F(this,M).delete(E),F(this,T)[Ae]=void 0,F(this,B)[Ae]=void 0,Ae===F(this,Y)?Fe(this,Y,F(this,$)[Ae]):Ae===F(this,k)?Fe(this,k,F(this,q)[Ae]):(F(this,q)[F(this,$)[Ae]]=F(this,q)[Ae],F(this,$)[F(this,q)[Ae]]=F(this,$)[Ae]),Ys(this,O)._--,F(this,X).push(Ae)}}if(F(this,xe)&&((ae=F(this,H))!=null&&ae.length)){let Ae=F(this,H),Be;for(;Be=Ae==null?void 0:Ae.shift();)(we=F(this,S))==null||we.call(this,...Be)}return D}clear(){var E,D,U;for(let ee of Re(this,L,_n).call(this,{allowStale:!0})){let ae=F(this,B)[ee];if(Re(this,Me,mt).call(this,ae))ae.__abortController.abort(new Error("deleted"));else{let we=F(this,T)[ee];F(this,he)&&((E=F(this,v))==null||E.call(this,ae,we,"delete")),F(this,xe)&&((D=F(this,H))==null||D.push([ae,we,"delete"]))}}if(F(this,M).clear(),F(this,B).fill(void 0),F(this,T).fill(void 0),F(this,V)&&F(this,Z)&&(F(this,V).fill(0),F(this,Z).fill(0)),F(this,re)&&F(this,re).fill(0),Fe(this,k,0),Fe(this,Y,0),F(this,X).length=0,Fe(this,x,0),Fe(this,O,0),F(this,xe)&&F(this,H)){let ee=F(this,H),ae;for(;ae=ee==null?void 0:ee.shift();)(U=F(this,S))==null||U.call(this,...ae)}}},_=new WeakMap,w=new WeakMap,v=new WeakMap,S=new WeakMap,A=new WeakMap,O=new WeakMap,x=new WeakMap,M=new WeakMap,T=new WeakMap,B=new WeakMap,q=new WeakMap,$=new WeakMap,k=new WeakMap,Y=new WeakMap,X=new WeakMap,H=new WeakMap,re=new WeakMap,Z=new WeakMap,V=new WeakMap,he=new WeakMap,ne=new WeakMap,xe=new WeakMap,I=new WeakSet,kh=function(){let E=new c(F(this,_)),D=new c(F(this,_));Fe(this,V,E),Fe(this,Z,D),Fe(this,le,(ae,we,Ae=e.now())=>{if(D[ae]=we!==0?Ae:0,E[ae]=we,we!==0&&this.ttlAutopurge){let Be=setTimeout(()=>{F(this,N).call(this,ae)&&this.delete(F(this,T)[ae])},we+1);Be.unref&&Be.unref()}}),Fe(this,se,ae=>{D[ae]=E[ae]!==0?e.now():0}),Fe(this,Ee,(ae,we)=>{if(E[we]){let Ae=E[we],Be=D[we];ae.ttl=Ae,ae.start=Be,ae.now=U||ee();let gt=ae.now-Be;ae.remainingTTL=Ae-gt}});let U=0,ee=()=>{let ae=e.now();if(this.ttlResolution>0){U=ae;let we=setTimeout(()=>U=0,this.ttlResolution);we.unref&&we.unref()}return ae};this.getRemainingTTL=ae=>{let we=F(this,M).get(ae);if(we===void 0)return 0;let Ae=E[we],Be=D[we];if(Ae===0||Be===0)return 1/0;let gt=(U||ee())-Be;return Ae-gt},Fe(this,N,ae=>E[ae]!==0&&D[ae]!==0&&(U||ee())-D[ae]>E[ae])},se=new WeakMap,Ee=new WeakMap,le=new WeakMap,N=new WeakMap,C=new WeakSet,Ap=function(){let E=new c(F(this,_));Fe(this,x,0),Fe(this,re,E),Fe(this,ce,D=>{Fe(this,x,F(this,x)-E[D]),E[D]=0}),Fe(this,te,(D,U,ee,ae)=>{if(Re(this,Me,mt).call(this,U))return 0;if(!l(ee))if(ae){if(typeof ae!="function")throw new TypeError("sizeCalculation must be a function");if(ee=ae(U,D),!l(ee))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return ee}),Fe(this,ie,(D,U,ee)=>{if(E[D]=U,F(this,w)){let ae=F(this,w)-E[D];for(;F(this,x)>ae;)Re(this,J,vo).call(this,!0)}Fe(this,x,F(this,x)+E[D]),ee&&(ee.entrySize=U,ee.totalCalculatedSize=F(this,x))})},ce=new WeakMap,ie=new WeakMap,te=new WeakMap,fe=new WeakSet,yn=function*({allowStale:E=this.allowStale}={}){if(F(this,O))for(let D=F(this,Y);!(!Re(this,W,Eh).call(this,D)||((E||!F(this,N).call(this,D))&&(yield D),D===F(this,k)));)D=F(this,$)[D]},L=new WeakSet,_n=function*({allowStale:E=this.allowStale}={}){if(F(this,O))for(let D=F(this,k);!(!Re(this,W,Eh).call(this,D)||((E||!F(this,N).call(this,D))&&(yield D),D===F(this,Y)));)D=F(this,q)[D]},W=new WeakSet,Eh=function(E){return E!==void 0&&F(this,M).get(F(this,T)[E])===E},J=new WeakSet,vo=function(E){var ae,we;let D=F(this,k),U=F(this,T)[D],ee=F(this,B)[D];return F(this,ne)&&Re(this,Me,mt).call(this,ee)?ee.__abortController.abort(new Error("evicted")):(F(this,he)||F(this,xe))&&(F(this,he)&&((ae=F(this,v))==null||ae.call(this,ee,U,"evict")),F(this,xe)&&((we=F(this,H))==null||we.push([ee,U,"evict"]))),F(this,ce).call(this,D),E&&(F(this,T)[D]=void 0,F(this,B)[D]=void 0,F(this,X).push(D)),F(this,O)===1?(Fe(this,k,Fe(this,Y,0)),F(this,X).length=0):Fe(this,k,F(this,q)[D]),F(this,M).delete(U),Ys(this,O)._--,D},Q=new WeakSet,So=function(E,D,U,ee){let ae=D===void 0?void 0:F(this,B)[D];if(Re(this,Me,mt).call(this,ae))return ae;let we=new s,{signal:Ae}=U;Ae==null||Ae.addEventListener("abort",()=>we.abort(Ae.reason),{signal:we.signal});let Be={signal:we.signal,options:U,context:ee},gt=(et,Ot=!1)=>{let{aborted:Ue}=we.signal,xt=U.ignoreFetchAbort&&et!==void 0;if(U.status&&(Ue&&!Ot?(U.status.fetchAborted=!0,U.status.fetchError=we.signal.reason,xt&&(U.status.fetchAbortIgnored=!0)):U.status.fetchResolved=!0),Ue&&!xt&&!Ot)return Ke(we.signal.reason);let Gt=ot;return F(this,B)[D]===ot&&(et===void 0?Gt.__staleWhileFetching?F(this,B)[D]=Gt.__staleWhileFetching:this.delete(E):(U.status&&(U.status.fetchUpdated=!0),this.set(E,et,Be.options))),et},Bt=et=>(U.status&&(U.status.fetchRejected=!0,U.status.fetchError=et),Ke(et)),Ke=et=>{let{aborted:Ot}=we.signal,Ue=Ot&&U.allowStaleOnFetchAbort,xt=Ue||U.allowStaleOnFetchRejection,Gt=xt||U.noDeleteOnFetchRejection,Nt=ot;if(F(this,B)[D]===ot&&(!Gt||Nt.__staleWhileFetching===void 0?this.delete(E):Ue||(F(this,B)[D]=Nt.__staleWhileFetching)),xt)return U.status&&Nt.__staleWhileFetching!==void 0&&(U.status.returnedStale=!0),Nt.__staleWhileFetching;if(Nt.__returned===Nt)throw et},At=(et,Ot)=>{var xt;let Ue=(xt=F(this,A))==null?void 0:xt.call(this,E,ae,Be);Ue&&Ue instanceof Promise&&Ue.then(Gt=>et(Gt===void 0?void 0:Gt),Ot),we.signal.addEventListener("abort",()=>{(!U.ignoreFetchAbort||U.allowStaleOnFetchAbort)&&(et(void 0),U.allowStaleOnFetchAbort&&(et=Gt=>gt(Gt,!0)))})};U.status&&(U.status.fetchDispatched=!0);let ot=new Promise(At).then(gt,Bt),ht=Object.assign(ot,{__abortController:we,__staleWhileFetching:ae,__returned:void 0});return D===void 0?(this.set(E,ht,{...Be.options,status:void 0}),D=F(this,M).get(E)):F(this,B)[D]=ht,ht},Me=new WeakSet,mt=function(E){if(!F(this,ne))return!1;let D=E;return!!D&&D instanceof Promise&&D.hasOwnProperty("__staleWhileFetching")&&D.__abortController instanceof s},Ye=new WeakSet,Mh=function(E,D){F(this,$)[D]=E,F(this,q)[E]=D},p=new WeakSet,Zr=function(E){E!==F(this,Y)&&(E===F(this,k)?Fe(this,k,F(this,q)[E]):Re(this,Ye,Mh).call(this,F(this,$)[E],F(this,q)[E]),Re(this,Ye,Mh).call(this,F(this,Y),E),Fe(this,Y,E))},P);t.LRUCache=f}),fn=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var e=class{constructor(r=0){this.iteratorType=r}equals(r){return this.o===r.o}};t.ContainerIterator=e;var i=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=i;var n=class extends i{};t.Container=n}),Fb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=fn(),i=class extends e.Base{constructor(r=[]){super(),this.S=[];let s=this;r.forEach(function(o){s.push(o)})}clear(){this.i=0,this.S=[]}push(r){return this.S.push(r),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=i;t.default=n}),Ub=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=fn(),i=class extends e.Base{constructor(r=[]){super(),this.j=0,this.q=[];let s=this;r.forEach(function(o){s.push(o)})}clear(){this.q=[],this.i=this.j=0}push(r){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let o=this.i;for(let a=0;a<o;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=r}else this.q[this.j+this.i]=r;return++this.i}pop(){if(this.i===0)return;let r=this.q[this.j++];return this.i-=1,r}front(){if(this.i!==0)return this.q[this.j]}},n=i;t.default=n}),jb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=fn(),i=class extends e.Base{constructor(r=[],s=function(a,l){return a>l?-1:a<l?1:0},o=!0){if(super(),this.v=s,Array.isArray(r))this.C=o?[...r]:r;else{this.C=[];let l=this;r.forEach(function(h){l.C.push(h)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(r){let s=this.C[r];for(;r>0;){let o=r-1>>1,a=this.C[o];if(this.v(a,s)<=0)break;this.C[r]=a,r=o}this.C[r]=s}k(r,s){let o=this.C[r];for(;r<s;){let a=r<<1|1,l=a+1,h=this.C[a];if(l<this.i&&this.v(h,this.C[l])>0&&(a=l,h=this.C[l]),this.v(h,o)>=0)break;this.C[r]=h,r=a}this.C[r]=o}clear(){this.i=0,this.C.length=0}push(r){this.C.push(r),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let r=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),r}top(){return this.C[0]}find(r){return this.C.indexOf(r)>=0}remove(r){let s=this.C.indexOf(r);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(r){let s=this.C.indexOf(r);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},n=i;t.default=n}),gc=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=fn(),i=class extends e.Container{},n=i;t.default=n}),dn=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),Op=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var e=fn(),i=dn(),n=class extends e.ContainerIterator{constructor(r,s){super(s),this.o=r,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,i.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,i.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,i.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,i.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(r){this.container.setElementByPos(this.o,r)}};t.RandomIterator=n}),Wb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=n(gc()),i=Op();function n(a){return a&&a.t?a:{default:a}}var r=class Pp extends i.RandomIterator{constructor(l,h,c){super(l,c),this.container=h}copy(){return new Pp(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let h=this;a.forEach(function(c){h.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let h=0;h<this.i;++h)this.J[h]!==a&&(this.J[l++]=this.J[h]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,h=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(h).fill(l)),this.i+=h,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new r(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},o=s;t.default=o}),zb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(gc()),i=fn(),n=dn();function r(l){return l&&l.t?l:{default:l}}var s=class Cp extends i.ContainerIterator{constructor(h,c,u,f){super(f),this.o=h,this.h=c,this.container=u,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=h}copy(){return new Cp(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;l.forEach(function(c){h.pushBack(c)})}V(l){let{L:h,B:c}=l;h.B=c,c.L=h,l===this.p&&(this.p=c),l===this._&&(this._=h),this.i-=1}G(l,h){let c=h.B,u={l,L:h,B:c};h.B=u,c.L=u,h===this.h&&(this.p=u),c===this.h&&(this._=u),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let h=this.p;for(;l--;)h=h.B;return h.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let h=this.p;for(;l--;)h=h.B;return this.V(h),this.i}eraseElementByValue(l){let h=this.p;for(;h!==this.h;)h.l===l&&this.V(h),h=h.B;return this.i}eraseElementByIterator(l){let h=l.o;return h===this.h&&(0,n.throwIteratorAccessError)(),l=l.next(),this.V(h),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,h){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=h}insert(l,h,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(h);else if(l===this.i)for(;c--;)this.pushBack(h);else{let u=this.p;for(let d=1;d<l;++d)u=u.B;let f=u.B;for(this.i+=c;c--;)u.B={l:h,L:u},u.B.L=u,u=u.B;u.B=f,f.L=u}return this.i}find(l){let h=this.p;for(;h!==this.h;){if(h.l===l)return new s(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,h=this._,c=0;for(;c<<1<this.i;){let u=l.l;l.l=h.l,h.l=u,l=l.B,h=h.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let h=l;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;l.B=h.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let h=[];this.forEach(function(u){h.push(u)}),h.sort(l);let c=this.p;h.forEach(function(u){c.l=u,c=c.B})}merge(l){let h=this;if(this.i===0)l.forEach(function(c){h.pushBack(c)});else{let c=this.p;l.forEach(function(u){for(;c!==h.h&&c.l<=u;)c=c.B;h.G(u,c.L)})}return this.i}forEach(l){let h=this.p,c=0;for(;h!==this.h;)l(h.l,c++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=o;t.default=a}),Yb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=n(gc()),i=Op();function n(a){return a&&a.t?a:{default:a}}var r=class Ip extends i.RandomIterator{constructor(l,h,c){super(l,c),this.container=h}copy(){return new Ip(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(h/this.F),1);for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));let c=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-h%this.F>>1;let u=this;a.forEach(function(f){u.pushBack(f)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let h=0;h<l;++h)a[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)a[a.length]=this.A[h];for(let h=0;h<this.R;++h)a[a.length]=this.A[h];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let h=0;h<l;++h)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,h=l%this.F,c=h-1,u=this.j+(l-h)/this.F;return h===0&&(u-=1),u%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:u,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:h}=this.O(a);return this.A[l][h]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:c}=this.O(a);this.A[h][c]=l}insert(a,l,h=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;h--;)this.pushFront(l);else if(a===this.i)for(;h--;)this.pushBack(l);else{let c=[];for(let u=a;u<this.i;++u)c.push(this.getElementByPos(u));this.cut(a-1);for(let u=0;u<h;++u)this.pushBack(l);for(let u=0;u<c.length;++u)this.pushBack(c[u])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:h}=this.O(a);return this.R=l,this.N=h,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let c=a+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(a),this.popBack();let h=this;l.forEach(function(c){h.pushBack(c)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let u=this.getElementByPos(c);u!==a&&l.push(u)}let h=l.length;for(let c=0;c<h;++c)this.setElementByPos(c,l[c]);return this.cut(h-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new r(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let h=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,h),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let h=1;h<this.i;++h){let c=this.getElementByPos(h);c!==l&&(l=c,this.setElementByPos(a++,c))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let h=0;h<this.i;++h)l.push(this.getElementByPos(h));l.sort(a);for(let h=0;h<this.i;++h)this.setElementByPos(h,l[h])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},o=s;t.default=o}),Hb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var e=class{constructor(n,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=r}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let r=n.tt;for(;r.U===n;)n=r,r=n.tt;n=r}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let r=n.tt;for(;r.W===n;)n=r,r=n.tt;return n.W!==r?r:n}}te(){let n=this.tt,r=this.W,s=r.U;return n.tt===this?n.tt=r:n.U===this?n.U=r:n.W=r,r.tt=n,r.U=this,this.tt=r,this.W=s,s&&(s.tt=this),r}se(){let n=this.tt,r=this.U,s=r.W;return n.tt===this?n.tt=r:n.U===this?n.U=r:n.W=r,r.tt=n,r.W=this,this.tt=r,this.U=s,s&&(s.tt=this),r}};t.TreeNode=e;var i=class extends e{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=i}),Rp=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Hb(),i=fn(),n=dn(),r=class extends i.Container{constructor(o=function(l,h){return l<h?-1:l>h?1:0},a=!1){super(),this.Y=void 0,this.v=o,a?(this.re=e.TreeNodeEnableIndex,this.M=function(l,h,c){let u=this.ne(l,h,c);if(u){let f=u.tt;for(;f!==this.h;)f.rt+=1,f=f.tt;let d=this.he(u);if(d){let{parentNode:g,grandParent:y,curNode:_}=d;g.ie(),y.ie(),_.ie()}}return this.i},this.V=function(l){let h=this.fe(l);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=e.TreeNode,this.M=function(l,h,c){let u=this.ne(l,h,c);return u&&this.he(u),this.i},this.V=this.fe),this.h=new this.re}X(o,a){let l=this.h;for(;o;){let h=this.v(o.u,a);if(h<0)o=o.W;else if(h>0)l=o,o=o.U;else return o}return l}Z(o,a){let l=this.h;for(;o;)this.v(o.u,a)<=0?o=o.W:(l=o,o=o.U);return l}$(o,a){let l=this.h;for(;o;){let h=this.v(o.u,a);if(h<0)l=o,o=o.W;else if(h>0)o=o.U;else return o}return l}rr(o,a){let l=this.h;for(;o;)this.v(o.u,a)<0?(l=o,o=o.W):o=o.U;return l}ue(o){for(;;){let a=o.tt;if(a===this.h)return;if(o.ee===1){o.ee=0;return}if(o===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,o=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,o=a)}}}fe(o){if(this.i===1)return this.clear(),this.h;let a=o;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[o.u,a.u]=[a.u,o.u],[o.l,a.l]=[a.l,o.l],o=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(o,a){return o===void 0?!1:this.oe(o.U,a)||a(o)?!0:this.oe(o.W,a)}he(o){for(;;){let a=o.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let h=l.W;if(h&&h.ee===1){if(h.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.W){if(o.ee=0,o.U&&(o.U.tt=a),o.W&&(o.W.tt=l),a.W=o.U,l.U=o.W,o.U=a,o.W=l,l===this.Y)this.Y=o,this.h.tt=o;else{let c=l.tt;c.U===l?c.U=o:c.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let h=l.U;if(h&&h.ee===1){if(h.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.U){if(o.ee=0,o.U&&(o.U.tt=l),o.W&&(o.W.tt=a),l.W=o.U,a.U=o.W,o.U=l,o.W=a,l===this.Y)this.Y=o,this.h.tt=o;else{let c=l.tt;c.U===l?c.U=o:c.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(o,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(o,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,c=this.h.U,u=this.v(c.u,o);if(u===0){c.l=a;return}else if(u>0)c.U=new this.re(o,a),c.U.tt=c,h=c.U,this.h.U=h;else{let f=this.h.W,d=this.v(f.u,o);if(d===0){f.l=a;return}else if(d<0)f.W=new this.re(o,a),f.W.tt=f,h=f.W,this.h.W=h;else{if(l!==void 0){let g=l.o;if(g!==this.h){let y=this.v(g.u,o);if(y===0){g.l=a;return}else if(y>0){let _=g.L(),w=this.v(_.u,o);if(w===0){_.l=a;return}else w<0&&(h=new this.re(o,a),_.W===void 0?(_.W=h,h.tt=_):(g.U=h,h.tt=g))}}}if(h===void 0)for(h=this.Y;;){let g=this.v(h.u,o);if(g>0){if(h.U===void 0){h.U=new this.re(o,a),h.U.tt=h,h=h.U;break}h=h.U}else if(g<0){if(h.W===void 0){h.W=new this.re(o,a),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=a;return}}}}return this.i+=1,h}I(o,a){for(;o;){let l=this.v(o.u,a);if(l<0)o=o.W;else if(l>0)o=o.U;else return o}return o||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(o,a){let l=o.o;if(l===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let h=l.L().u;if(this.v(h,a)>=0)return!1;let c=l.B().u;return this.v(c,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(h){return o===a?(l.V(h),!0):(a+=1,!1)}),this.i}eraseElementByKey(o){if(this.i===0)return!1;let a=this.I(this.Y,o);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(o){let a=o.o;a===this.h&&(0,n.throwIteratorAccessError)();let l=a.W===void 0;return o.iteratorType===0?l&&o.next():(!l||a.U===void 0)&&o.next(),this.V(a),o}forEach(o){let a=0;for(let l of this)o(l,a++,this)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a,l=0;for(let h of this){if(l===o){a=h;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let o=function(a){return a?Math.max(o(a.U),o(a.W))+1:0};return o(this.Y)}},s=r;t.default=s}),Dp=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=fn(),i=dn(),n=class extends e.ContainerIterator{constructor(s,o,a){super(a),this.o=s,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,i.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,i.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,o=this.h.tt;if(s===this.h)return o?o.rt-1:0;let a=0;for(s.U&&(a+=s.U.rt);s!==o;){let l=s.tt;s===l.W&&(a+=1,l.U&&(a+=l.U.rt)),s=l}return a}},r=n;t.default=r}),Vb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(Rp()),i=r(Dp()),n=dn();function r(l){return l&&l.t?l:{default:l}}var s=class Lp extends i.default{constructor(h,c,u,f){super(h,c,f),this.container=u}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new Lp(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],h,c){super(h,c);let u=this;l.forEach(function(f){u.insert(f)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,h){return this.M(l,void 0,h)}find(l){let h=this.I(this.Y,l);return new s(h,this.h,this)}lowerBound(l){let h=this.X(this.Y,l);return new s(h,this.h,this)}upperBound(l){let h=this.Z(this.Y,l);return new s(h,this.h,this)}reverseLowerBound(l){let h=this.$(this.Y,l);return new s(h,this.h,this)}reverseUpperBound(l){let h=this.rr(this.Y,l);return new s(h,this.h,this)}union(l){let h=this;return l.forEach(function(c){h.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),qb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(Rp()),i=r(Dp()),n=dn();function r(l){return l&&l.t?l:{default:l}}var s=class Bp extends i.default{constructor(h,c,u,f){super(h,c,f),this.container=u}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let h=this;return new Proxy([],{get(c,u){if(u==="0")return h.o.u;if(u==="1")return h.o.l},set(c,u,f){if(u!=="1")throw new TypeError("props must be 1");return h.o.l=f,!0}})}copy(){return new Bp(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],h,c){super(h,c);let u=this;l.forEach(function(f){u.setElement(f[0],f[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let h=this.X(this.Y,l);return new s(h,this.h,this)}upperBound(l){let h=this.Z(this.Y,l);return new s(h,this.h,this)}reverseLowerBound(l){let h=this.$(this.Y,l);return new s(h,this.h,this)}reverseUpperBound(l){let h=this.rr(this.Y,l);return new s(h,this.h,this)}setElement(l,h,c){return this.M(l,h,c)}find(l){let h=this.I(this.Y,l);return new s(h,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let h=this;return l.forEach(function(c){h.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),Np=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=e;function e(i){let n=typeof i;return n==="object"&&i!==null||n==="function"}}),Fp=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var e=fn(),i=r(Np()),n=dn();function r(a){return a&&a.t?a:{default:a}}var s=class extends e.ContainerIterator{constructor(a,l,h){super(h),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=s;var o=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:h}=a;l.B=h,h.L=l,a===this.p&&(this.p=h),a===this._&&(this._=l),this.i-=1}M(a,l,h){h===void 0&&(h=(0,i.default)(a));let c;if(h){let u=a[this.HASH_TAG];if(u!==void 0)return this.H[u].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:a,l,L:this._,B:this.h},this.H.push(c)}else{let u=this.g[a];if(u)return u.l=l,this.i;c={u:a,l,L:this._,B:this.h},this.g[a]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(a,l){if(l===void 0&&(l=(0,i.default)(a)),l){let h=a[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let h;if(l===void 0&&(l=(0,i.default)(a)),l){let c=a[this.HASH_TAG];if(c===void 0)return!1;delete a[this.HASH_TAG],h=this.H[c],delete this.H[c]}else{if(h=this.g[a],h===void 0)return!1;delete this.g[a]}return this.V(h),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,n.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};t.HashContainer=o}),$b=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Fp(),i=dn(),n=class Up extends e.HashContainerIterator{constructor(a,l,h,c){super(a,l,c),this.container=h}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.u}copy(){return new Up(this.o,this.h,this.container,this.iteratorType)}},r=class extends e.HashContainer{constructor(o=[]){super();let a=this;o.forEach(function(l){a.insert(l)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(o,a){return this.M(o,void 0,a)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return a.u}find(o,a){let l=this.I(o,a);return new n(l,this.h,this)}forEach(o){let a=0,l=this.p;for(;l!==this.h;)o(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield o.u,o=o.B}).bind(this)()}},s=r;t.default=s}),Gb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Fp(),i=r(Np()),n=dn();function r(l){return l&&l.t?l:{default:l}}var s=class jp extends e.HashContainerIterator{constructor(h,c,u,f){super(h,c,f),this.container=u}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let h=this;return new Proxy([],{get(c,u){if(u==="0")return h.o.u;if(u==="1")return h.o.l},set(c,u,f){if(u!=="1")throw new TypeError("props must be 1");return h.o.l=f,!0}})}copy(){return new jp(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.HashContainer{constructor(l=[]){super();let h=this;l.forEach(function(c){h.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,h,c){return this.M(l,h,c)}getElementByKey(l,h){if(h===void 0&&(h=(0,i.default)(l)),h){let u=l[this.HASH_TAG];return u!==void 0?this.H[u].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let h=this.p;for(;l--;)h=h.B;return[h.u,h.l]}find(l,h){let c=this.I(l,h);return new s(c,this.h,this)}forEach(l){let h=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],h++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=o;t.default=a}),Kb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return r.default}});var e=u(Fb()),i=u(Ub()),n=u(jb()),r=u(Wb()),s=u(zb()),o=u(Yb()),a=u(Vb()),l=u(qb()),h=u($b()),c=u(Gb());function u(f){return f&&f.t?f:{default:f}}}),Qb=ve((t,e)=>{de(),ge(),pe();var i=Kb().OrderedSet,n=hn()("number-allocator:trace"),r=hn()("number-allocator:error");function s(a,l){this.low=a,this.high=l}s.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},s.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function o(a,l){if(!(this instanceof o))return new o(a,l);this.min=a,this.max=l,this.ss=new i([],(h,c)=>h.compare(c)),n("Create"),this.clear()}o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,h=a.pointer.high,c=l;return c+1<=h?this.ss.updateKeyByIterator(a,new s(l+1,h)):this.ss.eraseElementByPos(0),n("alloc():"+c),c},o.prototype.use=function(a){let l=new s(a,a),h=this.ss.lowerBound(l);if(!h.equals(this.ss.end())){let c=h.pointer.low,u=h.pointer.high;return h.pointer.equals(l)?(this.ss.eraseElementByIterator(h),n("use():"+a),!0):c>a?!1:c===a?(this.ss.updateKeyByIterator(h,new s(c+1,u)),n("use():"+a),!0):u===a?(this.ss.updateKeyByIterator(h,new s(c,u-1)),n("use():"+a),!0):(this.ss.updateKeyByIterator(h,new s(a+1,u)),this.ss.insert(new s(c,a-1)),n("use():"+a),!0)}return n("use():failed"),!1},o.prototype.free=function(a){if(a<this.min||a>this.max){r("free():"+a+" is out of range");return}let l=new s(a,a),h=this.ss.upperBound(l);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(l);return}h.pre();let c=h.pointer.high;h.pointer.high+1===a?this.ss.updateKeyByIterator(h,new s(c,a)):this.ss.insert(l)}else if(h.equals(this.ss.begin()))if(a+1===h.pointer.low){let c=h.pointer.high;this.ss.updateKeyByIterator(h,new s(a,c))}else this.ss.insert(l);else{let c=h.pointer.low,u=h.pointer.high;h.pre();let f=h.pointer.low;h.pointer.high+1===a?a+1===c?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new s(f,u))):this.ss.updateKeyByIterator(h,new s(f,a)):a+1===c?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new s(a,u))):this.ss.insert(l)}n("free():"+a)},o.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},e.exports=o}),Wp=ve((t,e)=>{de(),ge(),pe();var i=Qb();e.exports.NumberAllocator=i}),Xb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=Nb(),i=Wp(),n=class{constructor(r){r>0&&(this.aliasToTopic=new e.LRUCache({max:r}),this.topicToAlias={},this.numberAllocator=new i.NumberAllocator(1,r),this.max=r,this.length=0)}put(r,s){if(s===0||s>this.max)return!1;let o=this.aliasToTopic.get(s);return o&&delete this.topicToAlias[o],this.aliasToTopic.set(s,r),this.topicToAlias[r]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(r){return this.aliasToTopic.get(r)}getAliasByTopic(r){let s=this.topicToAlias[r];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=n}),Jb=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var i=ga(),n=e(Xb()),r=Br(),s=(o,a)=>{o.log("_handleConnack");let{options:l}=o,h=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(o.connackTimer),delete o.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){o.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(o.topicAliasSend=new n.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(h===0)o.reconnecting=!1,o._onConnect(a);else if(h>0){let c=new r.ErrorWithReasonCode(`Connection refused: ${i.ReasonCodes[h]}`,h);o.emit("error",c),o.options.reconnectOnConnackError&&o._cleanUp(!0)}};t.default=s}),Zb=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=(i,n,r)=>{i.log("handling pubrel packet");let s=typeof r<"u"?r:i.noop,{messageId:o}=n,a={cmd:"pubcomp",messageId:o};i.incomingStore.get(n,(l,h)=>{l?i._sendPacket(a,s):(i.emit("message",h.topic,h.payload,h),i.handleMessage(h,c=>{if(c)return s(c);i.incomingStore.del(h,i.noop),i._sendPacket(a,s)}))})};t.default=e}),ey=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var i=e(Db()),n=e(Bb()),r=e(Jb()),s=e(ga()),o=e(Zb()),a=(l,h,c)=>{let{options:u}=l;if(u.protocolVersion===5&&u.properties&&u.properties.maximumPacketSize&&u.properties.maximumPacketSize<h.length)return l.emit("error",new Error(`exceeding packets size ${h.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",h),h.cmd){case"publish":(0,i.default)(l,h,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,h),c();break;case"pubrel":l.reschedulePing(),(0,o.default)(l,h,c);break;case"connack":(0,r.default)(l,h),c();break;case"auth":l.reschedulePing(),(0,n.default)(l,h),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",h),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};t.default=a}),ty=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var i=e((Lr(),at(dr))),n=Br(),r=class{};t.TypedEventEmitter=r,(0,n.applyMixin)(r,i.default)}),ma=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var e=()=>{var s;return typeof window<"u"?typeof navigator<"u"&&((s=navigator.userAgent)===null||s===void 0?void 0:s.toLowerCase().indexOf(" electron/"))>-1&&Je!=null&&Je.versions?!Object.prototype.hasOwnProperty.call(Je.versions,"electron"):typeof window.document<"u":!1},i=()=>{var s,o;return!!(typeof self=="object"&&!((o=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||o===void 0)&&o.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",r=e()||i()||n();t.isWebWorker=i(),t.isReactNativeBrowser=n(),t.default=r}),iy=ve((t,e)=>{de(),ge(),pe(),function(i,n){typeof t=="object"&&typeof e<"u"?n(t):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.fastUniqueNumbers={}))}(t,function(i){var n=function(d){return function(g){var y=d(g);return g.add(y),y}},r=function(d){return function(g,y){return d.set(g,y),y}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=o*2,l=function(d,g){return function(y){var _=g.get(y),w=_===void 0?y.size:_<a?_+1:0;if(!y.has(w))return d(y,w);if(y.size<o){for(;y.has(w);)w=Math.floor(Math.random()*a);return d(y,w)}if(y.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(w);)w=Math.floor(Math.random()*s);return d(y,w)}},h=new WeakMap,c=r(h),u=l(c,h),f=n(u);i.addUniqueNumber=f,i.generateUniqueNumber=u})}),ny=ve((t,e)=>{de(),ge(),pe(),function(i,n){typeof t=="object"&&typeof e<"u"?n(t,iy()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.workerTimersBroker={},i.fastUniqueNumbers))}(t,function(i,n){var r=function(a){return a.method!==void 0&&a.method==="call"},s=function(a){return a.error===null&&typeof a.id=="number"},o=function(a){var l=new Map([[0,function(){}]]),h=new Map([[0,function(){}]]),c=new Map,u=new Worker(a);u.addEventListener("message",function(_){var w=_.data;if(r(w)){var v=w.params,S=v.timerId,A=v.timerType;if(A==="interval"){var O=l.get(S);if(typeof O=="number"){var x=c.get(O);if(x===void 0||x.timerId!==S||x.timerType!==A)throw new Error("The timer is in an undefined state.")}else if(typeof O<"u")O();else throw new Error("The timer is in an undefined state.")}else if(A==="timeout"){var M=h.get(S);if(typeof M=="number"){var T=c.get(M);if(T===void 0||T.timerId!==S||T.timerType!==A)throw new Error("The timer is in an undefined state.")}else if(typeof M<"u")M(),h.delete(S);else throw new Error("The timer is in an undefined state.")}}else if(s(w)){var B=w.id,q=c.get(B);if(q===void 0)throw new Error("The timer is in an undefined state.");var $=q.timerId,k=q.timerType;c.delete(B),k==="interval"?l.delete($):h.delete($)}else{var Y=w.error.message;throw new Error(Y)}});var f=function(_){var w=n.generateUniqueNumber(c);c.set(w,{timerId:_,timerType:"interval"}),l.set(_,w),u.postMessage({id:w,method:"clear",params:{timerId:_,timerType:"interval"}})},d=function(_){var w=n.generateUniqueNumber(c);c.set(w,{timerId:_,timerType:"timeout"}),h.set(_,w),u.postMessage({id:w,method:"clear",params:{timerId:_,timerType:"timeout"}})},g=function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=n.generateUniqueNumber(l);return l.set(v,function(){_(),typeof l.get(v)=="function"&&u.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:v,timerType:"interval"}})}),u.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:v,timerType:"interval"}}),v},y=function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=n.generateUniqueNumber(h);return h.set(v,_),u.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:v,timerType:"timeout"}}),v};return{clearInterval:f,clearTimeout:d,setInterval:g,setTimeout:y}};i.load=o})}),ry=ve((t,e)=>{de(),ge(),pe(),function(i,n){typeof t=="object"&&typeof e<"u"?n(t,ny()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.workerTimers={},i.workerTimersBroker))}(t,function(i,n){var r=function(u,f){var d=null;return function(){if(d!==null)return d;var g=new Blob([f],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(g);return d=u(y),setTimeout(function(){return URL.revokeObjectURL(y)}),d}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,o=r(n.load,s),a=function(u){return o().clearInterval(u)},l=function(u){return o().clearTimeout(u)},h=function(){var u;return(u=o()).setInterval.apply(u,arguments)},c=function(){var u;return(u=o()).setTimeout.apply(u,arguments)};i.clearInterval=a,i.clearTimeout=l,i.setInterval=h,i.setTimeout=c})}),sy=ve(t=>{de(),ge(),pe();var e=t&&t.__createBinding||(Object.create?function(h,c,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(c,u);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(h,f,d)}:function(h,c,u,f){f===void 0&&(f=u),h[f]=c[u]}),i=t&&t.__setModuleDefault||(Object.create?function(h,c){Object.defineProperty(h,"default",{enumerable:!0,value:c})}:function(h,c){h.default=c}),n=t&&t.__importStar||function(h){if(h&&h.__esModule)return h;var c={};if(h!=null)for(var u in h)u!=="default"&&Object.prototype.hasOwnProperty.call(h,u)&&e(c,h,u);return i(c,h),c};Object.defineProperty(t,"__esModule",{value:!0});var r=n(ma()),s=ry(),o={set:s.setInterval,clear:s.clearInterval},a={set:(h,c)=>setInterval(h,c),clear:h=>clearInterval(h)},l=h=>{switch(h){case"native":return a;case"worker":return o;case"auto":default:return r.default&&!r.isWebWorker&&!r.isReactNativeBrowser?o:a}};t.default=l}),zp=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t,"__esModule",{value:!0});var i=e(sy()),n=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(r,s){this.destroyed=!1,this.client=r,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,i.default)(s),this.setKeepalive(r.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(r){if(r*=1e3,isNaN(r)||r<=0||r>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${r}`);this._keepalive=r,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${r}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let r=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+r,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=n}),Th=ve(t=>{de(),ge(),pe();var e=t&&t.__createBinding||(Object.create?function(O,x,M,T){T===void 0&&(T=M);var B=Object.getOwnPropertyDescriptor(x,M);(!B||("get"in B?!x.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return x[M]}}),Object.defineProperty(O,T,B)}:function(O,x,M,T){T===void 0&&(T=M),O[T]=x[M]}),i=t&&t.__setModuleDefault||(Object.create?function(O,x){Object.defineProperty(O,"default",{enumerable:!0,value:x})}:function(O,x){O.default=x}),n=t&&t.__importStar||function(O){if(O&&O.__esModule)return O;var x={};if(O!=null)for(var M in O)M!=="default"&&Object.prototype.hasOwnProperty.call(O,M)&&e(x,O,M);return i(x,O),x},r=t&&t.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(G0()),o=r(Pb()),a=r(Ep()),l=pr(),h=r(Ib()),c=n(Rb()),u=r(hn()),f=r(Mp()),d=r(ey()),g=Br(),y=ty(),_=r(zp()),w=n(ma()),v=globalThis.setImmediate||((...O)=>{let x=O.shift();(0,g.nextTick)(()=>{x(...O)})}),S={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},A=class Ah extends y.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(x,M){super(),this.options=M||{};for(let T in S)typeof this.options[T]>"u"?this.options[T]=S[T]:this.options[T]=M[T];this.log=this.options.log||(0,u.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Ah.VERSION),w.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",w.default?"browser":"node"),this.log("MqttClient :: options.protocol",M.protocol),this.log("MqttClient :: options.protocolVersion",M.protocolVersion),this.log("MqttClient :: options.username",M.username),this.log("MqttClient :: options.keepalive",M.keepalive),this.log("MqttClient :: options.reconnectPeriod",M.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",M.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",M.properties?M.properties.topicAliasMaximum:void 0),this.options.clientId=typeof M.clientId=="string"?M.clientId:Ah.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=M.protocolVersion===5&&M.customHandleAcks?M.customHandleAcks:(...T)=>{T[3](null,0)},this.options.writeCache||(o.default.writeToStream.cacheNumbers=!1),this.streamBuilder=x,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=M.outgoingStore||new f.default,this.incomingStore=M.incomingStore||new f.default,this.queueQoSZero=M.queueQoSZero===void 0?!0:M.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,M.properties&&M.properties.topicAliasMaximum>0&&(M.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(M.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:T}=this,B=()=>{let q=T.shift();this.log("deliver :: entry %o",q);let $=null;if(!q){this._resubscribe();return}$=q.packet,this.log("deliver :: call _sendPacket for %o",$);let k=!0;$.messageId&&$.messageId!==0&&(this.messageIdProvider.register($.messageId)||(k=!1)),k?this._sendPacket($,Y=>{q.cb&&q.cb(Y),B()}):(this.log("messageId: %d has already used. The message is skipped and removed.",$.messageId),B())};this.log("connect :: sending queued packets"),B()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(x,M){M()}handleMessage(x,M){M()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var x;let M=new l.Writable,T=o.default.parser(this.options),B=null,q=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),T.on("packet",H=>{this.log("parser :: on packet push to packets array."),q.push(H)});let $=()=>{this.log("work :: getting next packet in queue");let H=q.shift();if(H)this.log("work :: packet pulled from queue"),(0,d.default)(this,H,k);else{this.log("work :: no packets in queue");let re=B;B=null,this.log("work :: done flag is %s",!!re),re&&re()}},k=()=>{if(q.length)(0,g.nextTick)($);else{let H=B;B=null,H()}};M._write=(H,re,Z)=>{B=Z,this.log("writable stream :: parsing buffer"),T.parse(H),$()};let Y=H=>{this.log("streamErrorHandler :: error",H.message),H.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",H)):this.noop(H)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(M),this.stream.on("error",Y),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let X={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(X.will=Object.assign(Object.assign({},this.options.will),{payload:(x=this.options.will)===null||x===void 0?void 0:x.payload})),this.topicAliasRecv&&(X.properties||(X.properties={}),this.topicAliasRecv&&(X.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(X),T.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let H=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(H)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(x,M,T,B){this.log("publish :: message `%s` to topic `%s`",M,x);let{options:q}=this;typeof T=="function"&&(B=T,T=null),T=T||{},T=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),T);let{qos:$,retain:k,dup:Y,properties:X,cbStorePut:H}=T;if(this._checkDisconnecting(B))return this;let re=()=>{let Z=0;if(($===1||$===2)&&(Z=this._nextId(),Z===null))return this.log("No messageId left"),!1;let V={cmd:"publish",topic:x,payload:M,qos:$,retain:k,messageId:Z,dup:Y};switch(q.protocolVersion===5&&(V.properties=X),this.log("publish :: qos",$),$){case 1:case 2:this.outgoing[V.messageId]={volatile:!1,cb:B||this.noop},this.log("MqttClient:publish: packet cmd: %s",V.cmd),this._sendPacket(V,void 0,H);break;default:this.log("MqttClient:publish: packet cmd: %s",V.cmd),this._sendPacket(V,B,H);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!re())&&this._storeProcessingQueue.push({invoke:re,cbStorePut:T.cbStorePut,callback:B}),this}publishAsync(x,M,T){return new Promise((B,q)=>{this.publish(x,M,T,($,k)=>{$?q($):B(k)})})}subscribe(x,M,T){let B=this.options.protocolVersion;typeof M=="function"&&(T=M),T=T||this.noop;let q=!1,$=[];typeof x=="string"?(x=[x],$=x):Array.isArray(x)?$=x:typeof x=="object"&&(q=x.resubscribe,delete x.resubscribe,$=Object.keys(x));let k=c.validateTopics($);if(k!==null)return v(T,new Error(`Invalid topic ${k}`)),this;if(this._checkDisconnecting(T))return this.log("subscribe: discconecting true"),this;let Y={qos:0};B===5&&(Y.nl=!1,Y.rap=!1,Y.rh=0),M=Object.assign(Object.assign({},Y),M);let X=M.properties,H=[],re=(V,he)=>{if(he=he||M,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,V)||this._resubscribeTopics[V].qos<he.qos||q){let ne={topic:V,qos:he.qos};B===5&&(ne.nl=he.nl,ne.rap=he.rap,ne.rh=he.rh,ne.properties=X),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ne.topic,ne.qos),H.push(ne)}};if(Array.isArray(x)?x.forEach(V=>{this.log("subscribe: array topic %s",V),re(V)}):Object.keys(x).forEach(V=>{this.log("subscribe: object topic %s, %o",V,x[V]),re(V,x[V])}),!H.length)return T(null,[]),this;let Z=()=>{let V=this._nextId();if(V===null)return this.log("No messageId left"),!1;let he={cmd:"subscribe",subscriptions:H,messageId:V};if(X&&(he.properties=X),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ne=[];H.forEach(xe=>{if(this.options.reconnectPeriod>0){let I={qos:xe.qos};B===5&&(I.nl=xe.nl||!1,I.rap=xe.rap||!1,I.rh=xe.rh||0,I.properties=xe.properties),this._resubscribeTopics[xe.topic]=I,ne.push(xe.topic)}}),this.messageIdToTopic[he.messageId]=ne}return this.outgoing[he.messageId]={volatile:!0,cb(ne,xe){if(!ne){let{granted:I}=xe;for(let K=0;K<I.length;K+=1)H[K].qos=I[K]}T(ne,H,xe)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(he),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Z())&&this._storeProcessingQueue.push({invoke:Z,callback:T}),this}subscribeAsync(x,M){return new Promise((T,B)=>{this.subscribe(x,M,(q,$)=>{q?B(q):T($)})})}unsubscribe(x,M,T){typeof x=="string"&&(x=[x]),typeof M=="function"&&(T=M),T=T||this.noop;let B=c.validateTopics(x);if(B!==null)return v(T,new Error(`Invalid topic ${B}`)),this;if(this._checkDisconnecting(T))return this;let q=()=>{let $=this._nextId();if($===null)return this.log("No messageId left"),!1;let k={cmd:"unsubscribe",messageId:$,unsubscriptions:[]};return typeof x=="string"?k.unsubscriptions=[x]:Array.isArray(x)&&(k.unsubscriptions=x),this.options.resubscribe&&k.unsubscriptions.forEach(Y=>{delete this._resubscribeTopics[Y]}),typeof M=="object"&&M.properties&&(k.properties=M.properties),this.outgoing[k.messageId]={volatile:!0,cb:T},this.log("unsubscribe: call _sendPacket"),this._sendPacket(k),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!q())&&this._storeProcessingQueue.push({invoke:q,callback:T}),this}unsubscribeAsync(x,M){return new Promise((T,B)=>{this.unsubscribe(x,M,(q,$)=>{q?B(q):T($)})})}end(x,M,T){this.log("end :: (%s)",this.options.clientId),(x==null||typeof x!="boolean")&&(T=T||M,M=x,x=!1),typeof M!="object"&&(T=T||M,M=null),this.log("end :: cb? %s",!!T),(!T||typeof T!="function")&&(T=this.noop);let B=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close($=>{this.outgoingStore.close(k=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),T){let Y=$||k;this.log("end :: closeStores: invoking callback with args"),T(Y)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},q=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,x),this._cleanUp(x,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(B)},M)};return this.disconnecting?(T(),this):(this._clearReconnect(),this.disconnecting=!0,!x&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,q,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),q()),this)}endAsync(x,M){return new Promise((T,B)=>{this.end(x,M,q=>{q?B(q):T()})})}removeOutgoingMessage(x){if(this.outgoing[x]){let{cb:M}=this.outgoing[x];this._removeOutgoingAndStoreMessage(x,()=>{M(new Error("Message removed"))})}return this}reconnect(x){this.log("client reconnect");let M=()=>{x?(this.options.incomingStore=x.incomingStore,this.options.outgoingStore=x.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=M:M(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(x=>{this.outgoing[x].volatile&&typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(new Error("Connection closed")),delete this.outgoing[x])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(x=>{typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(new Error("Connection closed")),delete this.outgoing[x])}))}_removeTopicAliasAndRecoverTopicName(x){let M;x.properties&&(M=x.properties.topicAlias);let T=x.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",M,T),T.length===0){if(typeof M>"u")return new Error("Unregistered Topic Alias");if(T=this.topicAliasSend.getTopicByAlias(M),typeof T>"u")return new Error("Unregistered Topic Alias");x.topic=T}M&&delete x.properties.topicAlias}_checkDisconnecting(x){return this.disconnecting&&(x&&x!==this.noop?x(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(x,M,T={}){if(M&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",M)),this.log("_cleanUp :: forced? %s",x),x)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let B=Object.assign({cmd:"disconnect"},T);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(B,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),v(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),M&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",M),M())}_storeAndSend(x,M,T){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",x.cmd);let B=x,q;if(B.cmd==="publish"&&(B=(0,h.default)(x),q=this._removeTopicAliasAndRecoverTopicName(B),q))return M&&M(q);this.outgoingStore.put(B,$=>{if($)return M&&M($);T(),this._writePacket(x,M)})}_applyTopicAlias(x){if(this.options.protocolVersion===5&&x.cmd==="publish"){let M;x.properties&&(M=x.properties.topicAlias);let T=x.topic.toString();if(this.topicAliasSend)if(M){if(T.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",T,M),!this.topicAliasSend.put(T,M)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,M),new Error("Sending Topic Alias out of range")}else T.length!==0&&(this.options.autoAssignTopicAlias?(M=this.topicAliasSend.getAliasByTopic(T),M?(x.topic="",x.properties=Object.assign(Object.assign({},x.properties),{topicAlias:M}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",T,M)):(M=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(T,M),x.properties=Object.assign(Object.assign({},x.properties),{topicAlias:M}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",T,M))):this.options.autoUseTopicAlias&&(M=this.topicAliasSend.getAliasByTopic(T),M&&(x.topic="",x.properties=Object.assign(Object.assign({},x.properties),{topicAlias:M}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",T,M))));else if(M)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,M),new Error("Sending Topic Alias out of range")}}_noop(x){this.log("noop ::",x)}_writePacket(x,M){this.log("_writePacket :: packet: %O",x),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",x),this.log("_writePacket :: writing to stream");let T=o.default.writeToStream(x,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",T),!T&&M&&M!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",M)):M&&(this.log("_writePacket :: invoking cb"),M())}_sendPacket(x,M,T,B){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),T=T||this.noop,M=M||this.noop;let q=this._applyTopicAlias(x);if(q){M(q);return}if(!this.connected){if(x.cmd==="auth"){this._writePacket(x,M);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(x,M,T);return}if(B){this._writePacket(x,M);return}switch(x.cmd){case"publish":break;case"pubrel":this._storeAndSend(x,M,T);return;default:this._writePacket(x,M);return}switch(x.qos){case 2:case 1:this._storeAndSend(x,M,T);break;case 0:default:this._writePacket(x,M);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(x,M,T){this.log("_storePacket :: packet: %o",x),this.log("_storePacket :: cb? %s",!!M),T=T||this.noop;let B=x;if(B.cmd==="publish"){B=(0,h.default)(x);let $=this._removeTopicAliasAndRecoverTopicName(B);if($)return M&&M($)}let q=B.qos||0;q===0&&this.queueQoSZero||B.cmd!=="publish"?this.queue.push({packet:B,cb:M}):q>0?(M=this.outgoing[B.messageId]?this.outgoing[B.messageId].cb:null,this.outgoingStore.put(B,$=>{if($)return M&&M($);T()})):M&&M(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new _.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(x=!1){this.keepaliveManager&&this.options.keepalive&&(x||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let x=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&x.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let M=0;M<x.length;M++){let T={};T[x[M]]=this._resubscribeTopics[x[M]],T.resubscribe=!0,this.subscribe(T,{properties:T[x[M]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(x){if(this.disconnected){this.emit("connect",x);return}this.connackPacket=x,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let M=()=>{let T=this.outgoingStore.createStream(),B=()=>{T.destroy(),T=null,this._flushStoreProcessingQueue(),q()},q=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",B),T.on("error",k=>{q(),this._flushStoreProcessingQueue(),this.removeListener("close",B),this.emit("error",k)});let $=()=>{if(!T)return;let k=T.read(1),Y;if(!k){T.once("readable",$);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[k.messageId]){$();return}!this.disconnecting&&!this.reconnectTimer?(Y=this.outgoing[k.messageId]?this.outgoing[k.messageId].cb:null,this.outgoing[k.messageId]={volatile:!1,cb(X,H){Y&&Y(X,H),$()}},this._packetIdsDuringStoreProcessing[k.messageId]=!0,this.messageIdProvider.register(k.messageId)?this._sendPacket(k,void 0,void 0,!0):this.log("messageId: %d has already used.",k.messageId)):T.destroy&&T.destroy()};T.on("end",()=>{let k=!0;for(let Y in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Y]){k=!1;break}this.removeListener("close",B),k?(q(),this._invokeAllStoreProcessingQueue(),this.emit("connect",x)):M()}),$()};M()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let x=this._storeProcessingQueue[0];if(x&&x.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let x of this._storeProcessingQueue)x.cbStorePut&&x.cbStorePut(new Error("Connection closed")),x.callback&&x.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(x,M){delete this.outgoing[x],this.outgoingStore.del({messageId:x},(T,B)=>{M(T,B),this.messageIdProvider.deallocate(x),this._invokeStoreProcessingQueue()})}};A.VERSION=g.MQTTJS_VERSION,t.default=A}),oy=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=Wp(),i=class{constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};t.default=i});function Un(t){throw new RangeError(Hp[t])}function Au(t,e){let i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]);let r=function(s,o){let a=[],l=s.length;for(;l--;)a[l]=o(s[l]);return a}((t=t.replace(Yp,".")).split("."),e).join(".");return n+r}function Ou(t){let e=[],i=0,n=t.length;for(;i<n;){let r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){let s=t.charCodeAt(i++);(64512&s)==56320?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),i--)}else e.push(r)}return e}var Pu,Cu,Yp,Hp,fi,qs,Ya,Ha,Va,qa,wn,ay=Ut(()=>{de(),ge(),pe(),Pu=/^xn--/,Cu=/[^\0-\x7E]/,Yp=/[\x2E\u3002\uFF0E\uFF61]/g,Hp={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fi=Math.floor,qs=String.fromCharCode,Ya=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Ha=function(t,e,i){let n=0;for(t=i?fi(t/700):t>>1,t+=fi(t/e);t>455;n+=36)t=fi(t/35);return fi(n+36*t/(t+38))},Va=function(t){let e=[],i=t.length,n=0,r=128,s=72,o=t.lastIndexOf("-");o<0&&(o=0);for(let l=0;l<o;++l)t.charCodeAt(l)>=128&&Un("not-basic"),e.push(t.charCodeAt(l));for(let l=o>0?o+1:0;l<i;){let h=n;for(let u=1,f=36;;f+=36){l>=i&&Un("invalid-input");let d=(a=t.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(d>=36||d>fi((2147483647-n)/u))&&Un("overflow"),n+=d*u;let g=f<=s?1:f>=s+26?26:f-s;if(d<g)break;let y=36-g;u>fi(2147483647/y)&&Un("overflow"),u*=y}let c=e.length+1;s=Ha(n-h,c,h==0),fi(n/c)>2147483647-r&&Un("overflow"),r+=fi(n/c),n%=c,e.splice(n++,0,r)}var a;return String.fromCodePoint(...e)},qa=function(t){let e=[],i=(t=Ou(t)).length,n=128,r=0,s=72;for(let l of t)l<128&&e.push(qs(l));let o=e.length,a=o;for(o&&e.push("-");a<i;){let l=2147483647;for(let c of t)c>=n&&c<l&&(l=c);let h=a+1;l-n>fi((2147483647-r)/h)&&Un("overflow"),r+=(l-n)*h,n=l;for(let c of t)if(c<n&&++r>2147483647&&Un("overflow"),c==n){let u=r;for(let f=36;;f+=36){let d=f<=s?1:f>=s+26?26:f-s;if(u<d)break;let g=u-d,y=36-d;e.push(qs(Ya(d+g%y,0))),u=fi(g/y)}e.push(qs(Ya(u,0))),s=Ha(r,h,a==o),r=0,++a}++r,++n}return e.join("")},wn={version:"2.1.0",ucs2:{decode:Ou,encode:t=>String.fromCodePoint(...t)},decode:Va,encode:qa,toASCII:function(t){return Au(t,function(e){return Cu.test(e)?"xn--"+qa(e):e})},toUnicode:function(t){return Au(t,function(e){return Pu.test(e)?Va(e.slice(4).toLowerCase()):e})}},wn.decode,wn.encode,wn.toASCII,wn.toUnicode,wn.ucs2,wn.version});function ly(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Iu,br,Ru,Ei,hy=Ut(()=>{de(),ge(),pe(),Iu=function(t,e,i,n){e=e||"&",i=i||"=";var r={};if(typeof t!="string"||t.length===0)return r;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var h,c,u,f,d=t[l].replace(s,"%20"),g=d.indexOf(i);g>=0?(h=d.substr(0,g),c=d.substr(g+1)):(h=d,c=""),u=decodeURIComponent(h),f=decodeURIComponent(c),ly(r,u)?Array.isArray(r[u])?r[u].push(f):r[u]=[r[u],f]:r[u]=f}return r},br=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Ru=function(t,e,i,n){return e=e||"&",i=i||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(r){var s=encodeURIComponent(br(r))+i;return Array.isArray(t[r])?t[r].map(function(o){return s+encodeURIComponent(br(o))}).join(e):s+encodeURIComponent(br(t[r]))}).join(e):n?encodeURIComponent(br(n))+i+encodeURIComponent(br(t)):""},Ei={},Ei.decode=Ei.parse=Iu,Ei.encode=Ei.stringify=Ru,Ei.decode,Ei.encode,Ei.parse,Ei.stringify});function Oh(){throw new Error("setTimeout has not been defined")}function Ph(){throw new Error("clearTimeout has not been defined")}function Vp(t){if(Vi===setTimeout)return setTimeout(t,0);if((Vi===Oh||!Vi)&&setTimeout)return Vi=setTimeout,setTimeout(t,0);try{return Vi(t,0)}catch{try{return Vi.call(null,t,0)}catch{return Vi.call(this||nr,t,0)}}}function cy(){rr&&Xn&&(rr=!1,Xn.length?Pi=Xn.concat(Pi):ls=-1,Pi.length&&qp())}function qp(){if(!rr){var t=Vp(cy);rr=!0;for(var e=Pi.length;e;){for(Xn=Pi,Pi=[];++ls<e;)Xn&&Xn[ls].run();ls=-1,e=Pi.length}Xn=null,rr=!1,function(i){if(qi===clearTimeout)return clearTimeout(i);if((qi===Ph||!qi)&&clearTimeout)return qi=clearTimeout,clearTimeout(i);try{qi(i)}catch{try{return qi.call(null,i)}catch{return qi.call(this||nr,i)}}}(t)}}function Du(t,e){(this||nr).fun=t,(this||nr).array=e}function Fi(){}var Lu,Vi,qi,nr,kt,Xn,Pi,rr,ls,St,uy=Ut(()=>{de(),ge(),pe(),nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,kt=Lu={},function(){try{Vi=typeof setTimeout=="function"?setTimeout:Oh}catch{Vi=Oh}try{qi=typeof clearTimeout=="function"?clearTimeout:Ph}catch{qi=Ph}}(),Pi=[],rr=!1,ls=-1,kt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];Pi.push(new Du(t,e)),Pi.length!==1||rr||Vp(qp)},Du.prototype.run=function(){(this||nr).fun.apply(null,(this||nr).array)},kt.title="browser",kt.browser=!0,kt.env={},kt.argv=[],kt.version="",kt.versions={},kt.on=Fi,kt.addListener=Fi,kt.once=Fi,kt.off=Fi,kt.removeListener=Fi,kt.removeAllListeners=Fi,kt.emit=Fi,kt.prependListener=Fi,kt.prependOnceListener=Fi,kt.listeners=function(t){return[]},kt.binding=function(t){throw new Error("process.binding is not supported")},kt.cwd=function(){return"/"},kt.chdir=function(t){throw new Error("process.chdir is not supported")},kt.umask=function(){return 0},St=Lu,St.addListener,St.argv,St.binding,St.browser,St.chdir,St.cwd,St.emit,St.env,St.listeners,St.nextTick,St.off,St.on,St.once,St.prependListener,St.prependOnceListener,St.removeAllListeners,St.removeListener,St.title,St.umask,St.version,St.versions});function fy(){if(Ch)return xo;Ch=!0;var t=xo={},e,i;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?i=clearTimeout:i=r}catch{i=r}})();function s(y){if(e===setTimeout)return setTimeout(y,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(y,0);try{return e(y,0)}catch{try{return e.call(null,y,0)}catch{return e.call(this||qn,y,0)}}}function o(y){if(i===clearTimeout)return clearTimeout(y);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(y);try{return i(y)}catch{try{return i.call(null,y)}catch{return i.call(this||qn,y)}}}var a=[],l=!1,h,c=-1;function u(){!l||!h||(l=!1,h.length?a=h.concat(a):c=-1,a.length&&f())}function f(){if(!l){var y=s(u);l=!0;for(var _=a.length;_;){for(h=a,a=[];++c<_;)h&&h[c].run();c=-1,_=a.length}h=null,l=!1,o(y)}}t.nextTick=function(y){var _=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)_[w-1]=arguments[w];a.push(new d(y,_)),a.length===1&&!l&&s(f)};function d(y,_){(this||qn).fun=y,(this||qn).array=_}d.prototype.run=function(){(this||qn).fun.apply(null,(this||qn).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}return t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},xo}var xo,Ch,qn,bt,$p=Ut(()=>{de(),ge(),pe(),xo={},Ch=!1,qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,bt=fy(),bt.platform="browser",bt.addListener,bt.argv,bt.binding,bt.browser,bt.chdir,bt.cwd,bt.emit,bt.env,bt.listeners,bt.nextTick,bt.off,bt.on,bt.once,bt.prependListener,bt.prependOnceListener,bt.removeAllListeners,bt.removeListener,bt.title,bt.umask,bt.version,bt.versions});function dy(){if(Ih)return ko;Ih=!0;var t=bt;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function i(s,o){for(var a="",l=0,h=-1,c=0,u,f=0;f<=s.length;++f){if(f<s.length)u=s.charCodeAt(f);else{if(u===47)break;u=47}if(u===47){if(!(h===f-1||c===1))if(h!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var d=a.lastIndexOf("/");if(d!==a.length-1){d===-1?(a="",l=0):(a=a.slice(0,d),l=a.length-1-a.lastIndexOf("/")),h=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,h=f,c=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(h+1,f):a=s.slice(h+1,f),l=f-h-1;h=f,c=0}else u===46&&c!==-1?++c:c=-1}return a}function n(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var r={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var h;l>=0?h=arguments[l]:(a===void 0&&(a=t.cwd()),h=a),e(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=i(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=i(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":r.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,h=l-a,c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var u=o.length,f=u-c,d=h<f?h:f,g=-1,y=0;y<=d;++y){if(y===d){if(f>d){if(o.charCodeAt(c+y)===47)return o.slice(c+y+1);if(y===0)return o.slice(c+y)}else h>d&&(s.charCodeAt(a+y)===47?g=y:y===0&&(g=0));break}var _=s.charCodeAt(a+y),w=o.charCodeAt(c+y);if(_!==w)break;_===47&&(g=y)}var v="";for(y=a+g+1;y<=l;++y)(y===l||s.charCodeAt(y)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+o.slice(c+g):(c+=g,o.charCodeAt(c)===47&&++c,o.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,h=!0,c=s.length-1;c>=1;--c)if(o=s.charCodeAt(c),o===47){if(!h){l=c;break}}else h=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,l=-1,h=!0,c;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var u=o.length-1,f=-1;for(c=s.length-1;c>=0;--c){var d=s.charCodeAt(c);if(d===47){if(!h){a=c+1;break}}else f===-1&&(h=!1,f=c+1),u>=0&&(d===o.charCodeAt(u)?--u===-1&&(l=c):(u=-1,l=f))}return a===l?l=f:l===-1&&(l=s.length),s.slice(a,l)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!h){a=c+1;break}}else l===-1&&(h=!1,l=c+1);return l===-1?"":s.slice(a,l)}},extname:function(s){e(s);for(var o=-1,a=0,l=-1,h=!0,c=0,u=s.length-1;u>=0;--u){var f=s.charCodeAt(u);if(f===47){if(!h){a=u+1;break}continue}l===-1&&(h=!1,l=u+1),f===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,h;l?(o.root="/",h=1):h=0;for(var c=-1,u=0,f=-1,d=!0,g=s.length-1,y=0;g>=h;--g){if(a=s.charCodeAt(g),a===47){if(!d){u=g+1;break}continue}f===-1&&(d=!1,f=g+1),a===46?c===-1?c=g:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||f===-1||y===0||y===1&&c===f-1&&c===u+1?f!==-1&&(u===0&&l?o.base=o.name=s.slice(1,f):o.base=o.name=s.slice(u,f)):(u===0&&l?(o.name=s.slice(1,c),o.base=s.slice(1,f)):(o.name=s.slice(u,c),o.base=s.slice(u,f)),o.ext=s.slice(c,f)),u>0?o.dir=s.slice(0,u-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,ko=r,ko}var ko,Ih,Rh,py=Ut(()=>{de(),ge(),pe(),$p(),ko={},Ih=!1,Rh=dy()}),Gp={};ur(Gp,{URL:()=>fg,Url:()=>ag,default:()=>tt,fileURLToPath:()=>Kp,format:()=>lg,parse:()=>ug,pathToFileURL:()=>Qp,resolve:()=>hg,resolveObject:()=>cg});function ai(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Yr(t,e,i){if(t&&pi.isObject(t)&&t instanceof ai)return t;var n=new ai;return n.parse(t,e,i),n}function gy(){if(Dh)return Eo;Dh=!0;var t=St;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function i(s,o){for(var a="",l=0,h=-1,c=0,u,f=0;f<=s.length;++f){if(f<s.length)u=s.charCodeAt(f);else{if(u===47)break;u=47}if(u===47){if(!(h===f-1||c===1))if(h!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var d=a.lastIndexOf("/");if(d!==a.length-1){d===-1?(a="",l=0):(a=a.slice(0,d),l=a.length-1-a.lastIndexOf("/")),h=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,h=f,c=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(h+1,f):a=s.slice(h+1,f),l=f-h-1;h=f,c=0}else u===46&&c!==-1?++c:c=-1}return a}function n(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var r={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var h;l>=0?h=arguments[l]:(a===void 0&&(a=t.cwd()),h=a),e(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=i(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=i(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":r.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,h=l-a,c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var u=o.length,f=u-c,d=h<f?h:f,g=-1,y=0;y<=d;++y){if(y===d){if(f>d){if(o.charCodeAt(c+y)===47)return o.slice(c+y+1);if(y===0)return o.slice(c+y)}else h>d&&(s.charCodeAt(a+y)===47?g=y:y===0&&(g=0));break}var _=s.charCodeAt(a+y),w=o.charCodeAt(c+y);if(_!==w)break;_===47&&(g=y)}var v="";for(y=a+g+1;y<=l;++y)(y===l||s.charCodeAt(y)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+o.slice(c+g):(c+=g,o.charCodeAt(c)===47&&++c,o.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,h=!0,c=s.length-1;c>=1;--c)if(o=s.charCodeAt(c),o===47){if(!h){l=c;break}}else h=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,l=-1,h=!0,c;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var u=o.length-1,f=-1;for(c=s.length-1;c>=0;--c){var d=s.charCodeAt(c);if(d===47){if(!h){a=c+1;break}}else f===-1&&(h=!1,f=c+1),u>=0&&(d===o.charCodeAt(u)?--u===-1&&(l=c):(u=-1,l=f))}return a===l?l=f:l===-1&&(l=s.length),s.slice(a,l)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!h){a=c+1;break}}else l===-1&&(h=!1,l=c+1);return l===-1?"":s.slice(a,l)}},extname:function(s){e(s);for(var o=-1,a=0,l=-1,h=!0,c=0,u=s.length-1;u>=0;--u){var f=s.charCodeAt(u);if(f===47){if(!h){a=u+1;break}continue}l===-1&&(h=!1,l=u+1),f===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,h;l?(o.root="/",h=1):h=0;for(var c=-1,u=0,f=-1,d=!0,g=s.length-1,y=0;g>=h;--g){if(a=s.charCodeAt(g),a===47){if(!d){u=g+1;break}continue}f===-1&&(d=!1,f=g+1),a===46?c===-1?c=g:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||f===-1||y===0||y===1&&c===f-1&&c===u+1?f!==-1&&(u===0&&l?o.base=o.name=s.slice(1,f):o.base=o.name=s.slice(u,f)):(u===0&&l?(o.name=s.slice(1,c),o.base=s.slice(1,f)):(o.name=s.slice(u,c),o.base=s.slice(u,f)),o.ext=s.slice(c,f)),u>0?o.dir=s.slice(0,u-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,Eo=r,Eo}function my(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return $o?by(t):yy(t)}function by(t){let e=t.hostname,i=t.pathname;for(let n=0;n<i.length;n++)if(i[n]==="%"){let r=i.codePointAt(n+2)||32;if(i[n+1]==="2"&&r===102||i[n+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(i=i.replace(tg,"\\"),i=decodeURIComponent(i),e!=="")return`\\\\${e}${i}`;{let n=i.codePointAt(1)|32,r=i[2];if(n<Zp||n>eg||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return i.slice(1)}}function yy(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let i=0;i<e.length;i++)if(e[i]==="%"){let n=e.codePointAt(i+2)||32;if(e[i+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function _y(t){let e=Lh.resolve(t),i=t.charCodeAt(t.length-1);(i===Jp||$o&&i===Xp)&&e[e.length-1]!==Lh.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(ig,"%25")),!$o&&e.includes("\\")&&(e=e.replace(ng,"%5C")),e.includes(`
`)&&(e=e.replace(rg,"%0A")),e.includes("\r")&&(e=e.replace(sg,"%0D")),e.includes("	")&&(e=e.replace(og,"%09")),n.pathname=e,n}function Kp(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Go?wy(t):vy(t)}function wy(t){let e=t.hostname,i=t.pathname;for(let n=0;n<i.length;n++)if(i[n]==="%"){let r=i.codePointAt(n+2)||32;if(i[n+1]==="2"&&r===102||i[n+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(i=i.replace(bg,"\\"),i=decodeURIComponent(i),e!=="")return`\\\\${e}${i}`;{let n=i.codePointAt(1)|32,r=i[2];if(n<gg||n>mg||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return i.slice(1)}}function vy(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let i=0;i<e.length;i++)if(e[i]==="%"){let n=e.codePointAt(i+2)||32;if(e[i+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function Qp(t){let e=Rh.resolve(t),i=t.charCodeAt(t.length-1);(i===pg||Go&&i===dg)&&e[e.length-1]!==Rh.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(yg,"%25")),!Go&&e.includes("\\")&&(e=e.replace(_g,"%5C")),e.includes(`
`)&&(e=e.replace(wg,"%0A")),e.includes("\r")&&(e=e.replace(vg,"%0D")),e.includes("	")&&(e=e.replace(Sg,"%09")),n.pathname=e,n}var tt,Bu,pi,Nu,Fu,Uu,ju,$s,$a,Ga,Ka,Wu,zu,Gs,jn,Ks,Eo,Dh,Lh,Yu,Xp,Jp,Zp,eg,$o,tg,ig,ng,rg,sg,og,Hu,ag,lg,hg,cg,ug,fg,dg,pg,gg,mg,Go,bg,yg,_g,wg,vg,Sg,Sy=Ut(()=>{de(),ge(),pe(),ay(),hy(),uy(),py(),$p(),tt={},Bu=wn,pi={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},tt.parse=Yr,tt.resolve=function(t,e){return Yr(t,!1,!0).resolve(e)},tt.resolveObject=function(t,e){return t?Yr(t,!1,!0).resolveObject(e):e},tt.format=function(t){return pi.isString(t)&&(t=Yr(t)),t instanceof ai?t.format():ai.prototype.format.call(t)},tt.Url=ai,Nu=/^([a-z0-9.+-]+:)/i,Fu=/:[0-9]*$/,Uu=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ju=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),$s=["'"].concat(ju),$a=["%","/","?",";","#"].concat($s),Ga=["/","?","#"],Ka=/^[+a-z0-9A-Z_-]{0,63}$/,Wu=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zu={javascript:!0,"javascript:":!0},Gs={javascript:!0,"javascript:":!0},jn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ks=Ei,ai.prototype.parse=function(t,e,i){if(!pi.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(r);s[0]=s[0].replace(/\\/g,"/");var o=t=s.join(r);if(o=o.trim(),!i&&t.split("#").length===1){var a=Uu.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Ks.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=Nu.exec(o);if(l){var h=(l=l[0]).toLowerCase();this.protocol=h,o=o.substr(l.length)}if(i||l||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=o.substr(0,2)==="//";!c||l&&Gs[l]||(o=o.substr(2),this.slashes=!0)}if(!Gs[l]&&(c||l&&!jn[l])){for(var u,f,d=-1,g=0;g<Ga.length;g++)(y=o.indexOf(Ga[g]))!==-1&&(d===-1||y<d)&&(d=y);for((f=d===-1?o.lastIndexOf("@"):o.lastIndexOf("@",d))!==-1&&(u=o.slice(0,f),o=o.slice(f+1),this.auth=decodeURIComponent(u)),d=-1,g=0;g<$a.length;g++){var y;(y=o.indexOf($a[g]))!==-1&&(d===-1||y<d)&&(d=y)}d===-1&&(d=o.length),this.host=o.slice(0,d),o=o.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var w=this.hostname.split(/\./),v=(g=0,w.length);g<v;g++){var S=w[g];if(S&&!S.match(Ka)){for(var A="",O=0,x=S.length;O<x;O++)S.charCodeAt(O)>127?A+="x":A+=S[O];if(!A.match(Ka)){var M=w.slice(0,g),T=w.slice(g+1),B=S.match(Wu);B&&(M.push(B[1]),T.unshift(B[2])),T.length&&(o="/"+T.join(".")+o),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=Bu.toASCII(this.hostname));var q=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+q,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!zu[h])for(g=0,v=$s.length;g<v;g++){var k=$s[g];if(o.indexOf(k)!==-1){var Y=encodeURIComponent(k);Y===k&&(Y=escape(k)),o=o.split(k).join(Y)}}var X=o.indexOf("#");X!==-1&&(this.hash=o.substr(X),o=o.slice(0,X));var H=o.indexOf("?");if(H!==-1?(this.search=o.substr(H),this.query=o.substr(H+1),e&&(this.query=Ks.parse(this.query)),o=o.slice(0,H)):e&&(this.search="",this.query={}),o&&(this.pathname=o),jn[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var re=this.search||"";this.path=q+re}return this.href=this.format(),this},ai.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&pi.isObject(this.query)&&Object.keys(this.query).length&&(s=Ks.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||jn[e])&&r!==!1?(r="//"+(r||""),i&&i.charAt(0)!=="/"&&(i="/"+i)):r||(r=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),e+r+(i=i.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+n},ai.prototype.resolve=function(t){return this.resolveObject(Yr(t,!1,!0)).format()},ai.prototype.resolveObject=function(t){if(pi.isString(t)){var e=new ai;e.parse(t,!1,!0),t=e}for(var i=new ai,n=Object.keys(this),r=0;r<n.length;r++){var s=n[r];i[s]=this[s]}if(i.hash=t.hash,t.href==="")return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(i[l]=t[l])}return jn[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!jn[t.protocol]){for(var h=Object.keys(t),c=0;c<h.length;c++){var u=h[c];i[u]=t[u]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||Gs[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),f[0]!==""&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var d=i.pathname||"",g=i.search||"";i.path=d+g}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var y=i.pathname&&i.pathname.charAt(0)==="/",_=t.host||t.pathname&&t.pathname.charAt(0)==="/",w=_||y||i.host&&t.pathname,v=w,S=i.pathname&&i.pathname.split("/")||[],A=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!jn[i.protocol]);if(A&&(i.hostname="",i.port=null,i.host&&(S[0]===""?S[0]=i.host:S.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(f[0]===""?f[0]=t.host:f.unshift(t.host)),t.host=null),w=w&&(f[0]===""||S[0]==="")),_)i.host=t.host||t.host===""?t.host:i.host,i.hostname=t.hostname||t.hostname===""?t.hostname:i.hostname,i.search=t.search,i.query=t.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),i.search=t.search,i.query=t.query;else if(!pi.isNullOrUndefined(t.search))return A&&(i.hostname=i.host=S.shift(),(B=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=B.shift(),i.host=i.hostname=B.shift())),i.search=t.search,i.query=t.query,pi.isNull(i.pathname)&&pi.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!S.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var O=S.slice(-1)[0],x=(i.host||t.host||S.length>1)&&(O==="."||O==="..")||O==="",M=0,T=S.length;T>=0;T--)(O=S[T])==="."?S.splice(T,1):O===".."?(S.splice(T,1),M++):M&&(S.splice(T,1),M--);if(!w&&!v)for(;M--;M)S.unshift("..");!w||S[0]===""||S[0]&&S[0].charAt(0)==="/"||S.unshift(""),x&&S.join("/").substr(-1)!=="/"&&S.push("");var B,q=S[0]===""||S[0]&&S[0].charAt(0)==="/";return A&&(i.hostname=i.host=q?"":S.length?S.shift():"",(B=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=B.shift(),i.host=i.hostname=B.shift())),(w=w||i.host&&S.length)&&!q&&S.unshift(""),S.length?i.pathname=S.join("/"):(i.pathname=null,i.path=null),pi.isNull(i.pathname)&&pi.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},ai.prototype.parseHost=function(){var t=this.host,e=Fu.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},tt.Url,tt.format,tt.resolve,tt.resolveObject,Eo={},Dh=!1,Lh=gy(),Yu=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,tt.URL=typeof URL<"u"?URL:null,tt.pathToFileURL=_y,tt.fileURLToPath=my,tt.Url,tt.format,tt.resolve,tt.resolveObject,tt.URL,Xp=92,Jp=47,Zp=97,eg=122,$o=Yu==="win32",tg=/\//g,ig=/%/g,ng=/\\/g,rg=/\n/g,sg=/\r/g,og=/\t/g,Hu=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,tt.URL=typeof URL<"u"?URL:null,tt.pathToFileURL=Qp,tt.fileURLToPath=Kp,ag=tt.Url,lg=tt.format,hg=tt.resolve,cg=tt.resolveObject,ug=tt.parse,fg=tt.URL,dg=92,pg=47,gg=97,mg=122,Go=Hu==="win32",bg=/\//g,yg=/%/g,_g=/\\/g,wg=/\n/g,vg=/\r/g,Sg=/\t/g}),xy=ve((t,e)=>{de(),ge(),pe(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),mc=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var e=pr(),i=(Wt(),at(jt));function n(s,o){let a=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?a[l]=i.Buffer.from(s[l].chunk,"utf8"):a[l]=s[l].chunk;this._write(i.Buffer.concat(a),"binary",o)}t.writev=n;var r=class extends e.Duplex{constructor(s,o,a){super({objectMode:!0}),this.proxy=o,this.socket=a,this.writeQueue=[],s.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(s){this.proxy.read(s)}_write(s,o,a){this.isSocketOpen?this.writeToProxy(s,o,a):this.writeQueue.push({chunk:s,encoding:o,cb:a})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,o){this.writeQueue=[],this.proxy.destroy(),o(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,o,a){this.proxy.write(s,o)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:o,cb:a}=this.writeQueue.shift();this.writeToProxy(s,o,a)}}};t.BufferedDuplex=r}),Qs=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var i=(Wt(),at(jt)),n=e(xy()),r=e(hn()),s=pr(),o=e(ma()),a=mc(),l=(0,r.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(w,v){let S=`${w.protocol}://${w.hostname}:${w.port}${w.path}`;return typeof w.transformWsUrl=="function"&&(S=w.transformWsUrl(S,w,v)),S}function u(w){let v=w;return w.port||(w.protocol==="wss"?v.port=443:v.port=80),w.path||(v.path="/"),w.wsOptions||(v.wsOptions={}),!o.default&&!w.forceNativeWebSocket&&w.protocol==="wss"&&h.forEach(S=>{Object.prototype.hasOwnProperty.call(w,S)&&!Object.prototype.hasOwnProperty.call(w.wsOptions,S)&&(v.wsOptions[S]=w[S])}),v}function f(w){let v=u(w);if(v.hostname||(v.hostname=v.host),!v.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let S=new URL(document.URL);v.hostname=S.hostname,v.port||(v.port=Number(S.port))}return v.objectMode===void 0&&(v.objectMode=!(v.binary===!0||v.binary===void 0)),v}function d(w,v,S){l("createWebSocket"),l(`protocol: ${S.protocolId} ${S.protocolVersion}`);let A=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${v} and protocol: ${A}`);let O;return S.createWebsocket?O=S.createWebsocket(v,[A],S):O=new n.default(v,[A],S.wsOptions),O}function g(w,v){let S=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt",A=c(v,w),O;return v.createWebsocket?O=v.createWebsocket(A,[S],v):O=new WebSocket(A,[S]),O.binaryType="arraybuffer",O}var y=(w,v)=>{l("streamBuilder");let S=u(v);S.hostname=S.hostname||S.host||"localhost";let A=c(S,w),O=d(w,A,S),x=n.default.createWebSocketStream(O,S.wsOptions);return x.url=A,O.on("close",()=>{x.destroy()}),x};t.streamBuilder=y;var _=(w,v)=>{l("browserStreamBuilder");let S,A=f(v).browserBufferSize||1024*512,O=v.browserBufferTimeout||1e3,x=!v.objectMode,M=g(w,v),T=q(v,H,re);v.objectMode||(T._writev=a.writev.bind(T)),T.on("close",()=>{M.close()});let B=typeof M.addEventListener<"u";M.readyState===M.OPEN?(S=T,S.socket=M):(S=new a.BufferedDuplex(v,T,M),B?M.addEventListener("open",$):M.onopen=$),B?(M.addEventListener("close",k),M.addEventListener("error",Y),M.addEventListener("message",X)):(M.onclose=k,M.onerror=Y,M.onmessage=X);function q(Z,V,he){let ne=new s.Transform({objectMode:Z.objectMode});return ne._write=V,ne._flush=he,ne}function $(){l("WebSocket onOpen"),S instanceof a.BufferedDuplex&&S.socketReady()}function k(Z){l("WebSocket onClose",Z),S.end(),S.destroy()}function Y(Z){l("WebSocket onError",Z);let V=new Error("WebSocket error");V.event=Z,S.destroy(V)}async function X(Z){let{data:V}=Z;V instanceof ArrayBuffer?V=i.Buffer.from(V):V instanceof Blob?V=i.Buffer.from(await new Response(V).arrayBuffer()):V=i.Buffer.from(V,"utf8"),T&&!T.destroyed&&T.push(V)}function H(Z,V,he){if(M.bufferedAmount>A){setTimeout(H,O,Z,V,he);return}x&&typeof Z=="string"&&(Z=i.Buffer.from(Z,"utf8"));try{M.send(Z)}catch(ne){return he(ne)}he()}function re(Z){M.close(),Z()}return S};t.browserStreamBuilder=_}),bc={};ur(bc,{Server:()=>_t,Socket:()=>_t,Stream:()=>_t,_createServerHandle:()=>_t,_normalizeArgs:()=>_t,_setSimultaneousAccepts:()=>_t,connect:()=>_t,createConnection:()=>_t,createServer:()=>_t,default:()=>xg,isIP:()=>_t,isIPv4:()=>_t,isIPv6:()=>_t});function _t(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var xg,kg=Ut(()=>{de(),ge(),pe(),xg={_createServerHandle:_t,_normalizeArgs:_t,_setSimultaneousAccepts:_t,connect:_t,createConnection:_t,createServer:_t,isIP:_t,isIPv4:_t,isIPv6:_t,Server:_t,Socket:_t,Stream:_t}}),Vu=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var i=e((kg(),at(bc))),n=e(hn()),r=(0,n.default)("mqttjs:tcp"),s=(o,a)=>{a.port=a.port||1883,a.hostname=a.hostname||a.host||"localhost";let{port:l,path:h}=a,c=a.hostname;return r("port %d and host %s",l,c),i.default.createConnection({port:l,host:c,path:h})};t.default=s}),Eg={};ur(Eg,{default:()=>Mg});var Mg,ky=Ut(()=>{de(),ge(),pe(),Mg={}}),qu=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var i=e((ky(),at(Eg))),n=e((kg(),at(bc))),r=e(hn()),s=(0,r.default)("mqttjs:tls"),o=(a,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",n.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,s("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let h=i.default.connect(l);h.on("secureConnect",()=>{l.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",c)});function c(u){l.rejectUnauthorized&&a.emit("error",u),h.end()}return h.on("error",c),h};t.default=o}),$u=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=(Wt(),at(jt)),i=pr(),n=mc(),r,s,o;function a(){let f=new i.Transform;return f._write=(d,g,y)=>{r.send({data:d.buffer,success(){y()},fail(_){y(new Error(_))}})},f._flush=d=>{r.close({success(){d()}})},f}function l(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function h(f,d){let g=f.protocol==="wxs"?"wss":"ws",y=`${g}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(y=`${g}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(y=f.transformWsUrl(y,f,d)),y}function c(){r.onOpen(()=>{o.socketReady()}),r.onMessage(f=>{let{data:d}=f;d instanceof ArrayBuffer?d=e.Buffer.from(d):d=e.Buffer.from(d,"utf8"),s.push(d)}),r.onClose(()=>{o.emit("close"),o.end(),o.destroy()}),r.onError(f=>{let d=new Error(f.errMsg);o.destroy(d)})}var u=(f,d)=>{if(d.hostname=d.hostname||d.host,!d.hostname)throw new Error("Could not determine host. Specify host manually.");let g=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt";l(d);let y=h(d,f);r=wx.connectSocket({url:y,protocols:[g]}),s=a(),o=new n.BufferedDuplex(d,s,r),o._destroy=(w,v)=>{r.close({success(){v&&v(w)}})};let _=o.destroy;return o.destroy=(w,v)=>(o.destroy=_,setTimeout(()=>{r.close({fail(){o._destroy(w,v)}})},0),o),c(),o};t.default=u}),Gu=ve(t=>{de(),ge(),pe(),Object.defineProperty(t,"__esModule",{value:!0});var e=(Wt(),at(jt)),i=pr(),n=mc(),r,s,o,a=!1;function l(){let d=new i.Transform;return d._write=(g,y,_)=>{r.sendSocketMessage({data:g.buffer,success(){_()},fail(){_(new Error)}})},d._flush=g=>{r.closeSocket({success(){g()}})},d}function h(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function c(d,g){let y=d.protocol==="alis"?"wss":"ws",_=`${y}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(_=`${y}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(_=d.transformWsUrl(_,d,g)),_}function u(){a||(a=!0,r.onSocketOpen(()=>{o.socketReady()}),r.onSocketMessage(d=>{if(typeof d.data=="string"){let g=e.Buffer.from(d.data,"base64");s.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{let y=g.result;y instanceof ArrayBuffer?y=e.Buffer.from(y):y=e.Buffer.from(y,"utf8"),s.push(y)}),g.readAsArrayBuffer(d.data)}}),r.onSocketClose(()=>{o.end(),o.destroy()}),r.onSocketError(d=>{o.destroy(d)}))}var f=(d,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let y=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";h(g);let _=c(g,d);return r=g.my,r.connectSocket({url:_,protocols:y}),s=l(),o=new n.BufferedDuplex(g,s,r),u(),o};t.default=f}),Ey=ve(t=>{de(),ge(),pe();var e=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var i=e(hn()),n=e((Sy(),at(Gp))),r=e(Th()),s=e(ma());typeof(Je==null?void 0:Je.nextTick)!="function"&&(Je.nextTick=setImmediate);var o=(0,i.default)("mqttjs"),a=null;function l(u){let f;u.auth&&(f=u.auth.match(/^(.+):(.+)$/),f?(u.username=f[1],u.password=f[2]):u.username=u.auth)}function h(u,f){var d,g,y,_;if(o("connecting to an MQTT broker..."),typeof u=="object"&&!f&&(f=u,u=""),f=f||{},u&&typeof u=="string"){let S=n.default.parse(u,!0),A={};if(S.port!=null&&(A.port=Number(S.port)),A.host=S.hostname,A.query=S.query,A.auth=S.auth,A.protocol=S.protocol,A.path=S.path,A.protocol=(d=A.protocol)===null||d===void 0?void 0:d.replace(/:$/,""),f=Object.assign(Object.assign({},A),f),!f.protocol)throw new Error("Missing protocol")}if(f.unixSocket=f.unixSocket||((g=f.protocol)===null||g===void 0?void 0:g.includes("+unix")),f.unixSocket?f.protocol=f.protocol.replace("+unix",""):!(!((y=f.protocol)===null||y===void 0)&&y.startsWith("ws"))&&!(!((_=f.protocol)===null||_===void 0)&&_.startsWith("wx"))&&delete f.path,l(f),f.query&&typeof f.query.clientId=="string"&&(f.clientId=f.query.clientId),f.cert&&f.key)if(f.protocol){if(["mqtts","wss","wxs","alis"].indexOf(f.protocol)===-1)switch(f.protocol){case"mqtt":f.protocol="mqtts";break;case"ws":f.protocol="wss";break;case"wx":f.protocol="wxs";break;case"ali":f.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${f.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!s.default&&!f.forceNativeWebSocket?(a.ws=Qs().streamBuilder,a.wss=Qs().streamBuilder,a.mqtt=Vu().default,a.tcp=Vu().default,a.ssl=qu().default,a.tls=a.ssl,a.mqtts=qu().default):(a.ws=Qs().browserStreamBuilder,a.wss=Qs().browserStreamBuilder,a.wx=$u().default,a.wxs=$u().default,a.ali=Gu().default,a.alis=Gu().default)),!a[f.protocol]){let S=["mqtts","wss"].indexOf(f.protocol)!==-1;f.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((A,O)=>S&&O%2===0?!1:typeof a[A]=="function")[0]}if(f.clean===!1&&!f.clientId)throw new Error("Missing clientId for unclean clients");f.protocol&&(f.defaultProtocol=f.protocol);function w(S){return f.servers&&((!S._reconnectCount||S._reconnectCount===f.servers.length)&&(S._reconnectCount=0),f.host=f.servers[S._reconnectCount].host,f.port=f.servers[S._reconnectCount].port,f.protocol=f.servers[S._reconnectCount].protocol?f.servers[S._reconnectCount].protocol:f.defaultProtocol,f.hostname=f.host,S._reconnectCount++),o("calling streambuilder for",f.protocol),a[f.protocol](S,f)}let v=new r.default(w,f);return v.on("error",()=>{}),v}function c(u,f,d=!0){return new Promise((g,y)=>{let _=h(u,f),w={connect:S=>{v(),g(_)},end:()=>{v(),g(_)},error:S=>{v(),_.end(),y(S)}};d===!1&&(w.close=()=>{w.error(new Error("Couldn't connect to server"))});function v(){Object.keys(w).forEach(S=>{_.off(S,w[S])})}Object.keys(w).forEach(S=>{_.on(S,w[S])})})}t.connectAsync=c,t.default=h}),Ku=ve(t=>{de(),ge(),pe();var e=t&&t.__createBinding||(Object.create?function(d,g,y,_){_===void 0&&(_=y);var w=Object.getOwnPropertyDescriptor(g,y);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(d,_,w)}:function(d,g,y,_){_===void 0&&(_=y),d[_]=g[y]}),i=t&&t.__setModuleDefault||(Object.create?function(d,g){Object.defineProperty(d,"default",{enumerable:!0,value:g})}:function(d,g){d.default=g}),n=t&&t.__importStar||function(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&e(g,d,y);return i(g,d),g},r=t&&t.__exportStar||function(d,g){for(var y in d)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&e(g,d,y)},s=t&&t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var o=s(Th());t.MqttClient=o.default;var a=s(Ep());t.DefaultMessageIdProvider=a.default;var l=s(oy());t.UniqueMessageIdProvider=l.default;var h=s(Mp());t.Store=h.default;var c=n(Ey());t.connect=c.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var u=s(zp());t.KeepaliveManager=u.default,t.Client=o.default,r(Th(),t),r(Br(),t);var f=ga();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})}),My=ve(t=>{de(),ge(),pe();var e=t&&t.__createBinding||(Object.create?function(o,a,l,h){h===void 0&&(h=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,h,c)}:function(o,a,l,h){h===void 0&&(h=l),o[h]=a[l]}),i=t&&t.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),n=t&&t.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&e(a,o,l);return i(a,o),a},r=t&&t.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,o,l)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(Ku());t.default=s,r(Ku(),t)});const Ty=My();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const Ay="wss://mqtt.melo.se:2096/mqtt",Ds=Cs(!1),Tg=Cs("");let Jt;async function Oy(){if(Ls()){console.info("MQTT client is already initialized and connected.");return}try{const t=await Ag(),e=await Og(t);Jt=Py(e.sub,t),Cy(Jt)}catch(t){Fy(t)}}async function Ag(){const{accessToken:t}=await Nd();return t}async function Og(t){return await Rd(t)}function Py(t,e){return Ty.connect(Ay,{username:t,password:e,reconnectPeriod:1e4})}function Cy(t){t.on("connect",Iy),t.on("message",Ly),t.on("error",By),t.on("close",()=>console.info("MQTT session closed")),t.on("disconnect",()=>console.warn("MQTT session disconnected")),t.on("reconnect",()=>console.info("Reconnecting MQTT client")),t.on("offline",()=>Ny())}function Iy(){console.info("Connected to MQTT broker."),Ds.set(""),Ry(["heatpump/received","heatpump/temperature/concat"])}function Ry(t){t.forEach(e=>{Jt.subscribe(e,Dy)})}function Dy(t){t&&console.error("Subscription error:",t)}function Ly(t,e){console.debug(`Message received on topic ${t}:`,e.toString()),t==="heatpump/temperature/concat"&&Tg.set(e.toString())}function By(t){console.error("MQTT error:",t),Ds.set(t.toString())}async function Ny(){try{console.info("MQTT connection closed, reconnecting: fetching new credentials..."),Jt.connected&&Jt.end(!0,()=>console.info("Temporarily stopped MQTT client for credential refresh."));const t=await Ag(),e=await Og(t);Jt.options.username=e.sub,Jt.options.password=t,console.info("Updated MQTT client credentials for reconnection."),Jt.reconnect()}catch(t){console.error("Failed to update credentials on reconnect:",t),Ds.set(t.toString())}}function Fy(t){console.error("Failed to initialize MQTT client:",t),Ds.set(t.toString())}function Uy(t,e){if(!Ls())throw console.error("MQTT client is not connected"),new Error("MQTT client is not connected");Jt.publish(t,e,i=>{i?console.error(`Error publishing to topic ${t}:`,i):console.info(`Message published to topic ${t}`)})}function Pg(t,e){if(!Ls())throw console.error("MQTT client is not connected"),new Error("MQTT client is not connected");Jt.subscribe(t,i=>{i?console.error(`Error subscribing to topic ${t}:`,i):console.info(`Subscribed to topic ${t}`)}),Jt.on("message",(i,n)=>{i===t&&e(n.toString())})}function jy(t){if(!Ls())throw console.error("MQTT client is not connected"),new Error("MQTT client is not connected");Jt.unsubscribe(t,e=>{e?console.error(`Error unsubscribing from topic ${t}:`,e):console.info(`Unsubscribed from topic ${t}`)})}function Ls(){return Jt&&Jt.connected}function Qu(t){let e,i,n,r,s,o,a,l=t[0].power?"PÃ¥":"Av",h,c,u,f,d,g,y,_="High <br/>Power",w,v,S,A,O="10Â° <br/>LÃ¤ge",x,M,T,B,q,$,k="FlÃ¤kt",Y,X,H,re,Z,V="<span>|</span> <span>|</span> <span>|</span> <span>|</span>",he,ne,xe="<span>Auto</span> <span>LÃ¥g</span> <span>Med</span> <span>HÃ¶g</span>",I,K,se,Ee,le="LÃ¤ge",N,C,G,ce,ie,te="<span>|</span> <span>|</span> <span>|</span> <span>|</span>",fe,ue,L="<span>Auto</span> <span>VÃ¤rme</span> <span>Kylning</span> <span>Avfukt</span>",z,W,oe,J,j="Skicka till vÃ¤rmepumpen",Q,_e,Me,Oe,Ye,m;function p(U){t[7](U)}function b(U){t[8](U)}function P(U){t[9](U)}let R={updateSetting:vr};t[0].temp!==void 0&&(R.temp=t[0].temp),t[1].temp!==void 0&&(R.disabled=t[1].temp),t[0].mode!==void 0&&(R.mode=t[0].mode),i=new F0({props:R}),os.push(()=>La(i,"temp",p)),os.push(()=>La(i,"disabled",b)),os.push(()=>La(i,"mode",P));let E=(t[2]||t[3])&&Xu(t),D=t[4]&&Ju(t);return{c(){e=Ce("div"),po(i.$$.fragment),o=nt(),a=Ce("button"),h=Ii(l),u=nt(),f=Ce("div"),d=Ce("div"),g=Ce("button"),y=Ce("span"),y.innerHTML=_,v=nt(),S=Ce("button"),A=Ce("span"),A.innerHTML=O,M=nt(),T=Ce("div"),B=Ce("div"),q=Ce("div"),$=Ce("span"),$.textContent=k,Y=nt(),X=Ce("div"),H=Ce("input"),re=nt(),Z=Ce("div"),Z.innerHTML=V,he=nt(),ne=Ce("div"),ne.innerHTML=xe,K=nt(),se=Ce("div"),Ee=Ce("span"),Ee.textContent=le,N=nt(),C=Ce("div"),G=Ce("input"),ce=nt(),ie=Ce("div"),ie.innerHTML=te,fe=nt(),ue=Ce("div"),ue.innerHTML=L,W=nt(),oe=Ce("div"),J=Ce("button"),J.textContent=j,Q=nt(),E&&E.c(),_e=nt(),D&&D.c(),Me=Pr(),this.h()},l(U){e=Ie(U,"DIV",{class:!0});var ee=He(e);go(i.$$.fragment,ee),ee.forEach(ke),o=rt(U),a=Ie(U,"BUTTON",{class:!0});var ae=He(a);h=Ri(ae,l),ae.forEach(ke),u=rt(U),f=Ie(U,"DIV",{class:!0});var we=He(f);d=Ie(we,"DIV",{class:!0});var Ae=He(d);g=Ie(Ae,"BUTTON",{class:!0});var Be=He(g);y=Ie(Be,"SPAN",{class:!0,"data-svelte-h":!0}),wt(y)!=="svelte-13r8rb7"&&(y.innerHTML=_),Be.forEach(ke),v=rt(Ae),S=Ie(Ae,"BUTTON",{class:!0});var gt=He(S);A=Ie(gt,"SPAN",{class:!0,"data-svelte-h":!0}),wt(A)!=="svelte-2l1hj3"&&(A.innerHTML=O),gt.forEach(ke),Ae.forEach(ke),we.forEach(ke),M=rt(U),T=Ie(U,"DIV",{class:!0});var Bt=He(T);B=Ie(Bt,"DIV",{class:!0});var Ke=He(B);q=Ie(Ke,"DIV",{class:!0});var At=He(q);$=Ie(At,"SPAN",{class:!0,"data-svelte-h":!0}),wt($)!=="svelte-fgsbr8"&&($.textContent=k),Y=rt(At),X=Ie(At,"DIV",{class:!0});var ot=He(X);H=Ie(ot,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),re=rt(ot),Z=Ie(ot,"DIV",{class:!0,"data-svelte-h":!0}),wt(Z)!=="svelte-522o26"&&(Z.innerHTML=V),he=rt(ot),ne=Ie(ot,"DIV",{class:!0,"data-svelte-h":!0}),wt(ne)!=="svelte-1pm26hw"&&(ne.innerHTML=xe),ot.forEach(ke),At.forEach(ke),K=rt(Ke),se=Ie(Ke,"DIV",{class:!0});var ht=He(se);Ee=Ie(ht,"SPAN",{class:!0,"data-svelte-h":!0}),wt(Ee)!=="svelte-1ymgcin"&&(Ee.textContent=le),N=rt(ht),C=Ie(ht,"DIV",{class:!0});var et=He(C);G=Ie(et,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),ce=rt(et),ie=Ie(et,"DIV",{class:!0,"data-svelte-h":!0}),wt(ie)!=="svelte-522o26"&&(ie.innerHTML=te),fe=rt(et),ue=Ie(et,"DIV",{class:!0,"data-svelte-h":!0}),wt(ue)!=="svelte-nb2cha"&&(ue.innerHTML=L),et.forEach(ke),ht.forEach(ke),Ke.forEach(ke),Bt.forEach(ke),W=rt(U),oe=Ie(U,"DIV",{class:!0});var Ot=He(oe);J=Ie(Ot,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(J)!=="svelte-1cq2vu0"&&(J.textContent=j),Ot.forEach(ke),Q=rt(U),E&&E.l(U),_e=rt(U),D&&D.l(U),Me=Pr(),this.h()},h(){me(e,"class","mt-10"),me(a,"class",c="btn "+(t[0].power?"btn-success":"btn-error")+" mt-10 w-8/12 rounded"),me(y,"class","p-4"),me(g,"class",w="btn btn-primary h-full rounded "+(t[1].highPower?"opacity-20 pointer-events-none":"")),me(A,"class","p-4"),me(S,"class",x="btn btn-primary h-full rounded "+(t[1].tenDegreeMode?"opacity-20 pointer-events-none":"")),me(d,"class","w-full grid grid-flow-col grid-cols-2 justify-between drop-shadow-sm gap-4"),me(f,"class","mt-4 w-8/12 flex"),me($,"class","mb-2 w-full text-center"),me(H,"class","range range-sm"),me(H,"type","range"),me(H,"min","0"),me(H,"max","3"),me(H,"step","1"),me(Z,"class","w-full flex justify-between text-xs px-2"),me(ne,"class","w-full flex justify-between text-xs px-2"),me(X,"class","mx-3"),me(q,"class",I="w-9/12 flex flex-col "+(t[1].fan?"opacity-20 pointer-events-none":"")),me(Ee,"class","mb-2 w-full text-center"),me(G,"class","range range-sm"),me(G,"type","range"),me(G,"min","0"),me(G,"max","3"),me(G,"step","1"),me(ie,"class","w-full flex justify-between text-xs px-2"),me(ue,"class","w-full flex justify-between text-xs px-2"),me(C,"class","mx-3"),me(se,"class",z="mt-6 w-9/12 flex flex-col "+(t[1].mode?"opacity-20 pointer-events-none":"")),me(B,"class","flex flex-col w-full items-center"),me(T,"class","mt-6 w-full"),me(J,"class","btn btn-primary mt-3 mb-8 w-full rounded"),me(oe,"class","w-8/12 mt-6")},m(U,ee){Ne(U,e,ee),mo(i,e,null),Ne(U,o,ee),Ne(U,a,ee),Le(a,h),Ne(U,u,ee),Ne(U,f,ee),Le(f,d),Le(d,g),Le(g,y),Le(d,v),Le(d,S),Le(S,A),Ne(U,M,ee),Ne(U,T,ee),Le(T,B),Le(B,q),Le(q,$),Le(q,Y),Le(q,X),Le(X,H),Hs(H,t[0].fan),Le(X,re),Le(X,Z),Le(X,he),Le(X,ne),Le(B,K),Le(B,se),Le(se,Ee),Le(se,N),Le(se,C),Le(C,G),Hs(G,t[0].mode),Le(C,ce),Le(C,ie),Le(C,fe),Le(C,ue),Ne(U,W,ee),Ne(U,oe,ee),Le(oe,J),Ne(U,Q,ee),E&&E.m(U,ee),Ne(U,_e,ee),D&&D.m(U,ee),Ne(U,Me,ee),Oe=!0,Ye||(m=[Ft(a,"click",t[10]),Ft(g,"click",t[11]),Ft(S,"click",t[12]),Ft(H,"change",t[13]),Ft(H,"change",t[14]),Ft(H,"input",t[14]),Ft(G,"change",t[15]),Ft(G,"change",t[16]),Ft(G,"input",t[16]),Ft(J,"click",t[5])],Ye=!0)},p(U,ee){const ae={};!n&&ee&1&&(n=!0,ae.temp=U[0].temp,Da(()=>n=!1)),!r&&ee&2&&(r=!0,ae.disabled=U[1].temp,Da(()=>r=!1)),!s&&ee&1&&(s=!0,ae.mode=U[0].mode,Da(()=>s=!1)),i.$set(ae),(!Oe||ee&1)&&l!==(l=U[0].power?"PÃ¥":"Av")&&Cn(h,l),(!Oe||ee&1&&c!==(c="btn "+(U[0].power?"btn-success":"btn-error")+" mt-10 w-8/12 rounded"))&&me(a,"class",c),(!Oe||ee&2&&w!==(w="btn btn-primary h-full rounded "+(U[1].highPower?"opacity-20 pointer-events-none":"")))&&me(g,"class",w),(!Oe||ee&2&&x!==(x="btn btn-primary h-full rounded "+(U[1].tenDegreeMode?"opacity-20 pointer-events-none":"")))&&me(S,"class",x),ee&1&&Hs(H,U[0].fan),(!Oe||ee&2&&I!==(I="w-9/12 flex flex-col "+(U[1].fan?"opacity-20 pointer-events-none":"")))&&me(q,"class",I),ee&1&&Hs(G,U[0].mode),(!Oe||ee&2&&z!==(z="mt-6 w-9/12 flex flex-col "+(U[1].mode?"opacity-20 pointer-events-none":"")))&&me(se,"class",z),U[2]||U[3]?E?E.p(U,ee):(E=Xu(U),E.c(),E.m(_e.parentNode,_e)):E&&(E.d(1),E=null),U[4]?D?D.p(U,ee):(D=Ju(U),D.c(),D.m(Me.parentNode,Me)):D&&(D.d(1),D=null)},i(U){Oe||(yi(i.$$.fragment,U),Oe=!0)},o(U){Ci(i.$$.fragment,U),Oe=!1},d(U){U&&(ke(e),ke(o),ke(a),ke(u),ke(f),ke(M),ke(T),ke(W),ke(oe),ke(Q),ke(_e),ke(Me)),bo(i),E&&E.d(U),D&&D.d(U),Ye=!1,Pd(m)}}}function Xu(t){let e,i,n,r='<div class="loading h-8 w-8"></div>',s,o;function a(c,u){return c[3]?zy:Wy}let l=a(t),h=l(t);return{c(){e=Ce("div"),i=Ce("div"),n=Ce("div"),n.innerHTML=r,s=nt(),o=Ce("div"),h.c(),this.h()},l(c){e=Ie(c,"DIV",{class:!0});var u=He(e);i=Ie(u,"DIV",{class:!0});var f=He(i);n=Ie(f,"DIV",{class:!0,"data-svelte-h":!0}),wt(n)!=="svelte-gaidlx"&&(n.innerHTML=r),s=rt(f),o=Ie(f,"DIV",{class:!0});var d=He(o);h.l(d),d.forEach(ke),f.forEach(ke),u.forEach(ke),this.h()},h(){me(n,"class","flex justify-center mb-4"),me(o,"class","text-center"),me(i,"class","bg-white p-6 rounded-lg shadow-lg w-8/12"),me(e,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center")},m(c,u){Ne(c,e,u),Le(e,i),Le(i,n),Le(i,s),Le(i,o),h.m(o,null)},p(c,u){l===(l=a(c))&&h?h.p(c,u):(h.d(1),h=l(c),h&&(h.c(),h.m(o,null)))},d(c){c&&ke(e),h.d()}}}function Wy(t){let e,i="VÃ¤ntar pÃ¥ bekrÃ¤ftelse frÃ¥n vÃ¤rmepumpen...";return{c(){e=Ce("p"),e.textContent=i},l(n){e=Ie(n,"P",{"data-svelte-h":!0}),wt(e)!=="svelte-82w1zj"&&(e.textContent=i)},m(n,r){Ne(n,e,r)},p:It,d(n){n&&ke(e)}}}function zy(t){let e,i,n,r,s="Ok",o,a;return{c(){e=Ce("p"),i=Ii(t[3]),n=nt(),r=Ce("button"),r.textContent=s,this.h()},l(l){e=Ie(l,"P",{class:!0});var h=He(e);i=Ri(h,t[3]),h.forEach(ke),n=rt(l),r=Ie(l,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(r)!=="svelte-13hnb89"&&(r.textContent=s),this.h()},h(){me(e,"class","text-red-500 mt-4"),me(r,"class","mt-8 btn btn-primary rounded w-full")},m(l,h){Ne(l,e,h),Le(e,i),Ne(l,n,h),Ne(l,r,h),o||(a=Ft(r,"click",t[17]),o=!0)},p(l,h){h&8&&Cn(i,l[3])},d(l){l&&(ke(e),ke(n),ke(r)),o=!1,a()}}}function Ju(t){let e,i,n,r,s="Datan Ã¤r skickad till vÃ¤rmepumpen!",o,a,l="Ok",h,c;return{c(){e=Ce("div"),i=Ce("div"),n=Ce("div"),r=Ce("p"),r.textContent=s,o=nt(),a=Ce("button"),a.textContent=l,this.h()},l(u){e=Ie(u,"DIV",{class:!0});var f=He(e);i=Ie(f,"DIV",{class:!0});var d=He(i);n=Ie(d,"DIV",{class:!0});var g=He(n);r=Ie(g,"P",{class:!0,"data-svelte-h":!0}),wt(r)!=="svelte-10jrpo0"&&(r.textContent=s),o=rt(g),a=Ie(g,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(a)!=="svelte-1uhfzt3"&&(a.textContent=l),g.forEach(ke),d.forEach(ke),f.forEach(ke),this.h()},h(){me(r,"class","text-green-500 font-bold"),me(a,"class","mt-8 btn btn-primary rounded w-full"),me(n,"class","text-center"),me(i,"class","bg-white p-6 rounded-lg shadow-lg"),me(e,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center")},m(u,f){Ne(u,e,f),Le(e,i),Le(i,n),Le(n,r),Le(n,o),Le(n,a),h||(c=Ft(a,"click",t[18]),h=!0)},p:It,d(u){u&&ke(e),h=!1,c()}}}function Yy(t){let e,i,n=t[0]&&Qu(t);return{c(){n&&n.c(),e=Pr()},l(r){n&&n.l(r),e=Pr()},m(r,s){n&&n.m(r,s),Ne(r,e,s),i=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&yi(n,1)):(n=Qu(r),n.c(),yi(n,1),n.m(e.parentNode,e)):n&&(Fo(),Ci(n,1,1,()=>{n=null}),Uo())},i(r){i||(yi(n),i=!0)},o(r){Ci(n),i=!1},d(r){r&&ke(e),n&&n.d(r)}}}function Hy(t,e,i){let n;sc(t,la,x=>i(6,n=x));let r,s,o=!1,a="",l=!1;async function h(){let x={temp:r.temp,mode:r.mode,fan:r.fan,power:r.power,highPower:r.highPower,tenDegreeMode:r.tenDegreeMode,id:Math.floor(Math.random()*99999)};try{i(2,o=!0),i(3,a=""),i(4,l=!1),console.debug("Sending data to heatpump:",x),Uy("heatpump/data",JSON.stringify(x));let M;console.info("Waiting for confirmation from heatpump...");let T=B=>{B==x.id&&(clearTimeout(M),console.info("Received correct response from heatpump!"),i(2,o=!1),i(4,l=!0))};Pg("heatpump/received",T),M=setTimeout(()=>{jy("heatpump/received",T),console.error("Timeout: No response from heatpump."),i(2,o=!1),i(3,a="Timeout: No response from heatpump")},60*1e3)}catch(M){console.error("Error while sending data to heatpump:",M),i(2,o=!1),i(3,a="Error while sending data to heatpump")}}function c(x){t.$$.not_equal(r.temp,x)&&(r.temp=x,i(0,r),i(6,n))}function u(x){t.$$.not_equal(s.temp,x)&&(s.temp=x,i(1,s),i(6,n))}function f(x){t.$$.not_equal(r.mode,x)&&(r.mode=x,i(0,r),i(6,n))}const d=()=>{vr("power",!r.power)},g=()=>{vr("highPower",!r.highPower)},y=()=>{vr("tenDegreeMode",!r.tenDegreeMode)},_=x=>vr("fan",parseInt(x.target.value));function w(){r.fan=su(this.value),i(0,r),i(6,n)}const v=x=>vr("mode",parseInt(x.target.value));function S(){r.mode=su(this.value),i(0,r),i(6,n)}const A=()=>{i(2,o=!1),i(3,a="")},O=()=>{i(4,l=!1)};return t.$$.update=()=>{t.$$.dirty&64&&(i(0,r=n),i(1,s=n.disabledSettings))},[r,s,o,a,l,h,n,c,u,f,d,g,y,_,w,v,S,A,O]}class Vy extends Os{constructor(e){super(),Ps(this,e,Hy,Yy,lr,{})}}function qy(t,e){e&&e!=="lg"&&e!=="sm"&&e!=="xs"?t.style.fontSize=e.replace("x","em"):t.style.fontSize=""}function $y(t,e,i,n,r,s=1,o="",a=""){let l=1,h=1;r&&(r=="horizontal"?l=-1:r=="vertical"?h=-1:l=h=-1),typeof t=="string"&&(t=parseFloat(t)),typeof e=="string"&&(e=parseFloat(e)),typeof i=="string"&&(i=parseFloat(i));const c=`${e*s}${o}`,u=`${i*s}${o}`;let f=`translate(${c},${u}) scale(${l*t},${h*t})`;return n&&(f+=` rotate(${n}${a})`),f}function Zu(t){let e,i,n,r,s,o,a,l=t[3]&&ef(t);function h(f,d){return typeof f[17][4]=="string"?Ky:Gy}let c=h(t),u=c(t);return{c(){e=er("svg"),l&&l.c(),i=er("g"),n=er("g"),u.c(),this.h()},l(f){e=tr(f,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var d=He(e);l&&l.l(d),i=tr(d,"g",{transform:!0,"transform-origin":!0});var g=He(i);n=tr(g,"g",{transform:!0});var y=He(n);u.l(y),y.forEach(ke),g.forEach(ke),d.forEach(ke),this.h()},h(){me(n,"transform",t[16]),me(i,"transform",r="translate("+t[17][0]/2+" "+t[17][1]/2+")"),me(i,"transform-origin",s=t[17][0]/4+" 0"),me(e,"id",t[1]),me(e,"class",o="svelte-fa svelte-fa-base "+t[0]+" svelte-bvo74f"),me(e,"style",t[2]),me(e,"viewBox",a="0 0 "+t[17][0]+" "+t[17][1]),me(e,"aria-hidden","true"),me(e,"role","img"),me(e,"xmlns","http://www.w3.org/2000/svg"),zt(e,"pulse",t[9]),zt(e,"svelte-fa-size-lg",t[4]==="lg"),zt(e,"svelte-fa-size-sm",t[4]==="sm"),zt(e,"svelte-fa-size-xs",t[4]==="xs"),zt(e,"svelte-fa-fw",t[6]),zt(e,"svelte-fa-pull-left",t[7]==="left"),zt(e,"svelte-fa-pull-right",t[7]==="right"),zt(e,"spin",t[8])},m(f,d){Ne(f,e,d),l&&l.m(e,null),Le(e,i),Le(i,n),u.m(n,null),t[24](e)},p(f,d){f[3]?l?l.p(f,d):(l=ef(f),l.c(),l.m(e,i)):l&&(l.d(1),l=null),c===(c=h(f))&&u?u.p(f,d):(u.d(1),u=c(f),u&&(u.c(),u.m(n,null))),d&65536&&me(n,"transform",f[16]),d&131072&&r!==(r="translate("+f[17][0]/2+" "+f[17][1]/2+")")&&me(i,"transform",r),d&131072&&s!==(s=f[17][0]/4+" 0")&&me(i,"transform-origin",s),d&2&&me(e,"id",f[1]),d&1&&o!==(o="svelte-fa svelte-fa-base "+f[0]+" svelte-bvo74f")&&me(e,"class",o),d&4&&me(e,"style",f[2]),d&131072&&a!==(a="0 0 "+f[17][0]+" "+f[17][1])&&me(e,"viewBox",a),d&513&&zt(e,"pulse",f[9]),d&17&&zt(e,"svelte-fa-size-lg",f[4]==="lg"),d&17&&zt(e,"svelte-fa-size-sm",f[4]==="sm"),d&17&&zt(e,"svelte-fa-size-xs",f[4]==="xs"),d&65&&zt(e,"svelte-fa-fw",f[6]),d&129&&zt(e,"svelte-fa-pull-left",f[7]==="left"),d&129&&zt(e,"svelte-fa-pull-right",f[7]==="right"),d&257&&zt(e,"spin",f[8])},d(f){f&&ke(e),l&&l.d(),u.d(),t[24](null)}}}function ef(t){let e,i;return{c(){e=er("title"),i=Ii(t[3])},l(n){e=tr(n,"title",{});var r=He(e);i=Ri(r,t[3]),r.forEach(ke)},m(n,r){Ne(n,e,r),Le(e,i)},p(n,r){r&8&&Cn(i,n[3])},d(n){n&&ke(e)}}}function Gy(t){let e,i,n,r,s,o,a,l,h,c;return{c(){e=er("path"),o=er("path"),this.h()},l(u){e=tr(u,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),He(e).forEach(ke),o=tr(u,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),He(o).forEach(ke),this.h()},h(){me(e,"d",i=t[17][4][0]),me(e,"fill",n=t[11]||t[5]||"currentColor"),me(e,"fill-opacity",r=t[14]!=!1?t[12]:t[13]),me(e,"transform",s="translate("+t[17][0]/-2+" "+t[17][1]/-2+")"),me(o,"d",a=t[17][4][1]),me(o,"fill",l=t[10]||t[5]||"currentColor"),me(o,"fill-opacity",h=t[14]!=!1?t[13]:t[12]),me(o,"transform",c="translate("+t[17][0]/-2+" "+t[17][1]/-2+")")},m(u,f){Ne(u,e,f),Ne(u,o,f)},p(u,f){f&131072&&i!==(i=u[17][4][0])&&me(e,"d",i),f&2080&&n!==(n=u[11]||u[5]||"currentColor")&&me(e,"fill",n),f&28672&&r!==(r=u[14]!=!1?u[12]:u[13])&&me(e,"fill-opacity",r),f&131072&&s!==(s="translate("+u[17][0]/-2+" "+u[17][1]/-2+")")&&me(e,"transform",s),f&131072&&a!==(a=u[17][4][1])&&me(o,"d",a),f&1056&&l!==(l=u[10]||u[5]||"currentColor")&&me(o,"fill",l),f&28672&&h!==(h=u[14]!=!1?u[13]:u[12])&&me(o,"fill-opacity",h),f&131072&&c!==(c="translate("+u[17][0]/-2+" "+u[17][1]/-2+")")&&me(o,"transform",c)},d(u){u&&(ke(e),ke(o))}}}function Ky(t){let e,i,n,r;return{c(){e=er("path"),this.h()},l(s){e=tr(s,"path",{d:!0,fill:!0,transform:!0}),He(e).forEach(ke),this.h()},h(){me(e,"d",i=t[17][4]),me(e,"fill",n=t[5]||t[10]||"currentColor"),me(e,"transform",r="translate("+t[17][0]/-2+" "+t[17][1]/-2+")")},m(s,o){Ne(s,e,o)},p(s,o){o&131072&&i!==(i=s[17][4])&&me(e,"d",i),o&1056&&n!==(n=s[5]||s[10]||"currentColor")&&me(e,"fill",n),o&131072&&r!==(r="translate("+s[17][0]/-2+" "+s[17][1]/-2+")")&&me(e,"transform",r)},d(s){s&&ke(e)}}}function Qy(t){let e,i=t[17][4]&&Zu(t);return{c(){i&&i.c(),e=Pr()},l(n){i&&i.l(n),e=Pr()},m(n,r){i&&i.m(n,r),Ne(n,e,r)},p(n,[r]){n[17][4]?i?i.p(n,r):(i=Zu(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:It,o:It,d(n){n&&ke(e),i&&i.d(n)}}}function Xy(t,e,i){let n,r,{class:s=void 0}=e,{id:o=void 0}=e,{style:a=void 0}=e,{icon:l}=e,{title:h=void 0}=e,{size:c=void 0}=e,{color:u=void 0}=e,{fw:f=!1}=e,{pull:d=void 0}=e,{scale:g=1}=e,{translateX:y=0}=e,{translateY:_=0}=e,{rotate:w=void 0}=e,{flip:v=void 0}=e,{spin:S=!1}=e,{pulse:A=!1}=e,{primaryColor:O=""}=e,{secondaryColor:x=""}=e,{primaryOpacity:M=1}=e,{secondaryOpacity:T=.4}=e,{swapOpacity:B=!1}=e,q;function $(k){os[k?"unshift":"push"](()=>{q=k,i(15,q)})}return t.$$set=k=>{"class"in k&&i(0,s=k.class),"id"in k&&i(1,o=k.id),"style"in k&&i(2,a=k.style),"icon"in k&&i(18,l=k.icon),"title"in k&&i(3,h=k.title),"size"in k&&i(4,c=k.size),"color"in k&&i(5,u=k.color),"fw"in k&&i(6,f=k.fw),"pull"in k&&i(7,d=k.pull),"scale"in k&&i(19,g=k.scale),"translateX"in k&&i(20,y=k.translateX),"translateY"in k&&i(21,_=k.translateY),"rotate"in k&&i(22,w=k.rotate),"flip"in k&&i(23,v=k.flip),"spin"in k&&i(8,S=k.spin),"pulse"in k&&i(9,A=k.pulse),"primaryColor"in k&&i(10,O=k.primaryColor),"secondaryColor"in k&&i(11,x=k.secondaryColor),"primaryOpacity"in k&&i(12,M=k.primaryOpacity),"secondaryOpacity"in k&&i(13,T=k.secondaryOpacity),"swapOpacity"in k&&i(14,B=k.swapOpacity)},t.$$.update=()=>{t.$$.dirty&32784&&q&&c&&qy(q,c),t.$$.dirty&262144&&i(17,n=l&&l.icon||[0,0,"",[],""]),t.$$.dirty&16252928&&i(16,r=$y(g,y,_,w,v,512))},[s,o,a,h,c,u,f,d,S,A,O,x,M,T,B,q,r,n,l,g,y,_,w,v,$]}class Jy extends Os{constructor(e){super(),Ps(this,e,Xy,Qy,lr,{class:0,id:1,style:2,icon:18,title:3,size:4,color:5,fw:6,pull:7,scale:19,translateX:20,translateY:21,rotate:22,flip:23,spin:8,pulse:9,primaryColor:10,secondaryColor:11,primaryOpacity:12,secondaryOpacity:13,swapOpacity:14})}}/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Zy={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},e_=Zy;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Bs(t){return t+.5|0}const vn=(t,e,i)=>Math.max(Math.min(t,i),e);function es(t){return vn(Bs(t*2.55),0,255)}function Tn(t){return vn(Bs(t*255),0,255)}function Ki(t){return vn(Bs(t/2.55)/100,0,1)}function tf(t){return vn(Bs(t*100),0,100)}const oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bh=[..."0123456789ABCDEF"],t_=t=>Bh[t&15],i_=t=>Bh[(t&240)>>4]+Bh[t&15],Xs=t=>(t&240)>>4===(t&15),n_=t=>Xs(t.r)&&Xs(t.g)&&Xs(t.b)&&Xs(t.a);function r_(t){var e=t.length,i;return t[0]==="#"&&(e===4||e===5?i={r:255&oi[t[1]]*17,g:255&oi[t[2]]*17,b:255&oi[t[3]]*17,a:e===5?oi[t[4]]*17:255}:(e===7||e===9)&&(i={r:oi[t[1]]<<4|oi[t[2]],g:oi[t[3]]<<4|oi[t[4]],b:oi[t[5]]<<4|oi[t[6]],a:e===9?oi[t[7]]<<4|oi[t[8]]:255})),i}const s_=(t,e)=>t<255?e(t):"";function o_(t){var e=n_(t)?t_:i_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+s_(t.a,e):void 0}const a_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Cg(t,e,i){const n=e*Math.min(i,1-i),r=(s,o=(s+t/30)%12)=>i-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function l_(t,e,i){const n=(r,s=(r+t/60)%6)=>i-i*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function h_(t,e,i){const n=Cg(t,1,.5);let r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function c_(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}function yc(t){const i=t.r/255,n=t.g/255,r=t.b/255,s=Math.max(i,n,r),o=Math.min(i,n,r),a=(s+o)/2;let l,h,c;return s!==o&&(c=s-o,h=a>.5?c/(2-s-o):c/(s+o),l=c_(i,n,r,c,s),l=l*60+.5),[l|0,h||0,a]}function _c(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(Tn)}function wc(t,e,i){return _c(Cg,t,e,i)}function u_(t,e,i){return _c(h_,t,e,i)}function f_(t,e,i){return _c(l_,t,e,i)}function Ig(t){return(t%360+360)%360}function d_(t){const e=a_.exec(t);let i=255,n;if(!e)return;e[5]!==n&&(i=e[6]?es(+e[5]):Tn(+e[5]));const r=Ig(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=u_(r,s,o):e[1]==="hsv"?n=f_(r,s,o):n=wc(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}function p_(t,e){var i=yc(t);i[0]=Ig(i[0]+e),i=wc(i),t.r=i[0],t.g=i[1],t.b=i[2]}function g_(t){if(!t)return;const e=yc(t),i=e[0],n=tf(e[1]),r=tf(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${r}%, ${Ki(t.a)})`:`hsl(${i}, ${n}%, ${r}%)`}const nf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function m_(){const t={},e=Object.keys(rf),i=Object.keys(nf);let n,r,s,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],r=0;r<i.length;r++)s=i[r],a=a.replace(s,nf[s]);s=parseInt(rf[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Js;function b_(t){Js||(Js=m_(),Js.transparent=[0,0,0,0]);const e=Js[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const y_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function __(t){const e=y_.exec(t);let i=255,n,r,s;if(e){if(e[7]!==n){const o=+e[7];i=e[8]?es(o):vn(o*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?es(n):vn(n,0,255)),r=255&(e[4]?es(r):vn(r,0,255)),s=255&(e[6]?es(s):vn(s,0,255)),{r:n,g:r,b:s,a:i}}}function w_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ki(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qa=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,yr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function v_(t,e,i){const n=yr(Ki(t.r)),r=yr(Ki(t.g)),s=yr(Ki(t.b));return{r:Tn(Qa(n+i*(yr(Ki(e.r))-n))),g:Tn(Qa(r+i*(yr(Ki(e.g))-r))),b:Tn(Qa(s+i*(yr(Ki(e.b))-s))),a:t.a+i*(e.a-t.a)}}function Zs(t,e,i){if(t){let n=yc(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,e===0?360:1)),n=wc(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Rg(t,e){return t&&Object.assign(e||{},t)}function sf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Tn(t[3]))):(e=Rg(t,{r:0,g:0,b:0,a:1}),e.a=Tn(e.a)),e}function S_(t){return t.charAt(0)==="r"?__(t):d_(t)}class bs{constructor(e){if(e instanceof bs)return e;const i=typeof e;let n;i==="object"?n=sf(e):i==="string"&&(n=r_(e)||b_(e)||S_(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Rg(this._rgb);return e&&(e.a=Ki(e.a)),e}set rgb(e){this._rgb=sf(e)}rgbString(){return this._valid?w_(this._rgb):void 0}hexString(){return this._valid?o_(this._rgb):void 0}hslString(){return this._valid?g_(this._rgb):void 0}mix(e,i){if(e){const n=this.rgb,r=e.rgb;let s;const o=i===s?.5:i,a=2*o-1,l=n.a-r.a,h=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-h,n.r=255&h*n.r+s*r.r+.5,n.g=255&h*n.g+s*r.g+.5,n.b=255&h*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,i){return e&&(this._rgb=v_(this._rgb,e._rgb,i)),this}clone(){return new bs(this.rgb)}alpha(e){return this._rgb.a=Tn(e),this}clearer(e){const i=this._rgb;return i.a*=1-e,this}greyscale(){const e=this._rgb,i=Bs(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){const i=this._rgb;return i.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zs(this._rgb,2,e),this}darken(e){return Zs(this._rgb,2,-e),this}saturate(e){return Zs(this._rgb,1,e),this}desaturate(e){return Zs(this._rgb,1,-e),this}rotate(e){return p_(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ui(){}const x_=(()=>{let t=0;return()=>t++})();function Ge(t){return t==null}function ct(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ve(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Et(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ii(t,e){return Et(t)?t:e}function je(t,e){return typeof t>"u"?e:t}const k_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Dg=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lt(t,e,i){if(t&&typeof t.call=="function")return t.apply(i,e)}function Ze(t,e,i,n){let r,s,o;if(ct(t))if(s=t.length,n)for(r=s-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<s;r++)e.call(i,t[r],r);else if(Ve(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(i,t[o[r]],o[r])}function Ko(t,e){let i,n,r,s;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],s=e[i],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Qo(t){if(ct(t))return t.map(Qo);if(Ve(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let r=0;for(;r<n;++r)e[i[r]]=Qo(t[i[r]]);return e}return t}function Lg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function E_(t,e,i,n){if(!Lg(t))return;const r=e[t],s=i[t];Ve(r)&&Ve(s)?ys(r,s,n):e[t]=Qo(s)}function ys(t,e,i){const n=ct(e)?e:[e],r=n.length;if(!Ve(t))return t;i=i||{};const s=i.merger||E_;let o;for(let a=0;a<r;++a){if(o=n[a],!Ve(o))continue;const l=Object.keys(o);for(let h=0,c=l.length;h<c;++h)s(l[h],t,o,i)}return t}function hs(t,e){return ys(t,e,{merger:M_})}function M_(t,e,i){if(!Lg(t))return;const n=e[t],r=i[t];Ve(n)&&Ve(r)?hs(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Qo(r))}const of={"":t=>t,x:t=>t.x,y:t=>t.y};function T_(t){const e=t.split("."),i=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function A_(t){const e=T_(t);return i=>{for(const n of e){if(n==="")break;i=i&&i[n]}return i}}function On(t,e){return(of[e]||(of[e]=A_(e)))(t)}function vc(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _s=t=>typeof t<"u",Pn=t=>typeof t=="function",af=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function O_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ft=Math.PI,ut=2*ft,P_=ut+ft,Xo=Number.POSITIVE_INFINITY,C_=ft/180,Tt=ft/2,Wn=ft/4,lf=ft*2/3,Sn=Math.log10,Di=Math.sign;function cs(t,e,i){return Math.abs(t-e)<i}function hf(t){const e=Math.round(t);t=cs(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(Sn(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function I_(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n===0&&(e.push(n),e.push(t/n));return i===(i|0)&&e.push(i),e.sort((r,s)=>r-s).pop(),e}function Cr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function R_(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function Bg(t,e,i){let n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n][i],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function mi(t){return t*(ft/180)}function Sc(t){return t*(180/ft)}function cf(t){if(!Et(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Ng(t,e){const i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n);let s=Math.atan2(n,i);return s<-.5*ft&&(s+=ut),{angle:s,distance:r}}function Nh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function D_(t,e){return(t-e+P_)%ut-ft}function ri(t){return(t%ut+ut)%ut}function ws(t,e,i,n){const r=ri(t),s=ri(e),o=ri(i),a=ri(s-r),l=ri(o-r),h=ri(r-s),c=ri(r-o);return r===s||r===o||n&&s===o||a>l&&h<c}function Lt(t,e,i){return Math.max(e,Math.min(i,t))}function L_(t){return Lt(t,-32768,32767)}function Zi(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function xc(t,e,i){i=i||(o=>t[o]<e);let n=t.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,i(s)?r=s:n=s;return{lo:r,hi:n}}const en=(t,e,i,n)=>xc(t,i,n?r=>{const s=t[r][e];return s<i||s===i&&t[r+1][e]===i}:r=>t[r][e]<i),B_=(t,e,i)=>xc(t,i,n=>t[n][e]>=i);function N_(t,e,i){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return n>0||r<t.length?t.slice(n,r):t}const Fg=["push","pop","shift","splice","unshift"];function F_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Fg.forEach(i=>{const n="_onData"+vc(i),r=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function uf(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(Fg.forEach(s=>{delete t[s]}),delete t._chartjs)}function Ug(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const jg=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Wg(t,e){let i=[],n=!1;return function(...r){i=r,n||(n=!0,jg.call(window,()=>{n=!1,t.apply(e,i)}))}}function U_(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}const kc=t=>t==="start"?"left":t==="end"?"right":"center",Ht=(t,e,i)=>t==="start"?e:t==="end"?i:(e+i)/2,j_=(t,e,i,n)=>t===(n?"left":"right")?i:t==="center"?(e+i)/2:e;function zg(t,e,i){const n=e.length;let r=0,s=n;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:h,max:c,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(r=Lt(Math.min(en(a,l,h).lo,i?n:en(e,l,o.getPixelForValue(h)).lo),0,n-1)),f?s=Lt(Math.max(en(a,o.axis,c,!0).hi+1,i?0:en(e,l,o.getPixelForValue(c),!0).hi+1),r,n)-r:s=n-r}return{start:r,count:s}}function Yg(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),s}const eo=t=>t===0||t===1,ff=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ut/i)),df=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*ut/i)+1,us={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Tt)+1,easeOutSine:t=>Math.sin(t*Tt),easeInOutSine:t=>-.5*(Math.cos(ft*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>eo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>eo(t)?t:ff(t,.075,.3),easeOutElastic:t=>eo(t)?t:df(t,.075,.3),easeInOutElastic(t){return eo(t)?t:t<.5?.5*ff(t*2,.1125,.45):.5+.5*df(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-us.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?us.easeInBounce(t*2)*.5:us.easeOutBounce(t*2-1)*.5+.5};function Ec(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function pf(t){return Ec(t)?t:new bs(t)}function Xa(t){return Ec(t)?t:new bs(t).saturate(.5).darken(.1).hexString()}const W_=["x","y","borderWidth","radius","tension"],z_=["color","borderColor","backgroundColor"];function Y_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:z_},numbers:{type:"number",properties:W_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function H_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gf=new Map;function V_(t,e){e=e||{};const i=t+JSON.stringify(e);let n=gf.get(i);return n||(n=new Intl.NumberFormat(t,e),gf.set(i,n)),n}function Ns(t,e,i){return V_(e,i).format(t)}const Hg={values(t){return ct(t)?t:""+t},numeric(t,e,i){if(t===0)return"0";const n=this.chart.options.locale;let r,s=t;if(i.length>1){const h=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=q_(t,i)}const o=Sn(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ns(t,n,l)},logarithmic(t,e,i){if(t===0)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(Sn(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?Hg.numeric.call(this,t,e,i):""}};function q_(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var ba={formatters:Hg};function $_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ba.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const hr=Object.create(null),Fh=Object.create(null);function fs(t,e){if(!e)return t;const i=e.split(".");for(let n=0,r=i.length;n<r;++n){const s=i[n];t=t[s]||(t[s]=Object.create(null))}return t}function Ja(t,e,i){return typeof e=="string"?ys(fs(t,e),i):ys(fs(t,""),e)}class G_{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Xa(r.backgroundColor),this.hoverBorderColor=(n,r)=>Xa(r.borderColor),this.hoverColor=(n,r)=>Xa(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return Ja(this,e,i)}get(e){return fs(this,e)}describe(e,i){return Ja(Fh,e,i)}override(e,i){return Ja(hr,e,i)}route(e,i,n,r){const s=fs(this,e),o=fs(this,n),a="_"+i;Object.defineProperties(s,{[a]:{value:s[i],writable:!0},[i]:{enumerable:!0,get(){const l=this[a],h=o[r];return Ve(l)?Object.assign({},h,l):je(l,h)},set(l){this[a]=l}}})}apply(e){e.forEach(i=>i(this))}}var vt=new G_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y_,H_,$_]);function K_(t){return!t||Ge(t.size)||Ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Jo(t,e,i,n,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,i.push(r)),s>n&&(n=s),n}function Q_(t,e,i,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=i.length;let l,h,c,u,f;for(l=0;l<a;l++)if(u=i[l],u!=null&&!ct(u))o=Jo(t,r,s,o,u);else if(ct(u))for(h=0,c=u.length;h<c;h++)f=u[h],f!=null&&!ct(f)&&(o=Jo(t,r,s,o,f));t.restore();const d=s.length/2;if(d>i.length){for(l=0;l<d;l++)delete r[s[l]];s.splice(0,d)}return o}function zn(t,e,i){const n=t.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function mf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Uh(t,e,i,n){Vg(t,e,i,n,null)}function Vg(t,e,i,n,r){let s,o,a,l,h,c,u,f;const d=e.pointStyle,g=e.rotation,y=e.radius;let _=(g||0)*C_;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(i,n),t.rotate(_),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),d){default:r?t.ellipse(i,n,r/2,y,0,0,ut):t.arc(i,n,y,0,ut),t.closePath();break;case"triangle":c=r?r/2:y,t.moveTo(i+Math.sin(_)*c,n-Math.cos(_)*y),_+=lf,t.lineTo(i+Math.sin(_)*c,n-Math.cos(_)*y),_+=lf,t.lineTo(i+Math.sin(_)*c,n-Math.cos(_)*y),t.closePath();break;case"rectRounded":h=y*.516,l=y-h,o=Math.cos(_+Wn)*l,u=Math.cos(_+Wn)*(r?r/2-h:l),a=Math.sin(_+Wn)*l,f=Math.sin(_+Wn)*(r?r/2-h:l),t.arc(i-u,n-a,h,_-ft,_-Tt),t.arc(i+f,n-o,h,_-Tt,_),t.arc(i+u,n+a,h,_,_+Tt),t.arc(i-f,n+o,h,_+Tt,_+ft),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=r?r/2:l,t.rect(i-c,n-l,2*c,2*l);break}_+=Wn;case"rectRot":u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),t.moveTo(i-u,n-a),t.lineTo(i+f,n-o),t.lineTo(i+u,n+a),t.lineTo(i-f,n+o),t.closePath();break;case"crossRot":_+=Wn;case"cross":u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+f,n-o),t.lineTo(i-f,n+o);break;case"star":u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+f,n-o),t.lineTo(i-f,n+o),_+=Wn,u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+f,n-o),t.lineTo(i-f,n+o);break;case"line":o=r?r/2:Math.cos(_)*y,a=Math.sin(_)*y,t.moveTo(i-o,n-a),t.lineTo(i+o,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(_)*(r?r/2:y),n+Math.sin(_)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function tn(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function ya(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function _a(t){t.restore()}function X_(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if(r==="middle"){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else r==="after"!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function J_(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Z_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ew(t,e,i,n,r){if(r.strikethrough||r.underline){const s=t.measureText(n),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=i-s.actualBoundingBoxAscent,h=i+s.actualBoundingBoxDescent,c=r.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function tw(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function cr(t,e,i,n,r,s={}){const o=ct(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,h;for(t.save(),t.font=r.string,Z_(t,s),l=0;l<o.length;++l)h=o[l],s.backdrop&&tw(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ge(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,i,n,s.maxWidth)),t.fillText(h,i,n,s.maxWidth),ew(t,i,n,h,s),n+=Number(r.lineHeight);t.restore()}function vs(t,e){const{x:i,y:n,w:r,h:s,radius:o}=e;t.arc(i+o.topLeft,n+o.topLeft,o.topLeft,1.5*ft,ft,!0),t.lineTo(i,n+s-o.bottomLeft),t.arc(i+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,ft,Tt,!0),t.lineTo(i+r-o.bottomRight,n+s),t.arc(i+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Tt,0,!0),t.lineTo(i+r,n+o.topRight),t.arc(i+r-o.topRight,n+o.topRight,o.topRight,0,-Tt,!0),t.lineTo(i+o.topLeft,n)}const iw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,nw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rw(t,e){const i=(""+t).match(iw);if(!i||i[1]==="normal")return e*1.2;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}const sw=t=>+t||0;function Mc(t,e){const i={},n=Ve(e),r=n?Object.keys(e):e,s=Ve(t)?n?o=>je(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)i[o]=sw(s(o));return i}function qg(t){return Mc(t,{top:"y",right:"x",bottom:"y",left:"x"})}function sr(t){return Mc(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(t){const e=qg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pt(t,e){t=t||{},e=e||vt.font;let i=je(t.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let n=je(t.style,e.style);n&&!(""+n).match(nw)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:je(t.family,e.family),lineHeight:rw(je(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:je(t.weight,e.weight),string:""};return r.string=K_(r),r}function ts(t,e,i,n){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),i!==void 0&&ct(a)&&(a=a[i%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function ow(t,e,i){const{min:n,max:r}=t,s=Dg(e,(r-n)/2),o=(a,l)=>i&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function Rn(t,e){return Object.assign(Object.create(t),e)}function Tc(t,e=[""],i,n,r=()=>t[0]){const s=i||t;typeof n>"u"&&(n=Qg("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:r,override:a=>Tc([a,...t],e,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Gg(a,l,()=>pw(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return yf(a).includes(l)},ownKeys(a){return yf(a)},set(a,l,h){const c=a._storage||(a._storage=r());return a[l]=c[l]=h,delete a._keys,!0}})}function Ir(t,e,i,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:$g(t,n),setContext:s=>Ir(t,s,i,n),override:s=>Ir(t.override(s),e,i,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return Gg(s,o,()=>lw(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function $g(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:Pn(i)?i:()=>i,isIndexable:Pn(n)?n:()=>n}}const aw=(t,e)=>t?t+vc(e):e,Ac=(t,e)=>Ve(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Gg(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=i();return t[e]=n,n}function lw(t,e,i){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=t;let a=n[e];return Pn(a)&&o.isScriptable(e)&&(a=hw(e,a,t,i)),ct(a)&&a.length&&(a=cw(e,a,t,o.isIndexable)),Ac(e,a)&&(a=Ir(a,r,s&&s[e],o)),a}function hw(t,e,i,n){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||n);return a.delete(t),Ac(t,l)&&(l=Oc(r._scopes,r,t,l)),l}function cw(t,e,i,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=i;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ve(e[0])){const l=e,h=r._scopes.filter(c=>c!==l);e=[];for(const c of l){const u=Oc(h,r,t,c);e.push(Ir(u,s,o&&o[t],a))}}return e}function Kg(t,e,i){return Pn(t)?t(e,i):t}const uw=(t,e)=>t===!0?e:typeof t=="string"?On(e,t):void 0;function fw(t,e,i,n,r){for(const s of e){const o=uw(i,s);if(o){t.add(o);const a=Kg(o._fallback,i,r);if(typeof a<"u"&&a!==i&&a!==n)return a}else if(o===!1&&typeof n<"u"&&i!==n)return null}return!1}function Oc(t,e,i,n){const r=e._rootScopes,s=Kg(e._fallback,i,n),o=[...t,...r],a=new Set;a.add(n);let l=bf(a,o,i,s||i,n);return l===null||typeof s<"u"&&s!==i&&(l=bf(a,o,s,l,n),l===null)?!1:Tc(Array.from(a),[""],r,s,()=>dw(e,i,n))}function bf(t,e,i,n,r){for(;i;)i=fw(t,e,i,n,r);return i}function dw(t,e,i){const n=t._getTarget();e in n||(n[e]={});const r=n[e];return ct(r)&&Ve(i)?i:r||{}}function pw(t,e,i,n){let r;for(const s of e)if(r=Qg(aw(s,t),i),typeof r<"u")return Ac(t,r)?Oc(i,n,t,r):r}function Qg(t,e){for(const i of e){if(!i)continue;const n=i[t];if(typeof n<"u")return n}}function yf(t){let e=t._keys;return e||(e=t._keys=gw(t._scopes)),e}function gw(t){const e=new Set;for(const i of t)for(const n of Object.keys(i).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function Xg(t,e,i,n){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(n);let a,l,h,c;for(a=0,l=n;a<l;++a)h=a+i,c=e[h],o[a]={r:r.parse(On(c,s),h)};return o}const mw=Number.EPSILON||1e-14,Rr=(t,e)=>e<t.length&&!t[e].skip&&t[e],Jg=t=>t==="x"?"y":"x";function bw(t,e,i,n){const r=t.skip?e:t,s=e,o=i.skip?e:i,a=Nh(s,r),l=Nh(o,s);let h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const u=n*h,f=n*c;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function yw(t,e,i){const n=t.length;let r,s,o,a,l,h=Rr(t,0);for(let c=0;c<n-1;++c)if(l=h,h=Rr(t,c+1),!(!l||!h)){if(cs(e[c],0,mw)){i[c]=i[c+1]=0;continue}r=i[c]/e[c],s=i[c+1]/e[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),i[c]=r*o*e[c],i[c+1]=s*o*e[c])}}function _w(t,e,i="x"){const n=Jg(i),r=t.length;let s,o,a,l=Rr(t,0);for(let h=0;h<r;++h){if(o=a,a=l,l=Rr(t,h+1),!a)continue;const c=a[i],u=a[n];o&&(s=(c-o[i])/3,a[`cp1${i}`]=c-s,a[`cp1${n}`]=u-s*e[h]),l&&(s=(l[i]-c)/3,a[`cp2${i}`]=c+s,a[`cp2${n}`]=u+s*e[h])}}function ww(t,e="x"){const i=Jg(e),n=t.length,r=Array(n).fill(0),s=Array(n);let o,a,l,h=Rr(t,0);for(o=0;o<n;++o)if(a=l,l=h,h=Rr(t,o+1),!!l){if(h){const c=h[e]-l[e];r[o]=c!==0?(h[i]-l[i])/c:0}s[o]=a?h?Di(r[o-1])!==Di(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}yw(t,r,s),_w(t,s,e)}function to(t,e,i){return Math.max(Math.min(t,i),e)}function vw(t,e){let i,n,r,s,o,a=tn(t[0],e);for(i=0,n=t.length;i<n;++i)o=s,s=a,a=i<n-1&&tn(t[i+1],e),s&&(r=t[i],o&&(r.cp1x=to(r.cp1x,e.left,e.right),r.cp1y=to(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=to(r.cp2x,e.left,e.right),r.cp2y=to(r.cp2y,e.top,e.bottom)))}function Sw(t,e,i,n,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")ww(t,r);else{let h=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=bw(h,a,t[Math.min(s+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,h=a}e.capBezierPoints&&vw(t,i)}function Pc(){return typeof window<"u"&&typeof document<"u"}function Cc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zo(t,e,i){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[i])):n=t,n}const wa=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xw(t,e){return wa(t).getPropertyValue(e)}const kw=["top","right","bottom","left"];function or(t,e,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const s=kw[r];n[s]=parseFloat(t[e+"-"+s+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Ew=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function Mw(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:r,offsetY:s}=n;let o=!1,a,l;if(Ew(r,s,t.target))a=r,l=s;else{const h=e.getBoundingClientRect();a=n.clientX-h.left,l=n.clientY-h.top,o=!0}return{x:a,y:l,box:o}}function $n(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,r=wa(i),s=r.boxSizing==="border-box",o=or(r,"padding"),a=or(r,"border","width"),{x:l,y:h,box:c}=Mw(t,i),u=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:g}=e;return s&&(d-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/d*i.width/n),y:Math.round((h-f)/g*i.height/n)}}function Tw(t,e,i){let n,r;if(e===void 0||i===void 0){const s=t&&Cc(t);if(!s)e=t.clientWidth,i=t.clientHeight;else{const o=s.getBoundingClientRect(),a=wa(s),l=or(a,"border","width"),h=or(a,"padding");e=o.width-h.width-l.width,i=o.height-h.height-l.height,n=Zo(a.maxWidth,s,"clientWidth"),r=Zo(a.maxHeight,s,"clientHeight")}}return{width:e,height:i,maxWidth:n||Xo,maxHeight:r||Xo}}const io=t=>Math.round(t*10)/10;function Aw(t,e,i,n){const r=wa(t),s=or(r,"margin"),o=Zo(r.maxWidth,t,"clientWidth")||Xo,a=Zo(r.maxHeight,t,"clientHeight")||Xo,l=Tw(t,e,i);let{width:h,height:c}=l;if(r.boxSizing==="content-box"){const f=or(r,"border","width"),d=or(r,"padding");h-=d.width+f.width,c-=d.height+f.height}return h=Math.max(0,h-s.width),c=Math.max(0,n?h/n:c-s.height),h=io(Math.min(h,o,l.maxWidth)),c=io(Math.min(c,a,l.maxHeight)),h&&!c&&(c=io(h/2)),(e!==void 0||i!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,h=io(Math.floor(c*n))),{width:h,height:c}}function _f(t,e,i){const n=e||1,r=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=n,o.height=r,o.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Ow=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Pc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function wf(t,e){const i=xw(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Gn(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Pw(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:n==="middle"?i<.5?t.y:e.y:n==="after"?i<1?t.y:e.y:i>0?e.y:t.y}}function Cw(t,e,i,n){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Gn(t,r,i),a=Gn(r,s,i),l=Gn(s,e,i),h=Gn(o,a,i),c=Gn(a,l,i);return Gn(h,c,i)}const Iw=function(t,e){return{x(i){return t+t+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},Rw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Mr(t,e,i){return t?Iw(e,i):Rw()}function Zg(t,e){let i,n;(e==="ltr"||e==="rtl")&&(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function em(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function tm(t){return t==="angle"?{between:ws,compare:D_,normalize:ri}:{between:Zi,compare:(e,i)=>e-i,normalize:e=>e}}function vf({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i===0,style:r}}function Dw(t,e,i){const{property:n,start:r,end:s}=i,{between:o,normalize:a}=tm(n),l=e.length;let{start:h,end:c,loop:u}=t,f,d;if(u){for(h+=l,c+=l,f=0,d=l;f<d&&o(a(e[h%l][n]),r,s);++f)h--,c--;h%=l,c%=l}return c<h&&(c+=l),{start:h,end:c,loop:u,style:t.style}}function im(t,e,i){if(!i)return[t];const{property:n,start:r,end:s}=i,o=e.length,{compare:a,between:l,normalize:h}=tm(n),{start:c,end:u,loop:f,style:d}=Dw(t,e,i),g=[];let y=!1,_=null,w,v,S;const A=()=>l(r,S,w)&&a(r,S)!==0,O=()=>a(s,w)===0||l(s,S,w),x=()=>y||A(),M=()=>!y||O();for(let T=c,B=c;T<=u;++T)v=e[T%o],!v.skip&&(w=h(v[n]),w!==S&&(y=l(w,r,s),_===null&&x()&&(_=a(w,r)===0?T:B),_!==null&&M()&&(g.push(vf({start:_,end:T,loop:f,count:o,style:d})),_=null),B=T,S=w));return _!==null&&g.push(vf({start:_,end:u,loop:f,count:o,style:d})),g}function nm(t,e){const i=[],n=t.segments;for(let r=0;r<n.length;r++){const s=im(n[r],t.points,e);s.length&&i.push(...s)}return i}function Lw(t,e,i,n){let r=0,s=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function Bw(t,e,i,n){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=i;++l){const h=t[l%r];h.skip||h.stop?a.skip||(n=!1,s.push({start:e%r,end:(l-1)%r,loop:n}),e=o=h.stop?l:null):(o=l,a.skip&&(e=l)),a=h}return o!==null&&s.push({start:e%r,end:o%r,loop:n}),s}function Nw(t,e){const i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=Lw(i,r,s,n);if(n===!0)return Sf(t,[{start:o,end:a,loop:s}],i,e);const l=a<o?a+r:a,h=!!t._fullLoop&&o===0&&a===r-1;return Sf(t,Bw(i,o,l,h),i,e)}function Sf(t,e,i,n){return!n||!n.setContext||!i?e:Fw(t,e,i,n)}function Fw(t,e,i,n){const r=t._chart.getContext(),s=xf(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=i.length,h=[];let c=s,u=e[0].start,f=u;function d(g,y,_,w){const v=a?-1:1;if(g!==y){for(g+=l;i[g%l].skip;)g-=v;for(;i[y%l].skip;)y+=v;g%l!==y%l&&(h.push({start:g%l,end:y%l,loop:_,style:w}),c=w,u=y%l)}}for(const g of e){u=a?u:g.start;let y=i[u%l],_;for(f=u+1;f<=g.end;f++){const w=i[f%l];_=xf(n.setContext(Rn(r,{type:"segment",p0:y,p1:w,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Uw(_,c)&&d(u,f-1,g.loop,c),y=w,c=_}u<f-1&&d(u,f-1,g.loop,c)}return h}function xf(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Uw(t,e){if(!e)return!1;const i=[],n=function(r,s){return Ec(s)?(i.includes(s)||i.push(s),i.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class jw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,n,r){const s=i.listeners[r],o=i.duration;s.forEach(a=>a({chart:e,initial:i.initial,numSteps:o,currentStep:Math.min(n-i.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),i+=s.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){const i=this._charts;let n=i.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,n)),n}listen(e,i,n){this._getAnims(e).listeners[i].push(n)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){const i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){const i=this._charts.get(e);if(!i||!i.items.length)return;const n=i.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yi=new jw;const kf="transparent",Ww={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const n=pf(t||kf),r=n.valid&&pf(e||kf);return r&&r.valid?r.mix(n,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class zw{constructor(e,i,n,r){const s=i[n];r=ts([e.to,r,s,e.from]);const o=ts([e.from,s,r]);this._active=!0,this._fn=e.fn||Ww[e.type||typeof o],this._easing=us[e.easing]||us.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,i,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ts([e.to,i,r,e.from]),this._from=ts([e.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const i=e-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||i<n),!this._active){this._target[r]=a,this._notify(!0);return}if(i<0){this._target[r]=s;return}l=i/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((i,n)=>{e.push({res:i,rej:n})})}_notify(e){const i=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}}class rm{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!Ve(e))return;const i=Object.keys(vt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Ve(s))return;const o={};for(const a of i)o[a]=s[a];(ct(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,i){const n=i.options,r=Hw(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&Yw(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,i){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(i),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const h=o[l];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,i));continue}const c=i[h];let u=s[h];const f=n.get(h);if(u)if(f&&u.active()){u.update(f,c,a);continue}else u.cancel();if(!f||!f.duration){e[h]=c;continue}s[h]=u=new zw(f,e,h,c),r.push(u)}return r}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}const n=this._createAnimations(e,i);if(n.length)return Yi.add(this._chart,n),!0}}function Yw(t,e){const i=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const s=t[n[r]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)}function Hw(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Ef(t,e){const i=t&&t.options||{},n=i.reverse,r=i.min===void 0?e:0,s=i.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function Vw(t,e,i){if(i===!1)return!1;const n=Ef(t,i),r=Ef(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function qw(t){let e,i,n,r;return Ve(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:t===!1}}function sm(t,e){const i=[],n=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)i.push(n[r].index);return i}function Mf(t,e,i,n={}){const r=t.keys,s=n.mode==="single";let o,a,l,h;if(e===null)return;let c=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===i){if(c=!0,n.all)continue;break}h=t.values[l],Et(h)&&(s||e===0||Di(e)===Di(h))&&(e+=h)}return!c&&!n.all?0:e}function $w(t,e){const{iScale:i,vScale:n}=e,r=i.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,h,c;for(l=0,h=o.length;l<h;++l)c=o[l],a[l]={[r]:c,[s]:t[c]};return a}function Za(t,e){const i=t&&t.options.stacked;return i||i===void 0&&e.stack!==void 0}function Gw(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function Kw(t){const{min:e,max:i,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function Qw(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function Tf(t,e,i,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const s=t[r.index];if(i&&s>0||!i&&s<0)return r.index}return null}function Af(t,e){const{chart:i,_cachedMeta:n}=t,r=i._stacks||(i._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,h=o.axis,c=Gw(s,o,n),u=e.length;let f;for(let d=0;d<u;++d){const g=e[d],{[l]:y,[h]:_}=g,w=g._stacks||(g._stacks={});f=w[h]=Qw(r,c,y),f[a]=_,f._top=Tf(f,o,!0,n.type),f._bottom=Tf(f,o,!1,n.type);const v=f._visualValues||(f._visualValues={});v[a]=_}}function el(t,e){const i=t.scales;return Object.keys(i).filter(n=>i[n].axis===e).shift()}function Xw(t,e){return Rn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Jw(t,e,i){return Rn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function Hr(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[n]===void 0||s[n][i]===void 0)return;delete s[n][i],s[n]._visualValues!==void 0&&s[n]._visualValues[i]!==void 0&&delete s[n]._visualValues[i]}}}const tl=t=>t==="reset"||t==="none",Of=(t,e)=>e?t:Object.assign({},t),Zw=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:sm(i,!0),values:null};class _i{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Za(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,n=this.getDataset(),r=(u,f,d,g)=>u==="x"?f:u==="r"?g:d,s=i.xAxisID=je(n.xAxisID,el(e,"x")),o=i.yAxisID=je(n.yAxisID,el(e,"y")),a=i.rAxisID=je(n.rAxisID,el(e,"r")),l=i.indexAxis,h=i.iAxisID=r(l,s,o,a),c=i.vAxisID=r(l,o,s,a);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(o),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(h),i.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uf(this._data,this),e._stacked&&Hr(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),n=this._data;if(Ve(i)){const r=this._cachedMeta;this._data=$w(i,r)}else if(n!==i){if(n){uf(n,this);const r=this._cachedMeta;Hr(r),r._parsed=[]}i&&Object.isExtensible(i)&&F_(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=i._stacked;i._stacked=Za(i.vScale,i),i.stack!==n.stack&&(r=!0,Hr(i),i.stack=n.stack),this._resyncElements(e),(r||s!==i._stacked)&&(Af(this,i._parsed),i._stacked=Za(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=e===0&&i===r.length?!0:n._sorted,h=e>0&&n._parsed[e-1],c,u,f;if(this._parsing===!1)n._parsed=r,n._sorted=!0,f=r;else{ct(r[e])?f=this.parseArrayData(n,r,e,i):Ve(r[e])?f=this.parseObjectData(n,r,e,i):f=this.parsePrimitiveData(n,r,e,i);const d=()=>u[a]===null||h&&u[a]<h[a];for(c=0;c<i;++c)n._parsed[c+e]=u=f[c],l&&(d()&&(l=!1),h=u);n._sorted=l}o&&Af(this,f)}parsePrimitiveData(e,i,n,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,h=s.getLabels(),c=s===o,u=new Array(r);let f,d,g;for(f=0,d=r;f<d;++f)g=f+n,u[f]={[a]:c||s.parse(h[g],g),[l]:o.parse(i[g],g)};return u}parseArrayData(e,i,n,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,h,c,u;for(l=0,h=r;l<h;++l)c=l+n,u=i[c],a[l]={x:s.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(e,i,n,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,h=new Array(r);let c,u,f,d;for(c=0,u=r;c<u;++c)f=c+n,d=i[f],h[c]={x:s.parse(On(d,a),f),y:o.parse(On(d,l),f)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,n){const r=this.chart,s=this._cachedMeta,o=i[e.axis],a={keys:sm(r,!0),values:i._stacks[e.axis]._visualValues};return Mf(a,o,s.index,{mode:n})}updateRangeFromParsed(e,i,n,r){const s=n[i.axis];let o=s===null?NaN:s;const a=r&&n._stacks[i.axis];r&&a&&(r.values=a,o=Mf(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,i){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,o=r.length,a=this._getOtherScale(e),l=Zw(i,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=Kw(a);let f,d;function g(){d=r[f];const y=d[a.axis];return!Et(d[e.axis])||c>y||u<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(h,e,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(h,e,d,l);break}}return h}getAllParsedValues(e){const i=this._cachedMeta._parsed,n=[];let r,s,o;for(r=0,s=i.length;r<s;++r)o=i[r][e.axis],Et(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,n=i.iScale,r=i.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=qw(je(this.options.clip,Vw(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],s=i.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,h=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const u=r[c];u.hidden||(u.active&&h?o.push(u):u.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,i){const n=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,i,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Jw(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Xw(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",n){const r=i==="active",s=this._cachedDataOpts,o=e+"-"+i,a=s[o],l=this.enableOptionSharing&&_s(n);if(a)return Of(a,l);const h=this.chart.config,c=h.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],f=h.getOptionScopes(this.getDataset(),c),d=Object.keys(vt.elements[e]),g=()=>this.getContext(n,r,i),y=h.resolveNamedOptions(f,d,g,u);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(Of(y,l))),y}_resolveAnimations(e,i,n){const r=this.chart,s=this._cachedDataOpts,o=`animation-${i}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,i),f=c.getOptionScopes(this.getDataset(),u);l=c.createResolver(f,this.getContext(e,n,i))}const h=new rm(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||tl(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const n=this.resolveDataElementOptions(e,i),r=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(i,s)||s!==r;return this.updateSharedOptions(s,i,n),{sharedOptions:s,includeOptions:o}}updateElement(e,i,n,r){tl(r)?Object.assign(e,n):this._resolveAnimations(i,r).update(e,n)}updateSharedOptions(e,i,n){e&&!tl(i)&&this._resolveAnimations(void 0,i).update(e,n)}_setStyle(e,i,n,r){e.active=r;const s=this.getStyle(i,r);this._resolveAnimations(i,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,i,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,n=this._cachedMeta.data;for(const[a,l,h]of this._syncList)this[a](l,h);this._syncList=[];const r=n.length,s=i.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,i,n=!0){const r=this._cachedMeta,s=r.data,o=e+i;let a;const l=h=>{for(h.length+=i,a=h.length-1;a>=o;a--)h[a]=h[a-i]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,i),n&&this.updateElements(s,e,i,"reset")}updateElements(e,i,n,r){}_removeElements(e,i){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,i);n._stacked&&Hr(n,r)}n.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,n,r]=e;this[i](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(_i,"defaults",{}),ye(_i,"datasetElementType",null),ye(_i,"dataElementType",null);function e1(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let r=0,s=i.length;r<s;r++)n=n.concat(i[r].controller.getAllParsedValues(t));t._cache.$bar=Ug(n.sort((r,s)=>r-s))}return t._cache.$bar}function t1(t){const e=t.iScale,i=e1(e,t.type);let n=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(_s(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=i.length;r<s;++r)o=e.getPixelForValue(i[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return n}function i1(t,e,i,n){const r=i.barThickness;let s,o;return Ge(r)?(s=e.min*i.categoryPercentage,o=i.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[t]-s/2}}function n1(t,e,i,n){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=i.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const h=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:i.barPercentage,start:h}}function r1(t,e,i,n){const r=i.parse(t[0],n),s=i.parse(t[1],n),o=Math.min(r,s),a=Math.max(r,s);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:r,end:s,min:o,max:a}}function om(t,e,i,n){return ct(t)?r1(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Pf(t,e,i,n){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let h,c,u,f;for(h=i,c=i+n;h<c;++h)f=e[h],u={},u[r.axis]=a||r.parse(o[h],h),l.push(om(f,u,s,h));return l}function il(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function s1(t,e,i){return t!==0?Di(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function o1(t){let e,i,n,r,s;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:i,end:n,reverse:e,top:r,bottom:s}}function a1(t,e,i,n){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:h,bottom:c}=o1(t);r==="middle"&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=h:(i._bottom||0)===n?r=c:(s[Cf(c,o,a,l)]=!0,r=h)),s[Cf(r,o,a,l)]=!0,t.borderSkipped=s}function Cf(t,e,i,n){return n?(t=l1(t,e,i),t=If(t,i,e)):t=If(t,e,i),t}function l1(t,e,i){return t===e?i:t===i?e:t}function If(t,e,i){return t==="start"?e:t==="end"?i:t}function h1(t,{inflateAmount:e},i){t.inflateAmount=e==="auto"?i===1?.33:0:e}class Mo extends _i{parsePrimitiveData(e,i,n,r){return Pf(e,i,n,r)}parseArrayData(e,i,n,r){return Pf(e,i,n,r)}parseObjectData(e,i,n,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,h=s.axis==="x"?a:l,c=o.axis==="x"?a:l,u=[];let f,d,g,y;for(f=n,d=n+r;f<d;++f)y=i[f],g={},g[s.axis]=s.parse(On(y,h),f),u.push(om(On(y,c),g,o,f));return u}updateRangeFromParsed(e,i,n,r){super.updateRangeFromParsed(e,i,n,r);const s=n._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:n,vScale:r}=i,s=this.getParsed(e),o=s._custom,a=il(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,n,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),h=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,r);for(let d=i;d<i+n;d++){const g=this.getParsed(d),y=s||Ge(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),_=this._calculateBarIndexPixels(d,c),w=(g._stacks||{})[a.axis],v={horizontal:h,base:y.base,enableBorderRadius:!w||il(g._custom)||o===w._top||o===w._bottom,x:h?y.head:_.center,y:h?_.center:y.head,height:h?_.size:Math.abs(y.size),width:h?Math.abs(y.size):_.size};f&&(v.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const S=v.options||e[d].options;a1(v,S,w,o),h1(v,S,c.ratio),this.updateElement(e[d],d,v,r)}}_getStacks(e,i){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(i),l=a&&a[n.axis],h=c=>{const u=c._parsed.find(d=>d[n.axis]===l),f=u&&u[c.vScale.axis];if(Ge(f)||isNaN(f))return!0};for(const c of r)if(!(i!==void 0&&h(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,n){const r=this._getStacks(e,n),s=i!==void 0?r.indexOf(i):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,n=i.iScale,r=[];let s,o;for(s=0,o=i.data.length;s<o;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=e.barThickness;return{min:a||t1(i),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:n,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),h=l._custom,c=il(h);let u=l[i.axis],f=0,d=n?this.applyStack(i,l,n):u,g,y;d!==u&&(f=d-u,d=u),c&&(u=h.barStart,d=h.barEnd-h.barStart,u!==0&&Di(u)!==Di(h.barEnd)&&(f=0),f+=u);const _=!Ge(s)&&!c?s:f;let w=i.getPixelForValue(_);if(this.chart.getDataVisibility(e)?g=i.getPixelForValue(f+d):g=w,y=g-w,Math.abs(y)<o){y=s1(y,i,a)*o,u===a&&(w-=y/2);const v=i.getPixelForDecimal(0),S=i.getPixelForDecimal(1),A=Math.min(v,S),O=Math.max(v,S);w=Math.max(Math.min(w,O),A),g=w+y,n&&!c&&(l._stacks[i.axis]._visualValues[r]=i.getValueForPixel(g)-i.getValueForPixel(w))}if(w===i.getPixelForValue(a)){const v=Di(y)*i.getLineWidthForValue(a)/2;w+=v,y-=v}return{size:y,base:w,head:g,center:g+y/2}}_calculateBarIndexPixels(e,i){const n=i.scale,r=this.options,s=r.skipNull,o=je(r.maxBarThickness,1/0);let a,l;if(i.grouped){const h=s?this._getStackCount(e):i.stackCount,c=r.barThickness==="flex"?n1(e,i,r,h):i1(e,i,r,h),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=c.start+c.chunk*u+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,i.min*i.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,i=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[i.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}ye(Mo,"id","bar"),ye(Mo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(Mo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class To extends _i{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,n,r){const s=super.parsePrimitiveData(e,i,n,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+n).radius;return s}parseArrayData(e,i,n,r){const s=super.parseArrayData(e,i,n,r);for(let o=0;o<s.length;o++){const a=i[n+o];s[o]._custom=je(a[2],this.resolveDataElementOptions(o+n).radius)}return s}parseObjectData(e,i,n,r){const s=super.parseObjectData(e,i,n,r);for(let o=0;o<s.length;o++){const a=i[n+o];s[o]._custom=je(a&&a.r&&+a.r,this.resolveDataElementOptions(o+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=i,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),h=o._custom;return{label:n[e]||"",value:"("+a+", "+l+(h?", "+h:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,n,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:h}=this._getSharedOptions(i,r),c=o.axis,u=a.axis;for(let f=i;f<i+n;f++){const d=e[f],g=!s&&this.getParsed(f),y={},_=y[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[c]),w=y[u]=s?a.getBasePixel():a.getPixelForValue(g[u]);y.skip=isNaN(_)||isNaN(w),h&&(y.options=l||this.resolveDataElementOptions(f,d.active?"active":r),s&&(y.options.radius=0)),this.updateElement(d,f,y,r)}}resolveDataElementOptions(e,i){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return i!=="active"&&(r.radius=0),r.radius+=je(n&&n._custom,s),r}}ye(To,"id","bubble"),ye(To,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ye(To,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function c1(t,e,i){let n=1,r=1,s=0,o=0;if(e<ut){const a=t,l=a+e,h=Math.cos(a),c=Math.sin(a),u=Math.cos(l),f=Math.sin(l),d=(S,A,O)=>ws(S,a,l,!0)?1:Math.max(A,A*i,O,O*i),g=(S,A,O)=>ws(S,a,l,!0)?-1:Math.min(A,A*i,O,O*i),y=d(0,h,u),_=d(Tt,c,f),w=g(ft,h,u),v=g(ft+Tt,c,f);n=(y-w)/2,r=(_-v)/2,s=-(y+w)/2,o=-(_+v)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}class Jn extends _i{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=l=>+n[l];if(Ve(n[e])){const{key:l="value"}=this._parsing;s=h=>+On(n[h],l)}let o,a;for(o=e,a=e+i;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return mi(this.options.rotation-90)}_getCircumference(){return mi(this.options.circumference)}_getRotationExtents(){let e=ut,i=-ut;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),i=Math.max(i,s+o)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:n}=i,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(k_(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:g,offsetY:y}=c1(u,c,l),_=(n.width-o)/f,w=(n.height-o)/d,v=Math.max(Math.min(_,w)/2,0),S=Dg(this.options.radius,v),A=Math.max(S*l,0),O=(S-A)/this._getVisibleDatasetWeightTotal();this.offsetX=g*S,this.offsetY=y*S,r.total=this.calculateTotal(),this.outerRadius=S-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ut)}updateElements(e,i,n,r){const s=r==="reset",o=this.chart,a=o.chartArea,h=o.options.animation,c=(a.left+a.right)/2,u=(a.top+a.bottom)/2,f=s&&h.animateScale,d=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(i,r);let w=this._getRotation(),v;for(v=0;v<i;++v)w+=this._circumference(v,s);for(v=i;v<i+n;++v){const S=this._circumference(v,s),A=e[v],O={x:c+this.offsetX,y:u+this.offsetY,startAngle:w,endAngle:w+S,circumference:S,outerRadius:g,innerRadius:d};_&&(O.options=y||this.resolveDataElementOptions(v,A.active?"active":r)),w+=S,this.updateElement(A,v,O,r)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let n=0,r;for(r=0;r<i.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?ut*(Math.abs(e)/i):0}getLabelAndValue(e){const i=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Ns(i._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let i=0;const n=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let n=0,r=e.length;n<r;++n){const s=this.resolveDataElementOptions(n);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(Jn,"id","doughnut"),ye(Jn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(Jn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(Jn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return i.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}});class Ao extends _i{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=i,o=this.chart._animationsDisabled;let{start:a,count:l}=zg(i,r,o);this._drawStart=a,this._drawCount=l,Yg(i)&&(a=0,l=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:h},e),this.updateElements(r,a,l,e)}updateElements(e,i,n,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,r),f=o.axis,d=a.axis,{spanGaps:g,segment:y}=this.options,_=Cr(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||r==="none",v=i+n,S=e.length;let A=i>0&&this.getParsed(i-1);for(let O=0;O<S;++O){const x=e[O],M=w?x:{};if(O<i||O>=v){M.skip=!0;continue}const T=this.getParsed(O),B=Ge(T[d]),q=M[f]=o.getPixelForValue(T[f],O),$=M[d]=s||B?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[d],O);M.skip=isNaN(q)||isNaN($)||B,M.stop=O>0&&Math.abs(T[f]-A[f])>_,y&&(M.parsed=T,M.raw=h.data[O]),u&&(M.options=c||this.resolveDataElementOptions(O,x.active?"active":r)),w||this.updateElement(x,O,M,r),A=T}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,n=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(Ao,"id","line"),ye(Ao,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(Ao,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ds extends _i{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Ns(i._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,i,n,r){return Xg.bind(this)(e,i,n,r)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,n=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(r/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,i,n,r){const s=r==="reset",o=this.chart,l=o.options.animation,h=this._cachedMeta.rScale,c=h.xCenter,u=h.yCenter,f=h.getIndexAngle(0)-.5*ft;let d=f,g;const y=360/this.countVisibleElements();for(g=0;g<i;++g)d+=this._computeAngle(g,r,y);for(g=i;g<i+n;g++){const _=e[g];let w=d,v=d+this._computeAngle(g,r,y),S=o.getDataVisibility(g)?h.getDistanceFromCenterForValue(this.getParsed(g).r):0;d=v,s&&(l.animateScale&&(S=0),l.animateRotate&&(w=v=f));const A={x:c,y:u,innerRadius:0,outerRadius:S,startAngle:w,endAngle:v,options:this.resolveDataElementOptions(g,_.active?"active":r)};this.updateElement(_,g,A,r)}}countVisibleElements(){const e=this._cachedMeta;let i=0;return e.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(e,i,n){return this.chart.getDataVisibility(e)?mi(this.resolveDataElementOptions(e,i).angle||n):0}}ye(ds,"id","polarArea"),ye(ds,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ye(ds,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return i.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class jh extends Jn{}ye(jh,"id","pie"),ye(jh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Oo extends _i{getLabelAndValue(e){const i=this._cachedMeta.vScale,n=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(e,i,n,r){return Xg.bind(this)(e,i,n,r)}update(e){const i=this._cachedMeta,n=i.dataset,r=i.data||[],s=i.iScale.getLabels();if(n.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,n,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=i;a<i+n;a++){const l=e[a],h=this.resolveDataElementOptions(a,l.active?"active":r),c=s.getPointPositionForValue(a,this.getParsed(a).r),u=o?s.xCenter:c.x,f=o?s.yCenter:c.y,d={x:u,y:f,angle:c.angle,skip:isNaN(u)||isNaN(f),options:h};this.updateElement(l,a,d,r)}}}ye(Oo,"id","radar"),ye(Oo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(Oo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Po extends _i{getLabelAndValue(e){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=i,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:n[e]||"",value:"("+a+", "+l+")"}}update(e){const i=this._cachedMeta,{data:n=[]}=i,r=this.chart._animationsDisabled;let{start:s,count:o}=zg(i,n,r);if(this._drawStart=s,this._drawCount=o,Yg(i)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=i;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,n,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:h}=this._cachedMeta,c=this.resolveDataElementOptions(i,r),u=this.getSharedOptions(c),f=this.includeOptions(r,u),d=o.axis,g=a.axis,{spanGaps:y,segment:_}=this.options,w=Cr(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none";let S=i>0&&this.getParsed(i-1);for(let A=i;A<i+n;++A){const O=e[A],x=this.getParsed(A),M=v?O:{},T=Ge(x[g]),B=M[d]=o.getPixelForValue(x[d],A),q=M[g]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[g],A);M.skip=isNaN(B)||isNaN(q)||T,M.stop=A>0&&Math.abs(x[d]-S[d])>w,_&&(M.parsed=x,M.raw=h.data[A]),f&&(M.options=u||this.resolveDataElementOptions(A,O.active?"active":r)),v||this.updateElement(O,A,M,r),S=x}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let a=0;for(let l=i.length-1;l>=0;--l)a=Math.max(a,i[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}}ye(Po,"id","scatter"),ye(Po,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ye(Po,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var u1=Object.freeze({__proto__:null,BarController:Mo,BubbleController:To,DoughnutController:Jn,LineController:Ao,PieController:jh,PolarAreaController:ds,RadarController:Oo,ScatterController:Po});function Yn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ic{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(Ic.prototype,e)}init(){}formats(){return Yn()}parse(){return Yn()}format(){return Yn()}add(){return Yn()}diff(){return Yn()}startOf(){return Yn()}endOf(){return Yn()}}var am={_date:Ic};function f1(t,e,i,n){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?B_:en;if(n){if(r._sharedOptions){const h=s[0],c=typeof h.getRange=="function"&&h.getRange(e);if(c){const u=l(s,e,i-c),f=l(s,e,i+c);return{lo:u.lo,hi:f.hi}}}}else return l(s,e,i)}return{lo:0,hi:s.length-1}}function Fs(t,e,i,n,r){const s=t.getSortedVisibleDatasetMetas(),o=i[e];for(let a=0,l=s.length;a<l;++a){const{index:h,data:c}=s[a],{lo:u,hi:f}=f1(s[a],e,o,r);for(let d=u;d<=f;++d){const g=c[d];g.skip||n(g,h,d)}}}function d1(t){const e=t.indexOf("x")!==-1,i=t.indexOf("y")!==-1;return function(n,r){const s=e?Math.abs(n.x-r.x):0,o=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function nl(t,e,i,n,r){const s=[];return!r&&!t.isPointInArea(e)||Fs(t,i,e,function(a,l,h){!r&&!tn(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&s.push({element:a,datasetIndex:l,index:h})},!0),s}function p1(t,e,i,n){let r=[];function s(o,a,l){const{startAngle:h,endAngle:c}=o.getProps(["startAngle","endAngle"],n),{angle:u}=Ng(o,{x:e.x,y:e.y});ws(u,h,c)&&r.push({element:o,datasetIndex:a,index:l})}return Fs(t,i,e,s),r}function g1(t,e,i,n,r,s){let o=[];const a=d1(i);let l=Number.POSITIVE_INFINITY;function h(c,u,f){const d=c.inRange(e.x,e.y,r);if(n&&!d)return;const g=c.getCenterPoint(r);if(!(!!s||t.isPointInArea(g))&&!d)return;const _=a(e,g);_<l?(o=[{element:c,datasetIndex:u,index:f}],l=_):_===l&&o.push({element:c,datasetIndex:u,index:f})}return Fs(t,i,e,h),o}function rl(t,e,i,n,r,s){return!s&&!t.isPointInArea(e)?[]:i==="r"&&!n?p1(t,e,i,r):g1(t,e,i,n,r,s)}function Rf(t,e,i,n,r){const s=[],o=i==="x"?"inXRange":"inYRange";let a=!1;return Fs(t,i,e,(l,h,c)=>{l[o]&&l[o](e[i],r)&&(s.push({element:l,datasetIndex:h,index:c}),a=a||l.inRange(e.x,e.y,r))}),n&&!a?[]:s}var m1={evaluateInteractionItems:Fs,modes:{index(t,e,i,n){const r=$n(e,t),s=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?nl(t,r,s,n,o):rl(t,r,s,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const c=a[0].index,u=h.data[c];u&&!u.skip&&l.push({element:u,datasetIndex:h.index,index:c})}),l):[]},dataset(t,e,i,n){const r=$n(e,t),s=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?nl(t,r,s,n,o):rl(t,r,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,h=t.getDatasetMeta(l).data;a=[];for(let c=0;c<h.length;++c)a.push({element:h[c],datasetIndex:l,index:c})}return a},point(t,e,i,n){const r=$n(e,t),s=i.axis||"xy",o=i.includeInvisible||!1;return nl(t,r,s,n,o)},nearest(t,e,i,n){const r=$n(e,t),s=i.axis||"xy",o=i.includeInvisible||!1;return rl(t,r,s,i.intersect,n,o)},x(t,e,i,n){const r=$n(e,t);return Rf(t,r,"x",i.intersect,n)},y(t,e,i,n){const r=$n(e,t);return Rf(t,r,"y",i.intersect,n)}}};const lm=["left","top","right","bottom"];function Vr(t,e){return t.filter(i=>i.pos===e)}function Df(t,e){return t.filter(i=>lm.indexOf(i.pos)===-1&&i.box.axis===e)}function qr(t,e){return t.sort((i,n)=>{const r=e?n:i,s=e?i:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function b1(t){const e=[];let i,n,r,s,o,a;for(i=0,n=(t||[]).length;i<n;++i)r=t[i],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:i,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function y1(t){const e={};for(const i of t){const{stack:n,pos:r,stackWeight:s}=i;if(!n||!lm.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function _1(t,e){const i=y1(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,h=i[a.stack],c=h&&a.stackWeight/h.weight;a.horizontal?(a.width=c?c*n:l&&e.availableWidth,a.height=r):(a.width=n,a.height=c?c*r:l&&e.availableHeight)}return i}function w1(t){const e=b1(t),i=qr(e.filter(h=>h.box.fullSize),!0),n=qr(Vr(e,"left"),!0),r=qr(Vr(e,"right")),s=qr(Vr(e,"top"),!0),o=qr(Vr(e,"bottom")),a=Df(e,"x"),l=Df(e,"y");return{fullSize:i,leftAndTop:n.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Vr(e,"chartArea"),vertical:n.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Lf(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function hm(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function v1(t,e,i,n){const{pos:r,box:s}=i,o=t.maxPadding;if(!Ve(r)){i.size&&(t[r]-=i.size);const u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?s.height:s.width),i.size=u.size/u.count,t[r]+=i.size}s.getPadding&&hm(o,s.getPadding());const a=Math.max(0,e.outerWidth-Lf(o,t,"left","right")),l=Math.max(0,e.outerHeight-Lf(o,t,"top","bottom")),h=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,i.horizontal?{same:h,other:c}:{same:c,other:h}}function S1(t){const e=t.maxPadding;function i(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function x1(t,e){const i=e.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],i[o])}),s}return n(t?["left","right"]:["top","bottom"])}function is(t,e,i,n){const r=[];let s,o,a,l,h,c;for(s=0,o=t.length,h=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,x1(a.horizontal,e));const{same:u,other:f}=v1(e,i,a,n);h|=u&&r.length,c=c||f,l.fullSize||r.push(a)}return h&&is(r,e,i,n)||c}function no(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function Bf(t,e,i,n){const r=i.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,h=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/h.weight||1;if(a.horizontal){const u=e.w*c,f=h.size||l.height;_s(h.start)&&(o=h.start),l.fullSize?no(l,r.left,o,i.outerWidth-r.right-r.left,f):no(l,e.left+h.placed,o,u,f),h.start=o,h.placed+=u,o=l.bottom}else{const u=e.h*c,f=h.size||l.width;_s(h.start)&&(s=h.start),l.fullSize?no(l,s,r.top,f,i.outerHeight-r.bottom-r.top):no(l,s,e.top+h.placed,f,u),h.start=s,h.placed+=u,s=l.right}}e.x=s,e.y=o}var Vt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const r=$t(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(i-r.height,0),a=w1(t.boxes),l=a.vertical,h=a.horizontal;Ze(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);hm(f,$t(n));const d=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=_1(l.concat(h),u);is(a.fullSize,d,u,g),is(l,d,u,g),is(h,d,u,g)&&is(l,d,u,g),S1(d),Bf(a.leftAndTop,d,u,g),d.x+=d.w,d.y+=d.h,Bf(a.rightAndBottom,d,u,g),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Ze(a.chartArea,y=>{const _=y.box;Object.assign(_,t.chartArea),_.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class cm{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,n){}removeEventListener(e,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,n,r){return i=Math.max(0,i||e.width),n=n||e.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(e){return!0}updateConfig(e){}}class k1 extends cm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Co="$chartjs",E1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nf=t=>t===null||t==="";function M1(t,e){const i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[Co]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Nf(r)){const s=wf(t,"width");s!==void 0&&(t.width=s)}if(Nf(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=wf(t,"height");s!==void 0&&(t.height=s)}return t}const um=Ow?{passive:!0}:!1;function T1(t,e,i){t&&t.addEventListener(e,i,um)}function A1(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,um)}function O1(t,e){const i=E1[t.type]||t.type,{x:n,y:r}=$n(t,e);return{type:i,chart:e,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function ea(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function P1(t,e,i){const n=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ea(a.addedNodes,n),o=o&&!ea(a.removedNodes,n);o&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function C1(t,e,i){const n=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ea(a.removedNodes,n),o=o&&!ea(a.addedNodes,n);o&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ss=new Map;let Ff=0;function fm(){const t=window.devicePixelRatio;t!==Ff&&(Ff=t,Ss.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function I1(t,e){Ss.size||window.addEventListener("resize",fm),Ss.set(t,e)}function R1(t){Ss.delete(t),Ss.size||window.removeEventListener("resize",fm)}function D1(t,e,i){const n=t.canvas,r=n&&Cc(n);if(!r)return;const s=Wg((a,l)=>{const h=r.clientWidth;i(a,l),h<r.clientWidth&&i()},window),o=new ResizeObserver(a=>{const l=a[0],h=l.contentRect.width,c=l.contentRect.height;h===0&&c===0||s(h,c)});return o.observe(r),I1(t,s),o}function sl(t,e,i){i&&i.disconnect(),e==="resize"&&R1(t)}function L1(t,e,i){const n=t.canvas,r=Wg(s=>{t.ctx!==null&&i(O1(s,t))},t);return T1(n,e,r),r}class B1 extends cm{acquireContext(e,i){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(M1(e,i),n):null}releaseContext(e){const i=e.canvas;if(!i[Co])return!1;const n=i[Co].initial;["height","width"].forEach(s=>{const o=n[s];Ge(o)?i.removeAttribute(s):i.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{i.style[s]=r[s]}),i.width=i.width,delete i[Co],!0}addEventListener(e,i,n){this.removeEventListener(e,i);const r=e.$proxies||(e.$proxies={}),o={attach:P1,detach:C1,resize:D1}[i]||L1;r[i]=o(e,i,n)}removeEventListener(e,i){const n=e.$proxies||(e.$proxies={}),r=n[i];if(!r)return;({attach:sl,detach:sl,resize:sl}[i]||A1)(e,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,n,r){return Aw(e,i,n,r)}isAttached(e){const i=e&&Cc(e);return!!(i&&i.isConnected)}}function N1(t){return!Pc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?k1:B1}class wi{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}hasValue(){return Cr(this.x)&&Cr(this.y)}getProps(e,i){const n=this.$animations;if(!i||!n)return this;const r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}ye(wi,"defaults",{}),ye(wi,"defaultRoutes");function F1(t,e){const i=t.options.ticks,n=U1(t),r=Math.min(i.maxTicksLimit||n,n),s=i.major.enabled?W1(e):[],o=s.length,a=s[0],l=s[o-1],h=[];if(o>r)return z1(e,h,s,o/r),h;const c=j1(s,e,r);if(o>0){let u,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(ro(e,h,c,Ge(d)?0:a-d,a),u=0,f=o-1;u<f;u++)ro(e,h,c,s[u],s[u+1]);return ro(e,h,c,l,Ge(d)?e.length:l+d),h}return ro(e,h,c),h}function U1(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}function j1(t,e,i){const n=Y1(t),r=e.length/i;if(!n)return Math.max(r,1);const s=I_(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function W1(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}function z1(t,e,i,n){let r=0,s=i[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=i[r*n])}function ro(t,e,i,n,r){const s=je(n,0),o=Math.min(je(r,t.length),t.length);let a=0,l,h,c;for(i=Math.ceil(i),r&&(l=r-n,i=l/Math.floor(l/i)),c=s;c<0;)a++,c=Math.round(s+a*i);for(h=Math.max(s,0);h<o;h++)h===c&&(e.push(t[h]),a++,c=Math.round(s+a*i))}function Y1(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}const H1=t=>t==="left"?"right":t==="right"?"left":t,Uf=(t,e,i)=>e==="top"||e==="left"?t[e]+i:t[e]-i,jf=(t,e)=>Math.min(e||t,t);function Wf(t,e){const i=[],n=t.length/e,r=t.length;let s=0;for(;s<r;s+=n)i.push(t[Math.floor(s)]);return i}function V1(t,e,i){const n=t.ticks.length,r=Math.min(e,n-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),h;if(!(i&&(n===1?h=Math.max(l-s,o-l):e===0?h=(t.getPixelForTick(1)-l)/2:h=(l-t.getPixelForTick(r-1))/2,l+=r<e?h:-h,l<s-a||l>o+a)))return l}function q1(t,e){Ze(t,i=>{const n=i.gc,r=n.length/2;let s;if(r>e){for(s=0;s<r;++s)delete i.data[n[s]];n.splice(0,r)}})}function $r(t){return t.drawTicks?t.tickLength:0}function zf(t,e){if(!t.display)return 0;const i=Pt(t.font,e),n=$t(t.padding);return(ct(t.text)?t.text.length:1)*i.lineHeight+n.height}function $1(t,e){return Rn(t,{scale:e,type:"scale"})}function G1(t,e,i){return Rn(t,{tick:i,index:e,type:"tick"})}function K1(t,e,i){let n=kc(t);return(i&&e!=="right"||!i&&e==="right")&&(n=H1(n)),n}function Q1(t,e,i,n){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:h,scales:c}=l;let u=0,f,d,g;const y=o-r,_=a-s;if(t.isHorizontal()){if(d=Ht(n,s,a),Ve(i)){const w=Object.keys(i)[0],v=i[w];g=c[w].getPixelForValue(v)+y-e}else i==="center"?g=(h.bottom+h.top)/2+y-e:g=Uf(t,i,e);f=a-s}else{if(Ve(i)){const w=Object.keys(i)[0],v=i[w];d=c[w].getPixelForValue(v)-_+e}else i==="center"?d=(h.left+h.right)/2-_+e:d=Uf(t,i,e);g=Ht(n,o,r),u=i==="left"?-Tt:Tt}return{titleX:d,titleY:g,maxWidth:f,rotation:u}}class gr extends wi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return e=ii(e,Number.POSITIVE_INFINITY),i=ii(i,Number.NEGATIVE_INFINITY),n=ii(n,Number.POSITIVE_INFINITY),r=ii(r,Number.NEGATIVE_INFINITY),{min:ii(e,n),max:ii(i,r),minDefined:Et(e),maxDefined:Et(i)}}getMinMax(e){let{min:i,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:i,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,h=a.length;l<h;++l)o=a[l].controller.getMinMax(this,e),r||(i=Math.min(i,o.min)),s||(n=Math.max(n,o.max));return i=s&&i>n?n:i,n=r&&i>n?i:n,{min:ii(i,ii(n,i)),max:ii(n,ii(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lt(this.options.beforeUpdate,[this])}update(e,i,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ow(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Wf(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=F1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,e=!e),this._startPixel=i,this._endPixel=n,this._reversePixels=e,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lt(this.options.afterUpdate,[this])}beforeSetDimensions(){lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const i=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=lt(i.callback,[s.value,n,e],this)}afterTickToLabelConversion(){lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,i=e.ticks,n=jf(this.ticks.length,e.ticks.maxTicksLimit),r=i.minRotation||0,s=i.maxRotation;let o=r,a,l,h;if(!this._isVisible()||!i.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),u=c.widest.width,f=c.highest.height,d=Lt(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:d/(n-1),u+6>a&&(a=d/(n-(e.offset?.5:1)),l=this.maxHeight-$r(e.grid)-i.padding-zf(e.title,this.chart.options.font),h=Math.sqrt(u*u+f*f),o=Sc(Math.min(Math.asin(Lt((c.highest.height+6)/a,-1,1)),Math.asin(Lt(l/h,-1,1))-Math.asin(Lt(f/h,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=zf(r,i.options.font);if(a?(e.width=this.maxWidth,e.height=$r(s)+l):(e.height=this.maxHeight,e.width=$r(s)+l),n.display&&this.ticks.length){const{first:h,last:c,widest:u,highest:f}=this._getLabelSizes(),d=n.padding*2,g=mi(this.labelRotation),y=Math.cos(g),_=Math.sin(g);if(a){const w=n.mirror?0:_*u.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+w+d)}else{const w=n.mirror?0:y*u.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+w+d)}this._calculatePadding(h,c,_,y)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,n,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,h=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?h?(f=r*e.width,d=n*i.height):(f=n*e.height,d=r*i.width):s==="start"?d=i.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,d=i.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-u+o)*this.width/(this.width-u),0)}else{let c=i.height/2,u=e.height/2;s==="start"?(c=0,u=e.height):s==="end"&&(c=i.height,u=0),this.paddingTop=c+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,n;for(i=0,n=e.length;i<n;i++)Ge(e[i].label)&&(e.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=Wf(n,i)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,n){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(i/jf(i,n));let h=0,c=0,u,f,d,g,y,_,w,v,S,A,O;for(u=0;u<i;u+=l){if(g=e[u].label,y=this._resolveTickFontOptions(u),r.font=_=y.string,w=s[_]=s[_]||{data:{},gc:[]},v=y.lineHeight,S=A=0,!Ge(g)&&!ct(g))S=Jo(r,w.data,w.gc,S,g),A=v;else if(ct(g))for(f=0,d=g.length;f<d;++f)O=g[f],!Ge(O)&&!ct(O)&&(S=Jo(r,w.data,w.gc,S,O),A+=v);o.push(S),a.push(A),h=Math.max(S,h),c=Math.max(A,c)}q1(s,i);const x=o.indexOf(h),M=a.indexOf(c),T=B=>({width:o[B]||0,height:a[B]||0});return{first:T(0),last:T(i-1),widest:T(x),highest:T(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const i=this._startPixel+e*this._length;return L_(this._alignToPixels?zn(this.chart,i,0):i)}getDecimalForPixel(e){const i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){const i=this.ticks||[];if(e>=0&&e<i.length){const n=i[e];return n.$context||(n.$context=G1(this.getContext(),e,n))}return this.$context||(this.$context=$1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,i=mi(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const i=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,h=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=$r(s),d=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,_=y/2,w=function(re){return zn(n,re,y)};let v,S,A,O,x,M,T,B,q,$,k,Y;if(o==="top")v=w(this.bottom),M=this.bottom-f,B=v-_,$=w(e.top)+_,Y=e.bottom;else if(o==="bottom")v=w(this.top),$=e.top,Y=w(e.bottom)-_,M=v+_,B=this.top+f;else if(o==="left")v=w(this.right),x=this.right-f,T=v-_,q=w(e.left)+_,k=e.right;else if(o==="right")v=w(this.left),q=e.left,k=w(e.right)-_,x=v+_,T=this.left+f;else if(i==="x"){if(o==="center")v=w((e.top+e.bottom)/2+.5);else if(Ve(o)){const re=Object.keys(o)[0],Z=o[re];v=w(this.chart.scales[re].getPixelForValue(Z))}$=e.top,Y=e.bottom,M=v+_,B=M+f}else if(i==="y"){if(o==="center")v=w((e.left+e.right)/2);else if(Ve(o)){const re=Object.keys(o)[0],Z=o[re];v=w(this.chart.scales[re].getPixelForValue(Z))}x=v-_,T=x-f,q=e.left,k=e.right}const X=je(r.ticks.maxTicksLimit,u),H=Math.max(1,Math.ceil(u/X));for(S=0;S<u;S+=H){const re=this.getContext(S),Z=s.setContext(re),V=a.setContext(re),he=Z.lineWidth,ne=Z.color,xe=V.dash||[],I=V.dashOffset,K=Z.tickWidth,se=Z.tickColor,Ee=Z.tickBorderDash||[],le=Z.tickBorderDashOffset;A=V1(this,S,l),A!==void 0&&(O=zn(n,A,he),h?x=T=q=k=O:M=B=$=Y=O,d.push({tx1:x,ty1:M,tx2:T,ty2:B,x1:q,y1:$,x2:k,y2:Y,width:he,color:ne,borderDash:xe,borderDashOffset:I,tickWidth:K,tickColor:se,tickBorderDash:Ee,tickBorderDashOffset:le}))}return this._ticksLength=u,this._borderValue=v,d}_computeLabelItems(e){const i=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:h,padding:c,mirror:u}=s,f=$r(n.grid),d=f+c,g=u?-c:d,y=-mi(this.labelRotation),_=[];let w,v,S,A,O,x,M,T,B,q,$,k,Y="middle";if(r==="top")x=this.bottom-g,M=this._getXAxisLabelAlignment();else if(r==="bottom")x=this.top+g,M=this._getXAxisLabelAlignment();else if(r==="left"){const H=this._getYAxisLabelAlignment(f);M=H.textAlign,O=H.x}else if(r==="right"){const H=this._getYAxisLabelAlignment(f);M=H.textAlign,O=H.x}else if(i==="x"){if(r==="center")x=(e.top+e.bottom)/2+d;else if(Ve(r)){const H=Object.keys(r)[0],re=r[H];x=this.chart.scales[H].getPixelForValue(re)+d}M=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")O=(e.left+e.right)/2-d;else if(Ve(r)){const H=Object.keys(r)[0],re=r[H];O=this.chart.scales[H].getPixelForValue(re)}M=this._getYAxisLabelAlignment(f).textAlign}i==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const X=this._getLabelSizes();for(w=0,v=a.length;w<v;++w){S=a[w],A=S.label;const H=s.setContext(this.getContext(w));T=this.getPixelForTick(w)+s.labelOffset,B=this._resolveTickFontOptions(w),q=B.lineHeight,$=ct(A)?A.length:1;const re=$/2,Z=H.color,V=H.textStrokeColor,he=H.textStrokeWidth;let ne=M;o?(O=T,M==="inner"&&(w===v-1?ne=this.options.reverse?"left":"right":w===0?ne=this.options.reverse?"right":"left":ne="center"),r==="top"?h==="near"||y!==0?k=-$*q+q/2:h==="center"?k=-X.highest.height/2-re*q+q:k=-X.highest.height+q/2:h==="near"||y!==0?k=q/2:h==="center"?k=X.highest.height/2-re*q:k=X.highest.height-$*q,u&&(k*=-1),y!==0&&!H.showLabelBackdrop&&(O+=q/2*Math.sin(y))):(x=T,k=(1-$)*q/2);let xe;if(H.showLabelBackdrop){const I=$t(H.backdropPadding),K=X.heights[w],se=X.widths[w];let Ee=k-I.top,le=0-I.left;switch(Y){case"middle":Ee-=K/2;break;case"bottom":Ee-=K;break}switch(M){case"center":le-=se/2;break;case"right":le-=se;break;case"inner":w===v-1?le-=se:w>0&&(le-=se/2);break}xe={left:le,top:Ee,width:se+I.width,height:K+I.height,color:H.backdropColor}}_.push({label:A,font:B,textOffset:k,options:{rotation:y,color:Z,strokeColor:V,strokeWidth:he,textAlign:ne,textBaseline:Y,translation:[O,x],backdrop:xe}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-mi(this.labelRotation))return e==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:i,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let h,c;return i==="left"?r?(c=this.right+s,n==="near"?h="left":n==="center"?(h="center",c+=l/2):(h="right",c+=l)):(c=this.right-a,n==="near"?h="right":n==="center"?(h="center",c-=l/2):(h="left",c=this.left)):i==="right"?r?(c=this.left+s,n==="near"?h="right":n==="center"?(h="center",c-=l/2):(h="left",c-=l)):(c=this.left+a,n==="near"?h="left":n==="center"?(h="center",c+=l/2):(h="right",c=this.right)):h="right",{textAlign:h,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:i},left:n,top:r,width:s,height:o}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(n,r,s,o),e.restore())}getLineWidthForValue(e){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,h,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(i.display)for(s=0,o=r.length;s<o;++s){const l=r[s];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:i,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let h,c,u,f;this.isHorizontal()?(h=zn(e,this.left,o)-o/2,c=zn(e,this.right,a)+a/2,u=f=l):(u=zn(e,this.top,o)-o/2,f=zn(e,this.bottom,a)+a/2,h=c=l),i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.beginPath(),i.moveTo(h,u),i.lineTo(c,f),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&ya(n,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,h=o.label,c=o.textOffset;cr(n,h,0,c,l,a)}r&&_a(n)}drawTitle(){const{ctx:e,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;const s=Pt(n.font),o=$t(n.padding),a=n.align;let l=s.lineHeight/2;i==="bottom"||i==="center"||Ve(i)?(l+=o.bottom,ct(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:h,titleY:c,maxWidth:u,rotation:f}=Q1(this,l,i,a);cr(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:f,textAlign:K1(a,i,r),textBaseline:"middle",translation:[h,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,i=e.ticks&&e.ticks.z||0,n=je(e.grid&&e.grid.z,-1),r=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gr.prototype.draw?[{z:i,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=i.length;s<o;++s){const a=i[s];a[n]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const i=this.options.ticks.setContext(this.getContext(e));return Pt(i.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class so{constructor(e,i,n){this.type=e,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const i=Object.getPrototypeOf(e);let n;Z1(i)&&(n=this.register(i));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,X1(e,o,n),this.override&&vt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const i=this.items,n=e.id,r=this.scope;n in i&&delete i[n],r&&n in vt[r]&&(delete vt[r][n],this.override&&delete hr[n])}}function X1(t,e,i){const n=ys(Object.create(null),[i?vt.get(i):{},vt.get(e),t.defaults]);vt.set(e,n),t.defaultRoutes&&J1(e,t.defaultRoutes),t.descriptors&&vt.describe(e,t.descriptors)}function J1(t,e){Object.keys(e).forEach(i=>{const n=i.split("."),r=n.pop(),s=[t].concat(n).join("."),o=e[i].split("."),a=o.pop(),l=o.join(".");vt.route(s,r,l,a)})}function Z1(t){return"id"in t&&"defaults"in t}class ev{constructor(){this.controllers=new so(_i,"datasets",!0),this.elements=new so(wi,"elements"),this.plugins=new so(Object,"plugins"),this.scales=new so(gr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,n){[...i].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ze(r,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,i,n){const r=vc(e);lt(n["before"+r],[],n),i[e](n),lt(n["after"+r],[],n)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(e))return n}return this.plugins}_get(e,i,n){const r=i.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Ti=new ev;class tv{constructor(){this._init=[]}notify(e,i,n,r){i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,i,n);return i==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,i,n,r){r=r||{};for(const s of e){const o=s.plugin,a=o[n],l=[i,r,s.options];if(lt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){const n=e&&e.config,r=je(n.options&&n.options.plugins,{}),s=iv(n);return r===!1&&!i?[]:rv(e,s,r,i)}_notifyStateChanges(e){const i=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(i,n),e,"stop"),this._notify(r(n,i),e,"start")}}function iv(t){const e={},i=[],n=Object.keys(Ti.plugins.items);for(let s=0;s<n.length;s++)i.push(Ti.getPlugin(n[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];i.indexOf(o)===-1&&(i.push(o),e[o.id]=!0)}return{plugins:i,localIds:e}}function nv(t,e){return!e&&t===!1?null:t===!0?{}:t}function rv(t,{plugins:e,localIds:i},n,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,h=nv(n[l],r);h!==null&&s.push({plugin:a,options:sv(t.config,{plugin:a,local:i[l]},h,o)})}return s}function sv(t,{plugin:e,local:i},n,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(n,s);return i&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wh(t,e){const i=vt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function ov(t,e){let i=t;return t==="_index_"?i=e:t==="_value_"&&(i=e==="x"?"y":"x"),i}function av(t,e){return t===e?"_index_":"_value_"}function Yf(t){if(t==="x"||t==="y"||t==="r")return t}function lv(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zh(t,...e){if(Yf(t))return t;for(const i of e){const n=i.axis||lv(i.position)||t.length>1&&Yf(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Hf(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function hv(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(i.length)return Hf(t,"x",i[0])||Hf(t,"y",i[0])}return{}}function cv(t,e){const i=hr[t.type]||{scales:{}},n=e.scales||{},r=Wh(t.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=zh(o,a,hv(o,t),vt.scales[a.type]),h=av(l,r),c=i.scales||{};s[o]=hs(Object.create(null),[{axis:l},a,c[l],c[h]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Wh(a,e),c=(hr[a]||{}).scales||{};Object.keys(c).forEach(u=>{const f=ov(u,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),hs(s[d],[{axis:f},n[d],c[u]])})}),Object.keys(s).forEach(o=>{const a=s[o];hs(a,[vt.scales[a.type],vt.scale])}),s}function dm(t){const e=t.options||(t.options={});e.plugins=je(e.plugins,{}),e.scales=cv(t,e)}function pm(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uv(t){return t=t||{},t.data=pm(t.data),dm(t),t}const Vf=new Map,gm=new Set;function oo(t,e){let i=Vf.get(t);return i||(i=e(),Vf.set(t,i),gm.add(i)),i}const Gr=(t,e,i)=>{const n=On(e,i);n!==void 0&&t.add(n)};class fv{constructor(e){this._config=uv(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return oo(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return oo(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){const i=e.id,n=this.type;return oo(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){const n=this._scopeCache;let r=n.get(e);return(!r||i)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,i,n){const{options:r,type:s}=this,o=this._cachedScopes(e,n),a=o.get(i);if(a)return a;const l=new Set;i.forEach(c=>{e&&(l.add(e),c.forEach(u=>Gr(l,e,u))),c.forEach(u=>Gr(l,r,u)),c.forEach(u=>Gr(l,hr[s]||{},u)),c.forEach(u=>Gr(l,vt,u)),c.forEach(u=>Gr(l,Fh,u))});const h=Array.from(l);return h.length===0&&h.push(Object.create(null)),gm.has(i)&&o.set(i,h),h}chartOptionScopes(){const{options:e,type:i}=this;return[e,hr[i]||{},vt.datasets[i]||{},{type:i},vt,Fh]}resolveNamedOptions(e,i,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=qf(this._resolverCache,e,r);let l=o;if(pv(o,i)){s.$shared=!1,n=Pn(n)?n():n;const h=this.createResolver(e,n,a);l=Ir(o,n,h)}for(const h of i)s[h]=l[h];return s}createResolver(e,i,n=[""],r){const{resolver:s}=qf(this._resolverCache,e,n);return Ve(i)?Ir(s,i,void 0,r):s}}function qf(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=i.join();let s=n.get(r);return s||(s={resolver:Tc(e,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}const dv=t=>Ve(t)&&Object.getOwnPropertyNames(t).some(e=>Pn(t[e]));function pv(t,e){const{isScriptable:i,isIndexable:n}=$g(t);for(const r of e){const s=i(r),o=n(r),a=(o||s)&&t[r];if(s&&(Pn(a)||dv(a))||o&&ct(a))return!0}return!1}var gv="4.4.7";const mv=["top","bottom","left","right","chartArea"];function $f(t,e){return t==="top"||t==="bottom"||mv.indexOf(t)===-1&&e==="x"}function Gf(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Kf(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),lt(i&&i.onComplete,[t],e)}function bv(t){const e=t.chart,i=e.options.animation;lt(i&&i.onProgress,[t],e)}function mm(t){return Pc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Io={},Qf=t=>{const e=mm(t);return Object.values(Io).filter(i=>i.canvas===e).pop()};function yv(t,e,i){const n=Object.keys(t);for(const r of n){const s=+r;if(s>=e){const o=t[r];delete t[r],(i>0||s>e)&&(t[s+i]=o)}}}function _v(t,e,i,n){return!i||t.type==="mouseout"?null:n?e:t}function ao(t,e,i){return t.options.clip?t[i]:e[i]}function wv(t,e){const{xScale:i,yScale:n}=t;return i&&n?{left:ao(i,e,"left"),right:ao(i,e,"right"),top:ao(n,e,"top"),bottom:ao(n,e,"bottom")}:e}class Qi{static register(...e){Ti.add(...e),Xf()}static unregister(...e){Ti.remove(...e),Xf()}constructor(e,i){const n=this.config=new fv(i),r=mm(e),s=Qf(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||N1(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,h=l&&l.height,c=l&&l.width;if(this.id=x_(),this.ctx=a,this.canvas=l,this.width=c,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=U_(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Io[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Yi.listen(this,"complete",Kf),Yi.listen(this,"progress",bv),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:n,height:r,_aspectRatio:s}=this;return Ge(e)?i&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ti}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_f(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mf(this.canvas,this.ctx),this}stop(){return Yi.stop(this),this}resize(e,i){Yi.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,i,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_f(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),lt(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};Ze(i,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,i=e.scales,n=this.scales,r=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];i&&(s=s.concat(Object.keys(i).map(o=>{const a=i[o],l=zh(o,a),h=l==="r",c=l==="x";return{options:a,dposition:h?"chartArea":c?"bottom":"left",dtype:h?"radialLinear":c?"category":"linear"}}))),Ze(s,o=>{const a=o.options,l=a.id,h=zh(l,a),c=je(a.type,o.dtype);(a.position===void 0||$f(a.position,h)!==$f(o.dposition))&&(a.position=o.dposition),r[l]=!0;let u=null;if(l in n&&n[l].type===c)u=n[l];else{const f=Ti.getScale(c);u=new f({id:l,type:c,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,e)}),Ze(r,(o,a)=>{o||delete n[a]}),Ze(n,o=>{Vt.configure(this,o,o.options),Vt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,n=e.length;if(e.sort((r,s)=>r.index-s.index),n>i){for(let r=i;r<n;++r)this._destroyDatasetMeta(r);e.splice(i,n-i)}this._sortedMetasets=e.slice(0).sort(Gf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((n,r)=>{i.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=i.length;n<r;n++){const s=i[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||Wh(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Ti.getController(a),{datasetElementType:h,dataElementType:c}=vt.datasets[a];Object.assign(l,{dataElementType:Ti.getElement(c),datasetElementType:h&&Ti.getElement(h)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ze(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,c=this.data.datasets.length;h<c;h++){const{controller:u}=this.getDatasetMeta(h),f=!r&&s.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Ze(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Gf("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ze(this.scales,e=>{Vt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!af(i,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of i){const o=n==="_removeElements"?-s:s;yv(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=n(0);for(let s=1;s<i;s++)if(!af(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Vt.update(this,this.width,this.height,e);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],Ze(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Pn(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yi.has(this)?this.attached&&!Yi.running(this)&&Yi.start(this):(this.draw(),Kf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,n=[];let r,s;for(r=0,s=i.length;r<s;++r){const o=i[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,n=e._clip,r=!n.disabled,s=wv(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&ya(i,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&_a(i),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return tn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,n,r){const s=m1.modes[i];return typeof s=="function"?s(this,e,n,r):[]}getDatasetMeta(e){const i=this.data.datasets[e],n=this._metasets;let r=n.filter(s=>s&&s._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Rn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(e,i){const n=this.getDatasetMeta(e);n.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);_s(i)?(s.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Yi.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mf(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,n=(s,o)=>{i.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ze(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,n=(l,h)=>{i.addEventListener(this,l,h),e[l]=h},r=(l,h)=>{e[l]&&(i.removeEventListener(this,l,h),delete e[l])},s=(l,h)=>{this.canvas&&this.resize(l,h)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",a)},i.isAttached(this.canvas)?a():o()}unbindEvents(){Ze(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Ze(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,n){const r=n?"set":"remove";let s,o,a,l;for(i==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Ko(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(e,i,n){return this._plugins.notify(this,e,i,n)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,n){const r=this.options.hover,s=(l,h)=>l.filter(c=>!h.some(u=>c.datasetIndex===u.datasetIndex&&c.index===u.index)),o=s(i,e),a=n?e:s(e,i);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,i){const n={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(e,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,i,n){const{_active:r=[],options:s}=this,o=i,a=this._getActiveElements(e,r,n,o),l=O_(e),h=_v(e,this._lastEvent,n,l);n&&(this._lastEvent=null,lt(s.onHover,[e,a,this],this),l&&lt(s.onClick,[e,a,this],this));const c=!Ko(a,r);return(c||i)&&(this._active=a,this._updateHoverStyles(a,r,i)),this._lastEvent=h,c}_getActiveElements(e,i,n,r){if(e.type==="mouseout")return[];if(!n)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}ye(Qi,"defaults",vt),ye(Qi,"instances",Io),ye(Qi,"overrides",hr),ye(Qi,"registry",Ti),ye(Qi,"version",gv),ye(Qi,"getChart",Qf);function Xf(){return Ze(Qi.instances,t=>t._plugins.invalidate())}function vv(t,e,i){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let h=r/a;t.beginPath(),t.arc(s,o,a,n-h,i+h),l>r?(h=r/l,t.arc(s,o,l,i+h,n-h,!0)):t.arc(s,o,r,i+Tt,n-Tt),t.closePath(),t.clip()}function Sv(t){return Mc(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xv(t,e,i,n){const r=Sv(t.options.borderRadius),s=(i-e)/2,o=Math.min(s,n*e/2),a=l=>{const h=(i-Math.min(s,l))*n/2;return Lt(l,0,Math.min(s,h))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Lt(r.innerStart,0,o),innerEnd:Lt(r.innerEnd,0,o)}}function _r(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function ta(t,e,i,n,r,s){const{x:o,y:a,startAngle:l,pixelMargin:h,innerRadius:c}=e,u=Math.max(e.outerRadius+n+i-h,0),f=c>0?c+n+i+h:0;let d=0;const g=r-l;if(n){const H=c>0?c-n:0,re=u>0?u-n:0,Z=(H+re)/2,V=Z!==0?g*Z/(Z+n):g;d=(g-V)/2}const y=Math.max(.001,g*u-i/ft)/u,_=(g-y)/2,w=l+_+d,v=r-_-d,{outerStart:S,outerEnd:A,innerStart:O,innerEnd:x}=xv(e,f,u,v-w),M=u-S,T=u-A,B=w+S/M,q=v-A/T,$=f+O,k=f+x,Y=w+O/$,X=v-x/k;if(t.beginPath(),s){const H=(B+q)/2;if(t.arc(o,a,u,B,H),t.arc(o,a,u,H,q),A>0){const he=_r(T,q,o,a);t.arc(he.x,he.y,A,q,v+Tt)}const re=_r(k,v,o,a);if(t.lineTo(re.x,re.y),x>0){const he=_r(k,X,o,a);t.arc(he.x,he.y,x,v+Tt,X+Math.PI)}const Z=(v-x/f+(w+O/f))/2;if(t.arc(o,a,f,v-x/f,Z,!0),t.arc(o,a,f,Z,w+O/f,!0),O>0){const he=_r($,Y,o,a);t.arc(he.x,he.y,O,Y+Math.PI,w-Tt)}const V=_r(M,w,o,a);if(t.lineTo(V.x,V.y),S>0){const he=_r(M,B,o,a);t.arc(he.x,he.y,S,w-Tt,B)}}else{t.moveTo(o,a);const H=Math.cos(B)*u+o,re=Math.sin(B)*u+a;t.lineTo(H,re);const Z=Math.cos(q)*u+o,V=Math.sin(q)*u+a;t.lineTo(Z,V)}t.closePath()}function kv(t,e,i,n,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){ta(t,e,i,n,l,r);for(let h=0;h<s;++h)t.fill();isNaN(a)||(l=o+(a%ut||ut))}return ta(t,e,i,n,l,r),t.fill(),l}function Ev(t,e,i,n,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:u,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!h)return;t.setLineDash(u||[]),t.lineDashOffset=f,d?(t.lineWidth=h*2,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let g=e.endAngle;if(s){ta(t,e,i,n,g,r);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(g=o+(a%ut||ut))}d&&vv(t,e,g),s||(ta(t,e,i,n,g,r),t.stroke())}class ns extends wi{constructor(i){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,n,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=Ng(s,{x:i,y:n}),{startAngle:l,endAngle:h,innerRadius:c,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,g=je(f,h-l),y=ws(o,l,h)&&l!==h,_=g>=ut||y,w=Zi(a,c+d,u+d);return _&&w}getCenterPoint(i){const{x:n,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:h,spacing:c}=this.options,u=(s+o)/2,f=(a+l+c+h)/2;return{x:n+Math.cos(u)*f,y:r+Math.sin(u)*f}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:n,circumference:r}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>ut?Math.floor(r/ut):0,r===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*s,Math.sin(l)*s);const h=1-Math.sin(Math.min(ft,r||0)),c=s*h;i.fillStyle=n.backgroundColor,i.strokeStyle=n.borderColor,kv(i,this,c,o,a),Ev(i,this,c,o,a),i.restore()}}ye(ns,"id","arc"),ye(ns,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ye(ns,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(ns,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function bm(t,e,i=e){t.lineCap=je(i.borderCapStyle,e.borderCapStyle),t.setLineDash(je(i.borderDash,e.borderDash)),t.lineDashOffset=je(i.borderDashOffset,e.borderDashOffset),t.lineJoin=je(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=je(i.borderWidth,e.borderWidth),t.strokeStyle=je(i.borderColor,e.borderColor)}function Mv(t,e,i){t.lineTo(i.x,i.y)}function Tv(t){return t.stepped?X_:t.tension||t.cubicInterpolationMode==="monotone"?J_:Mv}function ym(t,e,i={}){const n=t.length,{start:r=0,end:s=n-1}=i,{start:o,end:a}=e,l=Math.max(r,o),h=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:n,start:l,loop:e.loop,ilen:h<l&&!c?n+h-l:h-l}}function Av(t,e,i,n){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:h}=ym(r,i,n),c=Tv(s);let{move:u=!0,reverse:f}=n||{},d,g,y;for(d=0;d<=h;++d)g=r[(a+(f?h-d:d))%o],!g.skip&&(u?(t.moveTo(g.x,g.y),u=!1):c(t,y,g,f,s.stepped),y=g);return l&&(g=r[(a+(f?h:0))%o],c(t,y,g,f,s.stepped)),!!l}function Ov(t,e,i,n){const r=e.points,{count:s,start:o,ilen:a}=ym(r,i,n),{move:l=!0,reverse:h}=n||{};let c=0,u=0,f,d,g,y,_,w;const v=A=>(o+(h?a-A:A))%s,S=()=>{y!==_&&(t.lineTo(c,_),t.lineTo(c,y),t.lineTo(c,w))};for(l&&(d=r[v(0)],t.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=r[v(f)],d.skip)continue;const A=d.x,O=d.y,x=A|0;x===g?(O<y?y=O:O>_&&(_=O),c=(u*c+A)/++u):(S(),t.lineTo(A,O),g=x,u=0,y=_=O),w=O}S()}function Yh(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?Ov:Av}function Pv(t){return t.stepped?Pw:t.tension||t.cubicInterpolationMode==="monotone"?Cw:Gn}function Cv(t,e,i,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),bm(t,e.options),t.stroke(r)}function Iv(t,e,i,n){const{segments:r,options:s}=e,o=Yh(e);for(const a of r)bm(t,s,a.style),t.beginPath(),o(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}const Rv=typeof Path2D=="function";function Dv(t,e,i,n){Rv&&!e.options.segment?Cv(t,e,i,n):Iv(t,e,i,n)}class xn extends wi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Sw(this._points,n,e,r,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Nw(this,this.options.segment))}first(){const e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){const e=this.segments,i=this.points,n=e.length;return n&&i[e[n-1].end]}interpolate(e,i){const n=this.options,r=e[i],s=this.points,o=nm(this,{property:i,start:r,end:r});if(!o.length)return;const a=[],l=Pv(n);let h,c;for(h=0,c=o.length;h<c;++h){const{start:u,end:f}=o[h],d=s[u],g=s[f];if(d===g){a.push(d);continue}const y=Math.abs((r-d[i])/(g[i]-d[i])),_=l(d,g,y,n.stepped);_[i]=e[i],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,i,n){return Yh(this)(e,this,i,n)}path(e,i,n){const r=this.segments,s=Yh(this);let o=this._loop;i=i||0,n=n||this.points.length-i;for(const a of r)o&=s(e,this,a,{start:i,end:i+n-1});return!!o}draw(e,i,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Dv(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(xn,"id","line"),ye(xn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(xn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(xn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Jf(t,e,i,n){const r=t.options,{[i]:s}=t.getProps([i],n);return Math.abs(e-s)<r.radius+r.hitRadius}class Ro extends wi{constructor(i){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(i-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(i,n){return Jf(this,i,"x",n)}inYRange(i,n){return Jf(this,i,"y",n)}getCenterPoint(i){const{x:n,y:r}=this.getProps(["x","y"],i);return{x:n,y:r}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);const r=n&&i.borderWidth||0;return(n+r)*2}draw(i,n){const r=this.options;this.skip||r.radius<.1||!tn(this,n,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,Uh(i,r,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}ye(Ro,"id","point"),ye(Ro,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(Ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _m(t,e){const{x:i,y:n,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,h,c,u;return t.horizontal?(u=o/2,a=Math.min(i,r),l=Math.max(i,r),h=n-u,c=n+u):(u=s/2,a=i-u,l=i+u,h=Math.min(n,r),c=Math.max(n,r)),{left:a,top:h,right:l,bottom:c}}function kn(t,e,i,n){return t?0:Lt(e,i,n)}function Lv(t,e,i){const n=t.options.borderWidth,r=t.borderSkipped,s=qg(n);return{t:kn(r.top,s.top,0,i),r:kn(r.right,s.right,0,e),b:kn(r.bottom,s.bottom,0,i),l:kn(r.left,s.left,0,e)}}function Bv(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=sr(r),o=Math.min(e,i),a=t.borderSkipped,l=n||Ve(r);return{topLeft:kn(!l||a.top||a.left,s.topLeft,0,o),topRight:kn(!l||a.top||a.right,s.topRight,0,o),bottomLeft:kn(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:kn(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Nv(t){const e=_m(t),i=e.right-e.left,n=e.bottom-e.top,r=Lv(t,i/2,n/2),s=Bv(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function ol(t,e,i,n){const r=e===null,s=i===null,a=t&&!(r&&s)&&_m(t,n);return a&&(r||Zi(e,a.left,a.right))&&(s||Zi(i,a.top,a.bottom))}function Fv(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Uv(t,e){t.rect(e.x,e.y,e.w,e.h)}function al(t,e,i={}){const n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,s=(t.x+t.w!==i.x+i.w?e:0)-n,o=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Do extends wi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=Nv(this),a=Fv(o.radius)?vs:Uv;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,al(o,i,s)),e.clip(),a(e,al(s,-i,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,al(s,i)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,i,n){return ol(this,e,i,n)}inXRange(e,i){return ol(this,e,null,i)}inYRange(e,i){return ol(this,null,e,i)}getCenterPoint(e){const{x:i,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(i+r)/2:i,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(Do,"id","bar"),ye(Do,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(Do,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var jv=Object.freeze({__proto__:null,ArcElement:ns,BarElement:Do,LineElement:xn,PointElement:Ro});const Hh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Zf=Hh.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function wm(t){return Hh[t%Hh.length]}function vm(t){return Zf[t%Zf.length]}function Wv(t,e){return t.borderColor=wm(e),t.backgroundColor=vm(e),++e}function zv(t,e){return t.backgroundColor=t.data.map(()=>wm(e++)),e}function Yv(t,e){return t.backgroundColor=t.data.map(()=>vm(e++)),e}function Hv(t){let e=0;return(i,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof Jn?e=zv(i,e):r instanceof ds?e=Yv(i,e):r&&(e=Wv(i,e))}}function ed(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Vv(t){return t&&(t.borderColor||t.backgroundColor)}function qv(){return vt.borderColor!=="rgba(0,0,0,0.1)"||vt.backgroundColor!=="rgba(0,0,0,0.1)"}var $v={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:s}=r,o=ed(n)||Vv(r)||s&&ed(s)||qv();if(!i.forceOverride&&o)return;const a=Hv(t);n.forEach(a)}};function Gv(t,e,i,n,r){const s=r.samples||n;if(s>=i)return t.slice(e,e+i);const o=[],a=(i-2)/(s-2);let l=0;const h=e+i-1;let c=e,u,f,d,g,y;for(o[l++]=t[c],u=0;u<s-2;u++){let _=0,w=0,v;const S=Math.floor((u+1)*a)+1+e,A=Math.min(Math.floor((u+2)*a)+1,i)+e,O=A-S;for(v=S;v<A;v++)_+=t[v].x,w+=t[v].y;_/=O,w/=O;const x=Math.floor(u*a)+1+e,M=Math.min(Math.floor((u+1)*a)+1,i)+e,{x:T,y:B}=t[c];for(d=g=-1,v=x;v<M;v++)g=.5*Math.abs((T-_)*(t[v].y-B)-(T-t[v].x)*(w-B)),g>d&&(d=g,f=t[v],y=v);o[l++]=f,c=y}return o[l++]=t[h],o}function Kv(t,e,i,n){let r=0,s=0,o,a,l,h,c,u,f,d,g,y;const _=[],w=e+i-1,v=t[e].x,A=t[w].x-v;for(o=e;o<e+i;++o){a=t[o],l=(a.x-v)/A*n,h=a.y;const O=l|0;if(O===c)h<g?(g=h,u=o):h>y&&(y=h,f=o),r=(s*r+a.x)/++s;else{const x=o-1;if(!Ge(u)&&!Ge(f)){const M=Math.min(u,f),T=Math.max(u,f);M!==d&&M!==x&&_.push({...t[M],x:r}),T!==d&&T!==x&&_.push({...t[T],x:r})}o>0&&x!==d&&_.push(t[x]),_.push(a),c=O,s=0,g=y=h,u=f=d=o}}return _}function Sm(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function td(t){t.data.datasets.forEach(e=>{Sm(e)})}function Qv(t,e){const i=e.length;let n=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:h}=s.getUserBounds();return l&&(n=Lt(en(e,s.axis,o).lo,0,i-1)),h?r=Lt(en(e,s.axis,a).hi+1,n,i)-n:r=i-n,{start:n,count:r}}var Xv={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled){td(t);return}const n=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),h=o||r.data;if(ts([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||t.options.parsing)return;let{start:u,count:f}=Qv(l,h);const d=i.threshold||4*n;if(f<=d){Sm(r);return}Ge(o)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(i.algorithm){case"lttb":g=Gv(h,u,f,n,i);break;case"min-max":g=Kv(h,u,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}r._decimated=g})},destroy(t){td(t)}};function Jv(t,e,i){const n=t.segments,r=t.points,s=e.points,o=[];for(const a of n){let{start:l,end:h}=a;h=Rc(l,h,r);const c=Vh(i,r[l],r[h],a.loop);if(!e.segments){o.push({source:a,target:c,start:r[l],end:r[h]});continue}const u=nm(e,c);for(const f of u){const d=Vh(i,s[f.start],s[f.end],f.loop),g=im(a,r,d);for(const y of g)o.push({source:y,target:f,start:{[i]:id(c,d,"start",Math.max)},end:{[i]:id(c,d,"end",Math.min)}})}}return o}function Vh(t,e,i,n){if(n)return;let r=e[t],s=i[t];return t==="angle"&&(r=ri(r),s=ri(s)),{property:t,start:r,end:s}}function Zv(t,e){const{x:i=null,y:n=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Rc(o,a,r);const l=r[o],h=r[a];n!==null?(s.push({x:l.x,y:n}),s.push({x:h.x,y:n})):i!==null&&(s.push({x:i,y:l.y}),s.push({x:i,y:h.y}))}),s}function Rc(t,e,i){for(;e>t;e--){const n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function id(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function xm(t,e){let i=[],n=!1;return ct(t)?(n=!0,i=t):i=Zv(t,e),i.length?new xn({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function nd(t){return t&&t.fill!==!1}function eS(t,e,i){let r=t[e].fill;const s=[e];let o;if(!i)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Et(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function tS(t,e,i){const n=sS(t);if(Ve(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Et(r)&&Math.floor(r)===r?iS(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function iS(t,e,i,n){return(t==="-"||t==="+")&&(i=e+i),i===e||i<0||i>=n?!1:i}function nS(t,e){let i=null;return t==="start"?i=e.bottom:t==="end"?i=e.top:Ve(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}function rS(t,e,i){let n;return t==="start"?n=i:t==="end"?n=e.options.reverse?e.min:e.max:Ve(t)?n=t.value:n=e.getBaseValue(),n}function sS(t){const e=t.options,i=e.fill;let n=je(i&&i.target,i);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function oS(t){const{scale:e,index:i,line:n}=t,r=[],s=n.segments,o=n.points,a=aS(e,i);a.push(xm({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const h=s[l];for(let c=h.start;c<=h.end;c++)lS(r,o[c],a)}return new xn({points:r,options:{}})}function aS(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===e)break;s.hidden||i.unshift(s.dataset)}return i}function lS(t,e,i){const n=[];for(let r=0;r<i.length;r++){const s=i[r],{first:o,last:a,point:l}=hS(s,e,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(t.push(l),!a)break}}t.push(...n)}function hS(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const r=n[i],s=t.segments,o=t.points;let a=!1,l=!1;for(let h=0;h<s.length;h++){const c=s[h],u=o[c.start][i],f=o[c.end][i];if(Zi(r,u,f)){a=r===u,l=r===f;break}}return{first:a,last:l,point:n}}class km{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,i,n){const{x:r,y:s,radius:o}=this;return i=i||{start:0,end:ut},e.arc(r,s,o,i.end,i.start,!0),!n.bounds}interpolate(e){const{x:i,y:n,radius:r}=this,s=e.angle;return{x:i+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function cS(t){const{chart:e,fill:i,line:n}=t;if(Et(i))return uS(e,i);if(i==="stack")return oS(t);if(i==="shape")return!0;const r=fS(t);return r instanceof km?r:xm(r,n)}function uS(t,e){const i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}function fS(t){return(t.scale||{}).getPointPositionForValue?pS(t):dS(t)}function dS(t){const{scale:e={},fill:i}=t,n=nS(i,e);if(Et(n)){const r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function pS(t){const{scale:e,fill:i}=t,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,o=rS(i,e,s),a=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new km({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function ll(t,e,i){const n=cS(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,h=a.backgroundColor,{above:c=h,below:u=h}=l||{};n&&r.points.length&&(ya(t,i),gS(t,{line:r,target:n,above:c,below:u,area:i,scale:s,axis:o}),_a(t))}function gS(t,e){const{line:i,target:n,above:r,below:s,area:o,scale:a}=e,l=i._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(rd(t,n,o.top),sd(t,{line:i,target:n,color:r,scale:a,property:l}),t.restore(),t.save(),rd(t,n,o.bottom)),sd(t,{line:i,target:n,color:s,scale:a,property:l}),t.restore()}function rd(t,e,i){const{segments:n,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of n){const{start:l,end:h}=a,c=r[l],u=r[Rc(l,h,r)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,i),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(u.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function sd(t,e){const{line:i,target:n,property:r,color:s,scale:o}=e,a=Jv(i,n,r);for(const{source:l,target:h,start:c,end:u}of a){const{style:{backgroundColor:f=s}={}}=l,d=n!==!0;t.save(),t.fillStyle=f,mS(t,o,d&&Vh(r,c,u)),t.beginPath();const g=!!i.pathSegment(t,l);let y;if(d){g?t.closePath():od(t,n,u,r);const _=!!n.pathSegment(t,h,{move:g,reverse:!0});y=g&&_,y||od(t,n,c,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function mS(t,e,i){const{top:n,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=i||{};s==="x"&&(t.beginPath(),t.rect(o,n,a-o,r-n),t.clip())}function od(t,e,i,n){const r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var bS={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<n;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof xn&&(l={visible:t.isDatasetVisible(o),index:o,fill:tS(a,o,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<n;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=eS(r,o,i.propagate))},beforeDraw(t,e,i){const n=i.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&ll(t.ctx,a,s))}},beforeDatasetsDraw(t,e,i){if(i.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;nd(s)&&ll(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;!nd(n)||i.drawTime!=="beforeDatasetDraw"||ll(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ad=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},yS=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ld extends wi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,n){this.maxWidth=e,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let i=lt(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(n=>e.filter(n,this.chart.data))),e.sort&&(i=i.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=Pt(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ad(n,s);let h,c;i.font=r.string,this.isHorizontal()?(h=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,h=this._fitCols(o,r,a,l)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,i,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],c=r+a;let u=e;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach((g,y)=>{const _=n+i/2+s.measureText(g.text).width;(y===0||h[h.length-1]+_+2*a>o)&&(u+=c,h[h.length-(y>0?0:1)]=0,d+=c,f++),l[y]={left:0,top:d,row:f,width:_,height:r},h[h.length-1]+=_+a}),u}_fitCols(e,i,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.columnSizes=[],c=o-e;let u=a,f=0,d=0,g=0,y=0;return this.legendItems.forEach((_,w)=>{const{itemWidth:v,itemHeight:S}=_S(n,i,s,_,r);w>0&&d+S+2*a>c&&(u+=f+a,h.push({width:f,height:d}),g+=f+a,y++,f=d=0),l[w]={left:g,top:d,col:y,width:v,height:S},f=Math.max(f,v),d+=S+a}),u+=f,h.push({width:f,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:s}}=this,o=Mr(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ht(n,this.left+r,this.right-this.lineWidths[a]);for(const h of i)a!==h.row&&(a=h.row,l=Ht(n,this.left+r,this.right-this.lineWidths[a])),h.top+=this.top+e+r,h.left=o.leftForLtr(o.x(l),h.width),l+=h.width+r}else{let a=0,l=Ht(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const h of i)h.col!==a&&(a=h.col,l=Ht(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),h.top=l,h.left+=this.left+r,h.left=o.leftForLtr(o.x(h.left),h.width),l+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ya(e,this),this._draw(),_a(e)}}_draw(){const{options:e,columnSizes:i,lineWidths:n,ctx:r}=this,{align:s,labels:o}=e,a=vt.color,l=Mr(e.rtl,this.left,this.width),h=Pt(o.font),{padding:c}=o,u=h.size,f=u/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:g,boxHeight:y,itemHeight:_}=ad(o,u),w=function(x,M,T){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const B=je(T.lineWidth,1);if(r.fillStyle=je(T.fillStyle,a),r.lineCap=je(T.lineCap,"butt"),r.lineDashOffset=je(T.lineDashOffset,0),r.lineJoin=je(T.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=je(T.strokeStyle,a),r.setLineDash(je(T.lineDash,[])),o.usePointStyle){const q={radius:y*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:B},$=l.xPlus(x,g/2),k=M+f;Vg(r,q,$,k,o.pointStyleWidth&&g)}else{const q=M+Math.max((u-y)/2,0),$=l.leftForLtr(x,g),k=sr(T.borderRadius);r.beginPath(),Object.values(k).some(Y=>Y!==0)?vs(r,{x:$,y:q,w:g,h:y,radius:k}):r.rect($,q,g,y),r.fill(),B!==0&&r.stroke()}r.restore()},v=function(x,M,T){cr(r,T.text,x,M+_/2,h,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},S=this.isHorizontal(),A=this._computeTitleHeight();S?d={x:Ht(s,this.left+c,this.right-n[0]),y:this.top+c+A,line:0}:d={x:this.left+c,y:Ht(s,this.top+A+c,this.bottom-i[0].height),line:0},Zg(this.ctx,e.textDirection);const O=_+c;this.legendItems.forEach((x,M)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;const T=r.measureText(x.text).width,B=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),q=g+f+T;let $=d.x,k=d.y;l.setWidth(this.width),S?M>0&&$+q+c>this.right&&(k=d.y+=O,d.line++,$=d.x=Ht(s,this.left+c,this.right-n[d.line])):M>0&&k+O>this.bottom&&($=d.x=$+i[d.line].width+c,d.line++,k=d.y=Ht(s,this.top+A+c,this.bottom-i[d.line].height));const Y=l.x($);if(w(Y,k,x),$=j_(B,$+g+f,S?$+q:this.right,e.rtl),v(l.x($),k,x),S)d.x+=q+c;else if(typeof x.text!="string"){const X=h.lineHeight;d.y+=Em(x,X)+c}else d.y+=O}),em(this.ctx,e.textDirection)}drawTitle(){const e=this.options,i=e.title,n=Pt(i.font),r=$t(i.padding);if(!i.display)return;const s=Mr(e.rtl,this.left,this.width),o=this.ctx,a=i.position,l=n.size/2,h=r.top+l;let c,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+h,u=Ht(e.align,u,this.right-f);else{const g=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);c=h+Ht(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const d=Ht(a,u,u+f);o.textAlign=s.textAlign(kc(a)),o.textBaseline="middle",o.strokeStyle=i.color,o.fillStyle=i.color,o.font=n.string,cr(o,i.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,i=Pt(e.font),n=$t(e.padding);return e.display?i.lineHeight+n.height:0}_getLegendItemAt(e,i){let n,r,s;if(Zi(e,this.left,this.right)&&Zi(i,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Zi(e,r.left,r.left+r.width)&&Zi(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const i=this.options;if(!SS(e.type,i))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=yS(r,n);r&&!s&&lt(i.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&lt(i.onHover,[e,n,this],this)}else n&&lt(i.onClick,[e,n,this],this)}}function _S(t,e,i,n,r){const s=wS(n,t,e,i),o=vS(r,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function wS(t,e,i,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+i.size/2+n.measureText(r).width}function vS(t,e,i){let n=t;return typeof e.text!="string"&&(n=Em(e,i)),n}function Em(t,e){const i=t.text?t.text.length:0;return e*i}function SS(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var xS={id:"legend",_element:ld,start(t,e,i){const n=t.legend=new ld({ctx:t.ctx,options:i,chart:t});Vt.configure(t,n,i),Vt.addBox(t,n)},stop(t){Vt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;Vt.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const h=l.controller.getStyle(i?0:void 0),c=$t(h.borderWidth);return{text:e[l.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Dc extends wi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;const r=ct(n.text)?n.text.length:1;this._padding=$t(n.padding);const s=r*Pt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:i,left:n,bottom:r,right:s,options:o}=this,a=o.align;let l=0,h,c,u;return this.isHorizontal()?(c=Ht(a,n,s),u=i+e,h=s-n):(o.position==="left"?(c=n+e,u=Ht(a,r,i),l=ft*-.5):(c=s-e,u=Ht(a,i,r),l=ft*.5),h=r-i),{titleX:c,titleY:u,maxWidth:h,rotation:l}}draw(){const e=this.ctx,i=this.options;if(!i.display)return;const n=Pt(i.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:h}=this._drawArgs(s);cr(e,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:h,textAlign:kc(i.align),textBaseline:"middle",translation:[o,a]})}}function kS(t,e){const i=new Dc({ctx:t.ctx,options:e,chart:t});Vt.configure(t,i,e),Vt.addBox(t,i),t.titleBlock=i}var ES={id:"title",_element:Dc,start(t,e,i){kS(t,i)},stop(t){const e=t.titleBlock;Vt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;Vt.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lo=new WeakMap;var MS={id:"subtitle",start(t,e,i){const n=new Dc({ctx:t.ctx,options:i,chart:t});Vt.configure(t,n,i),Vt.addBox(t,n),lo.set(t,n)},stop(t){Vt.removeBox(t,lo.get(t)),lo.delete(t)},beforeUpdate(t,e,i){const n=lo.get(t);Vt.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rs={average(t){if(!t.length)return!1;let e,i,n=new Set,r=0,s=0;for(e=0,i=t.length;e<i;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),r+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let i=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const h=l.getCenterPoint(),c=Nh(e,h);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function Mi(t,e){return e&&(ct(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Hi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function TS(t,e){const{element:i,datasetIndex:n,index:r}=e,s=t.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function hd(t,e){const i=t.chart.ctx,{body:n,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Pt(e.bodyFont),h=Pt(e.titleFont),c=Pt(e.footerFont),u=s.length,f=r.length,d=n.length,g=$t(e.padding);let y=g.height,_=0,w=n.reduce((A,O)=>A+O.before.length+O.lines.length+O.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,u&&(y+=u*h.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),w){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=d*A+(w-d)*l.lineHeight+(w-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let v=0;const S=function(A){_=Math.max(_,i.measureText(A).width+v)};return i.save(),i.font=h.string,Ze(t.title,S),i.font=l.string,Ze(t.beforeBody.concat(t.afterBody),S),v=e.displayColors?o+2+e.boxPadding:0,Ze(n,A=>{Ze(A.before,S),Ze(A.lines,S),Ze(A.after,S)}),v=0,i.font=c.string,Ze(t.footer,S),i.restore(),_+=g.width,{width:_,height:y}}function AS(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}function OS(t,e,i,n){const{x:r,width:s}=n,o=i.caretSize+i.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function PS(t,e,i,n){const{x:r,width:s}=i,{width:o,chartArea:{left:a,right:l}}=t;let h="center";return n==="center"?h=r<=(a+l)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),OS(h,t,e,i)&&(h="center"),h}function cd(t,e,i){const n=i.yAlign||e.yAlign||AS(t,i);return{xAlign:i.xAlign||e.xAlign||PS(t,e,i,n),yAlign:n}}function CS(t,e){let{x:i,width:n}=t;return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function IS(t,e,i){let{y:n,height:r}=t;return e==="top"?n+=i:e==="bottom"?n-=r+i:n-=r/2,n}function ud(t,e,i,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=i,h=r+s,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:d}=sr(o);let g=CS(e,a);const y=IS(e,l,h);return l==="center"?a==="left"?g+=h:a==="right"&&(g-=h):a==="left"?g-=Math.max(c,f)+r:a==="right"&&(g+=Math.max(u,d)+r),{x:Lt(g,0,n.width-e.width),y:Lt(y,0,n.height-e.height)}}function ho(t,e,i){const n=$t(i.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function fd(t){return Mi([],Hi(t))}function RS(t,e,i){return Rn(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function dd(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Mm={beforeTitle:Ui,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:Ui,beforeBody:Ui,beforeLabel:Ui,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return Ge(i)||(e+=i),e},labelColor(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Ui,afterBody:Ui,beforeFooter:Ui,footer:Ui,afterFooter:Ui};function Qt(t,e,i,n){const r=t[e].call(i,n);return typeof r>"u"?Mm[e].call(i,n):r}class qh extends wi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&i.options.animation&&n.animations,s=new rm(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=RS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:n}=i,r=Qt(n,"beforeTitle",this,e),s=Qt(n,"title",this,e),o=Qt(n,"afterTitle",this,e);let a=[];return a=Mi(a,Hi(r)),a=Mi(a,Hi(s)),a=Mi(a,Hi(o)),a}getBeforeBody(e,i){return fd(Qt(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:n}=i,r=[];return Ze(e,s=>{const o={before:[],lines:[],after:[]},a=dd(n,s);Mi(o.before,Hi(Qt(a,"beforeLabel",this,s))),Mi(o.lines,Qt(a,"label",this,s)),Mi(o.after,Hi(Qt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,i){return fd(Qt(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:n}=i,r=Qt(n,"beforeFooter",this,e),s=Qt(n,"footer",this,e),o=Qt(n,"afterFooter",this,e);let a=[];return a=Mi(a,Hi(r)),a=Mi(a,Hi(s)),a=Mi(a,Hi(o)),a}_createItems(e){const i=this._active,n=this.chart.data,r=[],s=[],o=[];let a=[],l,h;for(l=0,h=i.length;l<h;++l)a.push(TS(this.chart,i[l]));return e.filter&&(a=a.filter((c,u,f)=>e.filter(c,u,f,n))),e.itemSort&&(a=a.sort((c,u)=>e.itemSort(c,u,n))),Ze(a,c=>{const u=dd(e.callbacks,c);r.push(Qt(u,"labelColor",this,c)),s.push(Qt(u,"labelPointStyle",this,c)),o.push(Qt(u,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,i){const n=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=rs[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=hd(this,n),h=Object.assign({},a,l),c=cd(this.chart,n,h),u=ud(n,h,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,n,r){const s=this.getCaretPosition(e,n,r);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,n){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:h,bottomLeft:c,bottomRight:u}=sr(a),{x:f,y:d}=e,{width:g,height:y}=i;let _,w,v,S,A,O;return s==="center"?(A=d+y/2,r==="left"?(_=f,w=_-o,S=A+o,O=A-o):(_=f+g,w=_+o,S=A-o,O=A+o),v=_):(r==="left"?w=f+Math.max(l,c)+o:r==="right"?w=f+g-Math.max(h,u)-o:w=this.caretX,s==="top"?(S=d,A=S-o,_=w-o,v=w+o):(S=d+y,A=S+o,_=w+o,v=w-o),O=S),{x1:_,x2:w,x3:v,y1:S,y2:A,y3:O}}drawTitle(e,i,n){const r=this.title,s=r.length;let o,a,l;if(s){const h=Mr(n.rtl,this.x,this.width);for(e.x=ho(this,n.titleAlign,n),i.textAlign=h.textAlign(n.titleAlign),i.textBaseline="middle",o=Pt(n.titleFont),a=n.titleSpacing,i.fillStyle=n.titleColor,i.font=o.string,l=0;l<s;++l)i.fillText(r[l],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,i,n,r,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:h}=s,c=Pt(s.bodyFont),u=ho(this,"left",s),f=r.x(u),d=l<c.lineHeight?(c.lineHeight-l)/2:0,g=i.y+d;if(s.usePointStyle){const y={radius:Math.min(h,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=r.leftForLtr(f,h)+h/2,w=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Uh(e,y,_,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Uh(e,y,_,w)}else{e.lineWidth=Ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,h),_=r.leftForLtr(r.xPlus(f,1),h-2),w=sr(o.borderRadius);Object.values(w).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,vs(e,{x:y,y:g,w:h,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),vs(e,{x:_,y:g+1,w:h-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,h,l),e.strokeRect(y,g,h,l),e.fillStyle=o.backgroundColor,e.fillRect(_,g+1,h-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,i,n){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:h,boxPadding:c}=n,u=Pt(n.bodyFont);let f=u.lineHeight,d=0;const g=Mr(n.rtl,this.x,this.width),y=function(T){i.fillText(T,g.x(e.x+d),e.y+f/2),e.y+=f+s},_=g.textAlign(o);let w,v,S,A,O,x,M;for(i.textAlign=o,i.textBaseline="middle",i.font=u.string,e.x=ho(this,_,n),i.fillStyle=n.bodyColor,Ze(this.beforeBody,y),d=a&&_!=="right"?o==="center"?h/2+c:h+2+c:0,A=0,x=r.length;A<x;++A){for(w=r[A],v=this.labelTextColors[A],i.fillStyle=v,Ze(w.before,y),S=w.lines,a&&S.length&&(this._drawColorBox(i,e,A,g,n),f=Math.max(u.lineHeight,l)),O=0,M=S.length;O<M;++O)y(S[O]),f=u.lineHeight;Ze(w.after,y)}d=0,f=u.lineHeight,Ze(this.afterBody,y),e.y-=s}drawFooter(e,i,n){const r=this.footer,s=r.length;let o,a;if(s){const l=Mr(n.rtl,this.x,this.width);for(e.x=ho(this,n.footerAlign,n),e.y+=n.footerMarginTop,i.textAlign=l.textAlign(n.footerAlign),i.textBaseline="middle",o=Pt(n.footerFont),i.fillStyle=n.footerColor,i.font=o.string,a=0;a<s;++a)i.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,i,n,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:h,height:c}=n,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:g}=sr(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(a+u,l),o==="top"&&this.drawCaret(e,i,n,r),i.lineTo(a+h-f,l),i.quadraticCurveTo(a+h,l,a+h,l+f),o==="center"&&s==="right"&&this.drawCaret(e,i,n,r),i.lineTo(a+h,l+c-g),i.quadraticCurveTo(a+h,l+c,a+h-g,l+c),o==="bottom"&&this.drawCaret(e,i,n,r),i.lineTo(a+d,l+c),i.quadraticCurveTo(a,l+c,a,l+c-d),o==="center"&&s==="left"&&this.drawCaret(e,i,n,r),i.lineTo(a,l+u),i.quadraticCurveTo(a,l,a+u,l),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const o=rs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=hd(this,e),l=Object.assign({},o,this._size),h=cd(i,e,l),c=ud(e,l,h,i);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=$t(i.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,i),Zg(e,i.textDirection),s.y+=o.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),em(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const n=this._active,r=e.map(({datasetIndex:a,index:l})=>{const h=this.chart.getDatasetMeta(a);if(!h)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:h.data[l],index:l}}),s=!Ko(n,r),o=this._positionChanged(r,i);(s||o)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,i,n),a=this._positionChanged(o,e),l=i||!Ko(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),l}_getActiveElements(e,i,n,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return i.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,i){const{caretX:n,caretY:r,options:s}=this,o=rs[s.position].call(this,e,i);return o!==!1&&(n!==o.x||r!==o.y)}}ye(qh,"positioners",rs);var DS={id:"tooltip",_element:qh,positioners:rs,afterInit(t,e,i){i&&(t.tooltip=new qh({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},LS=Object.freeze({__proto__:null,Colors:$v,Decimation:Xv,Filler:bS,Legend:xS,SubTitle:MS,Title:ES,Tooltip:DS});const BS=(t,e,i,n)=>(typeof e=="string"?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function NS(t,e,i,n){const r=t.indexOf(e);if(r===-1)return BS(t,e,i,n);const s=t.lastIndexOf(e);return r!==s?i:r}const FS=(t,e)=>t===null?null:Lt(Math.round(t),0,e);function pd(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class $h extends gr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:r,label:s}of i)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Ge(e))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===e?i:NS(n,e,je(i,e),this._addedLabels),FS(i,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),i||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,i=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=e===0&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=i;o++)r.push({value:o});return r}getLabelForValue(e){return pd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye($h,"id","category"),ye($h,"defaults",{ticks:{callback:pd}});function US(t,e){const i=[],{bounds:r,step:s,min:o,max:a,precision:l,count:h,maxTicks:c,maxDigits:u,includeBounds:f}=t,d=s||1,g=c-1,{min:y,max:_}=e,w=!Ge(o),v=!Ge(a),S=!Ge(h),A=(_-y)/(u+1);let O=hf((_-y)/g/d)*d,x,M,T,B;if(O<1e-14&&!w&&!v)return[{value:y},{value:_}];B=Math.ceil(_/O)-Math.floor(y/O),B>g&&(O=hf(B*O/g/d)*d),Ge(l)||(x=Math.pow(10,l),O=Math.ceil(O*x)/x),r==="ticks"?(M=Math.floor(y/O)*O,T=Math.ceil(_/O)*O):(M=y,T=_),w&&v&&s&&R_((a-o)/s,O/1e3)?(B=Math.round(Math.min((a-o)/O,c)),O=(a-o)/B,M=o,T=a):S?(M=w?o:M,T=v?a:T,B=h-1,O=(T-M)/B):(B=(T-M)/O,cs(B,Math.round(B),O/1e3)?B=Math.round(B):B=Math.ceil(B));const q=Math.max(cf(O),cf(M));x=Math.pow(10,Ge(l)?q:l),M=Math.round(M*x)/x,T=Math.round(T*x)/x;let $=0;for(w&&(f&&M!==o?(i.push({value:o}),M<o&&$++,cs(Math.round((M+$*O)*x)/x,o,gd(o,A,t))&&$++):M<o&&$++);$<B;++$){const k=Math.round((M+$*O)*x)/x;if(v&&k>a)break;i.push({value:k})}return v&&f&&T!==a?i.length&&cs(i[i.length-1].value,a,gd(a,A,t))?i[i.length-1].value=a:i.push({value:a}):(!v||T===a)&&i.push({value:T}),i}function gd(t,e,{horizontal:i,minRotation:n}){const r=mi(n),s=(i?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class ia extends gr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return Ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=i?r:l,a=l=>s=n?s:l;if(e){const l=Di(r),h=Di(s);l<0&&h<0?a(0):l>0&&h>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,i=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},s=this._range||this,o=US(r,s);return e.bounds==="ticks"&&Bg(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-i)/Math.max(e.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(e){return Ns(e,this.chart.options.locale,this.options.ticks.format)}}class Gh extends ia{determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=Et(e)?e:0,this.max=Et(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),i=e?this.width:this.height,n=mi(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(Gh,"id","linear"),ye(Gh,"defaults",{ticks:{callback:ba.formatters.numeric}});const xs=t=>Math.floor(Sn(t)),Hn=(t,e)=>Math.pow(10,xs(t)+e);function md(t){return t/Math.pow(10,xs(t))===1}function bd(t,e,i){const n=Math.pow(10,i),r=Math.floor(t/n);return Math.ceil(e/n)-r}function jS(t,e){const i=e-t;let n=xs(i);for(;bd(t,e,n)>10;)n++;for(;bd(t,e,n)<10;)n--;return Math.min(n,xs(t))}function WS(t,{min:e,max:i}){e=ii(t.min,e);const n=[],r=xs(e);let s=jS(e,i),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,h=Math.round((e-l)*o)/o,c=Math.floor((e-l)/a/10)*a*10;let u=Math.floor((h-c)/Math.pow(10,s)),f=ii(t.min,Math.round((l+c+u*Math.pow(10,s))*o)/o);for(;f<i;)n.push({value:f,major:md(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),f=Math.round((l+c+u*Math.pow(10,s))*o)/o;const d=ii(t.max,f);return n.push({value:d,major:md(d),significand:u}),n}class Kh extends gr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,i){const n=ia.prototype.parse.apply(this,[e,i]);if(n===0){this._zero=!0;return}return Et(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=Et(e)?Math.max(0,e):null,this.max=Et(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Et(this._userMin)&&(this.min=e===Hn(this.min,0)?Hn(this.min,-1):Hn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let n=this.min,r=this.max;const s=a=>n=e?n:a,o=a=>r=i?r:a;n===r&&(n<=0?(s(1),o(10)):(s(Hn(n,-1)),o(Hn(r,1)))),n<=0&&s(Hn(r,-1)),r<=0&&o(Hn(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,i={min:this._userMin,max:this._userMax},n=WS(i,this);return e.bounds==="ticks"&&Bg(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Ns(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Sn(e),this._valueRange=Sn(this.max)-Sn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Sn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const i=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+i*this._valueRange)}}ye(Kh,"id","logarithmic"),ye(Kh,"defaults",{ticks:{callback:ba.formatters.logarithmic,major:{enabled:!0}}});function Qh(t){const e=t.ticks;if(e.display&&t.display){const i=$t(e.backdropPadding);return je(e.font&&e.font.size,vt.font.size)+i.height}return 0}function zS(t,e,i){return i=ct(i)?i:[i],{w:Q_(t,e.string,i),h:i.length*e.lineHeight}}function yd(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function YS(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ft/s:0;for(let l=0;l<s;l++){const h=o.setContext(t.getPointLabelContext(l));r[l]=h.padding;const c=t.getPointPosition(l,t.drawingArea+r[l],a),u=Pt(h.font),f=zS(t.ctx,u,t._pointLabels[l]);n[l]=f;const d=ri(t.getIndexAngle(l)+a),g=Math.round(Sc(d)),y=yd(g,c.x,f.w,0,180),_=yd(g,c.y,f.h,90,270);HS(i,e,d,y,_)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=$S(t,n,r)}function HS(t,e,i,n,r){const s=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function VS(t,e,i){const n=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=i,l=t.getPointPosition(e,n+r+o,s),h=Math.round(Sc(ri(l.angle+Tt))),c=QS(l.y,a.h,h),u=GS(h),f=KS(l.x,a.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:f,top:c,right:f+a.w,bottom:c+a.h}}function qS(t,e){if(!e)return!0;const{left:i,top:n,right:r,bottom:s}=t;return!(tn({x:i,y:n},e)||tn({x:i,y:s},e)||tn({x:r,y:n},e)||tn({x:r,y:s},e))}function $S(t,e,i){const n=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Qh(s)/2,additionalAngle:o?ft/r:0};let h;for(let c=0;c<r;c++){l.padding=i[c],l.size=e[c];const u=VS(t,c,l);n.push(u),a==="auto"&&(u.visible=qS(u,h),u.visible&&(h=u))}return n}function GS(t){return t===0||t===180?"center":t<180?"left":"right"}function KS(t,e,i){return i==="right"?t-=e:i==="center"&&(t-=e/2),t}function QS(t,e,i){return i===90||i===270?t-=e/2:(i>270||i<90)&&(t-=e),t}function XS(t,e,i){const{left:n,top:r,right:s,bottom:o}=i,{backdropColor:a}=e;if(!Ge(a)){const l=sr(e.borderRadius),h=$t(e.backdropPadding);t.fillStyle=a;const c=n-h.left,u=r-h.top,f=s-n+h.width,d=o-r+h.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),vs(t,{x:c,y:u,w:f,h:d,radius:l}),t.fill()):t.fillRect(c,u,f,d)}}function JS(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(t.getPointLabelContext(r));XS(i,o,s);const a=Pt(o.font),{x:l,y:h,textAlign:c}=s;cr(i,t._pointLabels[r],l,h+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function Tm(t,e,i,n){const{ctx:r}=t;if(i)r.arc(t.xCenter,t.yCenter,e,0,ut);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function ZS(t,e,i,n,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!n||!a||!l||i<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Tm(t,i,o,n),s.closePath(),s.stroke(),s.restore())}function ex(t,e,i){return Rn(t,{label:i,index:e,type:"pointLabel"})}class ss extends ia{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=$t(Qh(this.options)/2),i=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+i/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!1);this.min=Et(e)&&!isNaN(e)?e:0,this.max=Et(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qh(this.options))}generateTickLabels(e){ia.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((i,n)=>{const r=lt(this.options.pointLabels.callback,[i,n],this);return r||r===0?r:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?YS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,i,n,r){this.xCenter+=Math.floor((e-i)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,i,n,r))}getIndexAngle(e){const i=ut/(this._pointLabels.length||1),n=this.options.startAngle||0;return ri(e*i+mi(n))}getDistanceFromCenterForValue(e){if(Ge(e))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*i:(e-this.min)*i}getValueForDistanceFromCenter(e){if(Ge(e))return NaN;const i=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(e){const i=this._pointLabels||[];if(e>=0&&e<i.length){const n=i[e];return ex(this.getContext(),e,n)}}getPointPosition(e,i,n=0){const r=this.getIndexAngle(e)-Tt+n;return{x:Math.cos(r)*i+this.xCenter,y:Math.sin(r)*i+this.yCenter,angle:r}}getPointPositionForValue(e,i){return this.getPointPosition(e,this.getDistanceFromCenterForValue(i))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:i,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:i,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:i}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Tm(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,i=this.options,{angleLines:n,grid:r,border:s}=i,o=this._pointLabels.length;let a,l,h;if(i.pointLabels.display&&JS(this,o),r.display&&this.ticks.forEach((c,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(u),d=r.setContext(f),g=s.setContext(f);ZS(this,d,l,o,g)}}),n.display){for(e.save(),a=o-1;a>=0;a--){const c=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=c;!f||!u||(e.lineWidth=f,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),h=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;const h=n.setContext(this.getContext(l)),c=Pt(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),h.showLabelBackdrop){e.font=c.string,o=e.measureText(a.label).width,e.fillStyle=h.backdropColor;const u=$t(h.backdropPadding);e.fillRect(-o/2-u.left,-s-c.size/2-u.top,o+u.width,c.size+u.height)}cr(e,a.label,0,-s,c,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(ss,"id","radialLinear"),ye(ss,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ba.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(ss,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(ss,"descriptors",{angleLines:{_fallback:"grid"}});const va={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zt=Object.keys(va);function _d(t,e){return t-e}function wd(t,e){if(Ge(e))return null;const i=t._adapter,{parser:n,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Et(o)||(o=typeof n=="string"?i.parse(o,n):i.parse(o)),o===null?null:(r&&(o=r==="week"&&(Cr(s)||s===!0)?i.startOf(o,"isoWeek",s):i.startOf(o,r)),+o)}function vd(t,e,i,n){const r=Zt.length;for(let s=Zt.indexOf(t);s<r-1;++s){const o=va[Zt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((i-e)/(a*o.size))<=n)return Zt[s]}return Zt[r-1]}function tx(t,e,i,n,r){for(let s=Zt.length-1;s>=Zt.indexOf(i);s--){const o=Zt[s];if(va[o].common&&t._adapter.diff(r,n,o)>=e-1)return o}return Zt[i?Zt.indexOf(i):0]}function ix(t){for(let e=Zt.indexOf(t)+1,i=Zt.length;e<i;++e)if(va[Zt[e]].common)return Zt[e]}function Sd(t,e,i){if(!i)t[e]=!0;else if(i.length){const{lo:n,hi:r}=xc(i,e),s=i[n]>=e?i[n]:i[r];t[s]=!0}}function nx(t,e,i,n){const r=t._adapter,s=+r.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,n))l=i[a],l>=0&&(e[l].major=!0);return e}function xd(t,e,i){const n=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,n.push({value:a,major:!1});return s===0||!i?n:nx(t,n,r,i)}class ks extends gr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const n=e.time||(e.time={}),r=this._adapter=new am._date(e.adapters.date);r.init(i),hs(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:wd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(h){!o&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!a&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Et(r)&&!isNaN(r)?r:+i.startOf(Date.now(),n),s=Et(s)&&!isNaN(s)?s:+i.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],n=e[e.length-1]),{min:i,max:n}}buildTicks(){const e=this.options,i=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=N_(r,s,o);return this._unit=i.unit||(n.autoSkip?vd(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):tx(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:ix(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),xd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,n=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?i=1-r:i=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;i=Lt(i,0,o),n=Lt(n,0,o),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const e=this._adapter,i=this.min,n=this.max,r=this.options,s=r.time,o=s.unit||vd(s.minUnit,i,n,this._getLabelCapacity(i)),a=je(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,h=Cr(l)||l===!0,c={};let u=i,f,d;if(h&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,h?"day":o),e.diff(n,i,o)>1e5*a)throw new Error(i+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=u,d=0;f<n;f=+e.add(f,a,o),d++)Sd(c,f,g);return(f===n||r.bounds==="ticks"||d===1)&&Sd(c,f,g),Object.keys(c).sort(_d).map(y=>+y)}getLabelForValue(e){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(e,n.tooltipFormat):i.format(e,n.displayFormats.datetime)}format(e,i){const r=this.options.time.displayFormats,s=this._unit,o=i||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,i,n,r){const s=this.options,o=s.ticks.callback;if(o)return lt(o,[e,i,n],this);const a=s.time.displayFormats,l=this._unit,h=this._majorUnit,c=l&&a[l],u=h&&a[h],f=n[i],d=h&&u&&f&&f.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let i,n,r;for(i=0,n=e.length;i<n;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(e){const i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,n=this.ctx.measureText(e).width,r=mi(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(e){const i=this.options.time,n=i.displayFormats,r=n[i.unit]||n.millisecond,s=this._tickFormatFunction(e,0,xd(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],i,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,n=r.length;i<n;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,n;if(e.length)return e;const r=this.getLabels();for(i=0,n=r.length;i<n;++i)e.push(wd(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ug(e.sort(_d))}}ye(ks,"id","time"),ye(ks,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function co(t,e,i){let n=0,r=t.length-1,s,o,a,l;i?(e>=t[n].pos&&e<=t[r].pos&&({lo:n,hi:r}=en(t,"pos",e)),{pos:s,time:a}=t[n],{pos:o,time:l}=t[r]):(e>=t[n].time&&e<=t[r].time&&({lo:n,hi:r}=en(t,"time",e)),{time:s,pos:a}=t[n],{time:o,pos:l}=t[r]);const h=o-s;return h?a+(l-a)*(e-s)/h:a}class Xh extends ks{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=co(i,this.min),this._tableRange=co(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:i,max:n}=this,r=[],s=[];let o,a,l,h,c;for(o=0,a=e.length;o<a;++o)h=e[o],h>=i&&h<=n&&r.push(h);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],h=r[o],Math.round((c+l)/2)!==h&&s.push({time:h,pos:o/(a-1)});return s}_generate(){const e=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?e=this.normalize(i.concat(n)):e=i.length?i:n,e=this._cache.all=e,e}getDecimalForValue(e){return(co(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return co(this._table,n*this._tableRange+this._minPos,!0)}}ye(Xh,"id","timeseries"),ye(Xh,"defaults",ks.defaults);var rx=Object.freeze({__proto__:null,CategoryScale:$h,LinearScale:Gh,LogarithmicScale:Kh,RadialLinearScale:ss,TimeScale:ks,TimeSeriesScale:Xh});const sx=[u1,jv,LS,rx];Qi.register(...sx);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Am;function Te(){return Am.apply(null,arguments)}function ox(t){Am=t}function vi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ar(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lc(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Qe(t,e))return!1;return!0}function Xt(t){return t===void 0}function cn(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Us(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Om(t,e){var i=[],n,r=t.length;for(n=0;n<r;++n)i.push(e(t[n],n));return i}function En(t,e){for(var i in e)Qe(e,i)&&(t[i]=e[i]);return Qe(e,"toString")&&(t.toString=e.toString),Qe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Bi(t,e,i,n){return Jm(t,e,i,n,!0).utc()}function ax(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ze(t){return t._pf==null&&(t._pf=ax()),t._pf}var Jh;Array.prototype.some?Jh=Array.prototype.some:Jh=function(t){var e=Object(this),i=e.length>>>0,n;for(n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function Bc(t){var e=null,i=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ze(t),i=Jh.call(e.parsedDateParts,function(r){return r!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function Sa(t){var e=Bi(NaN);return t!=null?En(ze(e),t):ze(e).userInvalidated=!0,e}var kd=Te.momentProperties=[],hl=!1;function Nc(t,e){var i,n,r,s=kd.length;if(Xt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Xt(e._i)||(t._i=e._i),Xt(e._f)||(t._f=e._f),Xt(e._l)||(t._l=e._l),Xt(e._strict)||(t._strict=e._strict),Xt(e._tzm)||(t._tzm=e._tzm),Xt(e._isUTC)||(t._isUTC=e._isUTC),Xt(e._offset)||(t._offset=e._offset),Xt(e._pf)||(t._pf=ze(e)),Xt(e._locale)||(t._locale=e._locale),s>0)for(i=0;i<s;i++)n=kd[i],r=e[n],Xt(r)||(t[n]=r);return t}function js(t){Nc(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),hl===!1&&(hl=!0,Te.updateOffset(this),hl=!1)}function Si(t){return t instanceof js||t!=null&&t._isAMomentObject!=null}function Pm(t){Te.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function hi(t,e){var i=!0;return En(function(){if(Te.deprecationHandler!=null&&Te.deprecationHandler(null,t),i){var n=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])Qe(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];n.push(r)}Pm(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),i=!1}return e.apply(this,arguments)},e)}var Ed={};function Cm(t,e){Te.deprecationHandler!=null&&Te.deprecationHandler(t,e),Ed[t]||(Pm(e),Ed[t]=!0)}Te.suppressDeprecationWarnings=!1;Te.deprecationHandler=null;function Ni(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function lx(t){var e,i;for(i in t)Qe(t,i)&&(e=t[i],Ni(e)?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Zh(t,e){var i=En({},t),n;for(n in e)Qe(e,n)&&(ar(t[n])&&ar(e[n])?(i[n]={},En(i[n],t[n]),En(i[n],e[n])):e[n]!=null?i[n]=e[n]:delete i[n]);for(n in t)Qe(t,n)&&!Qe(e,n)&&ar(t[n])&&(i[n]=En({},i[n]));return i}function Fc(t){t!=null&&this.set(t)}var ec;Object.keys?ec=Object.keys:ec=function(t){var e,i=[];for(e in t)Qe(t,e)&&i.push(e);return i};var hx={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function cx(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return Ni(n)?n.call(e,i):n}function Li(t,e,i){var n=""+Math.abs(t),r=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var Uc=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,uo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,cl={},Tr={};function De(t,e,i,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),t&&(Tr[t]=r),e&&(Tr[e[0]]=function(){return Li(r.apply(this,arguments),e[1],e[2])}),i&&(Tr[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function ux(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function fx(t){var e=t.match(Uc),i,n;for(i=0,n=e.length;i<n;i++)Tr[e[i]]?e[i]=Tr[e[i]]:e[i]=ux(e[i]);return function(r){var s="",o;for(o=0;o<n;o++)s+=Ni(e[o])?e[o].call(r,t):e[o];return s}}function Lo(t,e){return t.isValid()?(e=Im(e,t.localeData()),cl[e]=cl[e]||fx(e),cl[e](t)):t.localeData().invalidDate()}function Im(t,e){var i=5;function n(r){return e.longDateFormat(r)||r}for(uo.lastIndex=0;i>=0&&uo.test(t);)t=t.replace(uo,n),uo.lastIndex=0,i-=1;return t}var dx={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function px(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(Uc).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var gx="Invalid date";function mx(){return this._invalidDate}var bx="%d",yx=/\d{1,2}/;function _x(t){return this._ordinal.replace("%d",t)}var vx={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Sx(t,e,i,n){var r=this._relativeTime[i];return Ni(r)?r(t,e,i,n):r.replace(/%d/i,t)}function xx(t,e){var i=this._relativeTime[t>0?"future":"past"];return Ni(i)?i(e):i.replace(/%s/i,e)}var Md={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ci(t){return typeof t=="string"?Md[t]||Md[t.toLowerCase()]:void 0}function jc(t){var e={},i,n;for(n in t)Qe(t,n)&&(i=ci(n),i&&(e[i]=t[n]));return e}var kx={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ex(t){var e=[],i;for(i in t)Qe(t,i)&&e.push({unit:i,priority:kx[i]});return e.sort(function(n,r){return n.priority-r.priority}),e}var Rm=/\d/,si=/\d\d/,Dm=/\d{3}/,Wc=/\d{4}/,xa=/[+-]?\d{6}/,pt=/\d\d?/,Lm=/\d\d\d\d?/,Bm=/\d\d\d\d\d\d?/,ka=/\d{1,3}/,zc=/\d{1,4}/,Ea=/[+-]?\d{1,6}/,Nr=/\d+/,Ma=/[+-]?\d+/,Mx=/Z|[+-]\d\d:?\d\d/gi,Ta=/Z|[+-]\d\d(?::?\d\d)?/gi,Tx=/[+-]?\d+(\.\d{1,3})?/,Ws=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Fr=/^[1-9]\d?/,Yc=/^([1-9]\d|\d)/,na;na={};function Pe(t,e,i){na[t]=Ni(e)?e:function(n,r){return n&&i?i:e}}function Ax(t,e){return Qe(na,t)?na[t](e._strict,e._locale):new RegExp(Ox(t))}function Ox(t){return sn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,i,n,r,s){return i||n||r||s}))}function sn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function li(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function qe(t){var e=+t,i=0;return e!==0&&isFinite(e)&&(i=li(e)),i}var tc={};function st(t,e){var i,n=e,r;for(typeof t=="string"&&(t=[t]),cn(e)&&(n=function(s,o){o[e]=qe(s)}),r=t.length,i=0;i<r;i++)tc[t[i]]=n}function zs(t,e){st(t,function(i,n,r,s){r._w=r._w||{},e(i,r._w,r,s)})}function Px(t,e,i){e!=null&&Qe(tc,t)&&tc[t](e,i._a,i,t)}function Aa(t){return t%4===0&&t%100!==0||t%400===0}var qt=0,nn=1,Ai=2,Ct=3,bi=4,rn=5,Zn=6,Cx=7,Ix=8;De("Y",0,0,function(){var t=this.year();return t<=9999?Li(t,4):"+"+t});De(0,["YY",2],0,function(){return this.year()%100});De(0,["YYYY",4],0,"year");De(0,["YYYYY",5],0,"year");De(0,["YYYYYY",6,!0],0,"year");Pe("Y",Ma);Pe("YY",pt,si);Pe("YYYY",zc,Wc);Pe("YYYYY",Ea,xa);Pe("YYYYYY",Ea,xa);st(["YYYYY","YYYYYY"],qt);st("YYYY",function(t,e){e[qt]=t.length===2?Te.parseTwoDigitYear(t):qe(t)});st("YY",function(t,e){e[qt]=Te.parseTwoDigitYear(t)});st("Y",function(t,e){e[qt]=parseInt(t,10)});function ps(t){return Aa(t)?366:365}Te.parseTwoDigitYear=function(t){return qe(t)+(qe(t)>68?1900:2e3)};var Nm=Ur("FullYear",!0);function Rx(){return Aa(this.year())}function Ur(t,e){return function(i){return i!=null?(Fm(this,t,i),Te.updateOffset(this,e),this):Es(this,t)}}function Es(t,e){if(!t.isValid())return NaN;var i=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return n?i.getUTCSeconds():i.getSeconds();case"Minutes":return n?i.getUTCMinutes():i.getMinutes();case"Hours":return n?i.getUTCHours():i.getHours();case"Date":return n?i.getUTCDate():i.getDate();case"Day":return n?i.getUTCDay():i.getDay();case"Month":return n?i.getUTCMonth():i.getMonth();case"FullYear":return n?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Fm(t,e,i){var n,r,s,o,a;if(!(!t.isValid()||isNaN(i))){switch(n=t._d,r=t._isUTC,e){case"Milliseconds":return void(r?n.setUTCMilliseconds(i):n.setMilliseconds(i));case"Seconds":return void(r?n.setUTCSeconds(i):n.setSeconds(i));case"Minutes":return void(r?n.setUTCMinutes(i):n.setMinutes(i));case"Hours":return void(r?n.setUTCHours(i):n.setHours(i));case"Date":return void(r?n.setUTCDate(i):n.setDate(i));case"FullYear":break;default:return}s=i,o=t.month(),a=t.date(),a=a===29&&o===1&&!Aa(s)?28:a,r?n.setUTCFullYear(s,o,a):n.setFullYear(s,o,a)}}function Dx(t){return t=ci(t),Ni(this[t])?this[t]():this}function Lx(t,e){if(typeof t=="object"){t=jc(t);var i=Ex(t),n,r=i.length;for(n=0;n<r;n++)this[i[n].unit](t[i[n].unit])}else if(t=ci(t),Ni(this[t]))return this[t](e);return this}function Bx(t,e){return(t%e+e)%e}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Hc(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=Bx(e,12);return t+=(e-i)/12,i===1?Aa(t)?29:28:31-i%7%2}De("M",["MM",2],"Mo",function(){return this.month()+1});De("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});De("MMMM",0,0,function(t){return this.localeData().months(this,t)});Pe("M",pt,Fr);Pe("MM",pt,si);Pe("MMM",function(t,e){return e.monthsShortRegex(t)});Pe("MMMM",function(t,e){return e.monthsRegex(t)});st(["M","MM"],function(t,e){e[nn]=qe(t)-1});st(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);r!=null?e[nn]=r:ze(i).invalidMonth=t});var Nx="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Um="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jm=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fx=Ws,Ux=Ws;function jx(t,e){return t?vi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||jm).test(e)?"format":"standalone"][t.month()]:vi(this._months)?this._months:this._months.standalone}function Wx(t,e){return t?vi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[jm.test(e)?"format":"standalone"][t.month()]:vi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function zx(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Bi([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?e==="MMM"?(r=Mt.call(this._shortMonthsParse,o),r!==-1?r:null):(r=Mt.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=Mt.call(this._shortMonthsParse,o),r!==-1?r:(r=Mt.call(this._longMonthsParse,o),r!==-1?r:null)):(r=Mt.call(this._longMonthsParse,o),r!==-1?r:(r=Mt.call(this._shortMonthsParse,o),r!==-1?r:null))}function Yx(t,e,i){var n,r,s;if(this._monthsParseExact)return zx.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=Bi([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!i&&!this._monthsParse[n]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(i&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function Wm(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=qe(e);else if(e=t.localeData().monthsParse(e),!cn(e))return t}var i=e,n=t.date();return n=n<29?n:Math.min(n,Hc(t.year(),i)),t._isUTC?t._d.setUTCMonth(i,n):t._d.setMonth(i,n),t}function zm(t){return t!=null?(Wm(this,t),Te.updateOffset(this,!0),this):Es(this,"Month")}function Hx(){return Hc(this.year(),this.month())}function Vx(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||Ym.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Qe(this,"_monthsShortRegex")||(this._monthsShortRegex=Fx),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function qx(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||Ym.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Qe(this,"_monthsRegex")||(this._monthsRegex=Ux),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Ym(){function t(l,h){return h.length-l.length}var e=[],i=[],n=[],r,s,o,a;for(r=0;r<12;r++)s=Bi([2e3,r]),o=sn(this.monthsShort(s,"")),a=sn(this.months(s,"")),e.push(o),i.push(a),n.push(a),n.push(o);e.sort(t),i.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $x(t,e,i,n,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}function Ms(t){var e,i;return t<100&&t>=0?(i=Array.prototype.slice.call(arguments),i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function ra(t,e,i){var n=7+e-i,r=(7+Ms(t,0,n).getUTCDay()-e)%7;return-r+n-1}function Hm(t,e,i,n,r){var s=(7+i-n)%7,o=ra(t,n,r),a=1+7*(e-1)+s+o,l,h;return a<=0?(l=t-1,h=ps(l)+a):a>ps(t)?(l=t+1,h=a-ps(t)):(l=t,h=a),{year:l,dayOfYear:h}}function Ts(t,e,i){var n=ra(t.year(),e,i),r=Math.floor((t.dayOfYear()-n-1)/7)+1,s,o;return r<1?(o=t.year()-1,s=r+on(o,e,i)):r>on(t.year(),e,i)?(s=r-on(t.year(),e,i),o=t.year()+1):(o=t.year(),s=r),{week:s,year:o}}function on(t,e,i){var n=ra(t,e,i),r=ra(t+1,e,i);return(ps(t)-n+r)/7}De("w",["ww",2],"wo","week");De("W",["WW",2],"Wo","isoWeek");Pe("w",pt,Fr);Pe("ww",pt,si);Pe("W",pt,Fr);Pe("WW",pt,si);zs(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=qe(t)});function Gx(t){return Ts(t,this._week.dow,this._week.doy).week}var Kx={dow:0,doy:6};function Qx(){return this._week.dow}function Xx(){return this._week.doy}function Jx(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Zx(t){var e=Ts(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}De("d",0,"do","day");De("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});De("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});De("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});De("e",0,0,"weekday");De("E",0,0,"isoWeekday");Pe("d",pt);Pe("e",pt);Pe("E",pt);Pe("dd",function(t,e){return e.weekdaysMinRegex(t)});Pe("ddd",function(t,e){return e.weekdaysShortRegex(t)});Pe("dddd",function(t,e){return e.weekdaysRegex(t)});zs(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);r!=null?e.d=r:ze(i).invalidWeekday=t});zs(["d","e","E"],function(t,e,i,n){e[n]=qe(t)});function ek(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function tk(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Vc(t,e){return t.slice(e,7).concat(t.slice(0,e))}var ik="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Vm="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),nk="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rk=Ws,sk=Ws,ok=Ws;function ak(t,e){var i=vi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Vc(i,this._week.dow):t?i[t.day()]:i}function lk(t){return t===!0?Vc(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function hk(t){return t===!0?Vc(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function ck(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Bi([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?e==="dddd"?(r=Mt.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=Mt.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=Mt.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=Mt.call(this._weekdaysParse,o),r!==-1||(r=Mt.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=Mt.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=Mt.call(this._shortWeekdaysParse,o),r!==-1||(r=Mt.call(this._weekdaysParse,o),r!==-1)?r:(r=Mt.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=Mt.call(this._minWeekdaysParse,o),r!==-1||(r=Mt.call(this._weekdaysParse,o),r!==-1)?r:(r=Mt.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function uk(t,e,i){var n,r,s;if(this._weekdaysParseExact)return ck.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=Bi([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(i&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(i&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function fk(t){if(!this.isValid())return t!=null?this:NaN;var e=Es(this,"Day");return t!=null?(t=ek(t,this.localeData()),this.add(t-e,"d")):e}function dk(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function pk(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=tk(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function gk(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||qc.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Qe(this,"_weekdaysRegex")||(this._weekdaysRegex=rk),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function mk(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||qc.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sk),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bk(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||qc.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ok),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qc(){function t(c,u){return u.length-c.length}var e=[],i=[],n=[],r=[],s,o,a,l,h;for(s=0;s<7;s++)o=Bi([2e3,1]).day(s),a=sn(this.weekdaysMin(o,"")),l=sn(this.weekdaysShort(o,"")),h=sn(this.weekdays(o,"")),e.push(a),i.push(l),n.push(h),r.push(a),r.push(l),r.push(h);e.sort(t),i.sort(t),n.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $c(){return this.hours()%12||12}function yk(){return this.hours()||24}De("H",["HH",2],0,"hour");De("h",["hh",2],0,$c);De("k",["kk",2],0,yk);De("hmm",0,0,function(){return""+$c.apply(this)+Li(this.minutes(),2)});De("hmmss",0,0,function(){return""+$c.apply(this)+Li(this.minutes(),2)+Li(this.seconds(),2)});De("Hmm",0,0,function(){return""+this.hours()+Li(this.minutes(),2)});De("Hmmss",0,0,function(){return""+this.hours()+Li(this.minutes(),2)+Li(this.seconds(),2)});function qm(t,e){De(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}qm("a",!0);qm("A",!1);function $m(t,e){return e._meridiemParse}Pe("a",$m);Pe("A",$m);Pe("H",pt,Yc);Pe("h",pt,Fr);Pe("k",pt,Fr);Pe("HH",pt,si);Pe("hh",pt,si);Pe("kk",pt,si);Pe("hmm",Lm);Pe("hmmss",Bm);Pe("Hmm",Lm);Pe("Hmmss",Bm);st(["H","HH"],Ct);st(["k","kk"],function(t,e,i){var n=qe(t);e[Ct]=n===24?0:n});st(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t});st(["h","hh"],function(t,e,i){e[Ct]=qe(t),ze(i).bigHour=!0});st("hmm",function(t,e,i){var n=t.length-2;e[Ct]=qe(t.substr(0,n)),e[bi]=qe(t.substr(n)),ze(i).bigHour=!0});st("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[Ct]=qe(t.substr(0,n)),e[bi]=qe(t.substr(n,2)),e[rn]=qe(t.substr(r)),ze(i).bigHour=!0});st("Hmm",function(t,e,i){var n=t.length-2;e[Ct]=qe(t.substr(0,n)),e[bi]=qe(t.substr(n))});st("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[Ct]=qe(t.substr(0,n)),e[bi]=qe(t.substr(n,2)),e[rn]=qe(t.substr(r))});function _k(t){return(t+"").toLowerCase().charAt(0)==="p"}var wk=/[ap]\.?m?\.?/i,vk=Ur("Hours",!0);function Sk(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var Gm={calendar:hx,longDateFormat:dx,invalidDate:gx,ordinal:bx,dayOfMonthOrdinalParse:yx,relativeTime:vx,months:Nx,monthsShort:Um,week:Kx,weekdays:ik,weekdaysMin:nk,weekdaysShort:Vm,meridiemParse:wk},yt={},Kr={},As;function xk(t,e){var i,n=Math.min(t.length,e.length);for(i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}function Td(t){return t&&t.toLowerCase().replace("_","-")}function kk(t){for(var e=0,i,n,r,s;e<t.length;){for(s=Td(t[e]).split("-"),i=s.length,n=Td(t[e+1]),n=n?n.split("-"):null;i>0;){if(r=Oa(s.slice(0,i).join("-")),r)return r;if(n&&n.length>=i&&xk(s,n)>=i-1)break;i--}e++}return As}function Ek(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Oa(t){var e=null,i;if(yt[t]===void 0&&typeof module<"u"&&module&&module.exports&&Ek(t))try{e=As._abbr,i=require,i("./locale/"+t),An(e)}catch{yt[t]=null}return yt[t]}function An(t,e){var i;return t&&(Xt(e)?i=pn(t):i=Gc(t,e),i?As=i:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),As._abbr}function Gc(t,e){if(e!==null){var i,n=Gm;if(e.abbr=t,yt[t]!=null)Cm("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=yt[t]._config;else if(e.parentLocale!=null)if(yt[e.parentLocale]!=null)n=yt[e.parentLocale]._config;else if(i=Oa(e.parentLocale),i!=null)n=i._config;else return Kr[e.parentLocale]||(Kr[e.parentLocale]=[]),Kr[e.parentLocale].push({name:t,config:e}),null;return yt[t]=new Fc(Zh(n,e)),Kr[t]&&Kr[t].forEach(function(r){Gc(r.name,r.config)}),An(t),yt[t]}else return delete yt[t],null}function Mk(t,e){if(e!=null){var i,n,r=Gm;yt[t]!=null&&yt[t].parentLocale!=null?yt[t].set(Zh(yt[t]._config,e)):(n=Oa(t),n!=null&&(r=n._config),e=Zh(r,e),n==null&&(e.abbr=t),i=new Fc(e),i.parentLocale=yt[t],yt[t]=i),An(t)}else yt[t]!=null&&(yt[t].parentLocale!=null?(yt[t]=yt[t].parentLocale,t===An()&&An(t)):yt[t]!=null&&delete yt[t]);return yt[t]}function pn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return As;if(!vi(t)){if(e=Oa(t),e)return e;t=[t]}return kk(t)}function Tk(){return ec(yt)}function Kc(t){var e,i=t._a;return i&&ze(t).overflow===-2&&(e=i[nn]<0||i[nn]>11?nn:i[Ai]<1||i[Ai]>Hc(i[qt],i[nn])?Ai:i[Ct]<0||i[Ct]>24||i[Ct]===24&&(i[bi]!==0||i[rn]!==0||i[Zn]!==0)?Ct:i[bi]<0||i[bi]>59?bi:i[rn]<0||i[rn]>59?rn:i[Zn]<0||i[Zn]>999?Zn:-1,ze(t)._overflowDayOfYear&&(e<qt||e>Ai)&&(e=Ai),ze(t)._overflowWeeks&&e===-1&&(e=Cx),ze(t)._overflowWeekday&&e===-1&&(e=Ix),ze(t).overflow=e),t}var Ak=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ok=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Pk=/Z|[+-]\d\d(?::?\d\d)?/,fo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ul=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ck=/^\/?Date\((-?\d+)/i,Ik=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Rk={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Km(t){var e,i,n=t._i,r=Ak.exec(n)||Ok.exec(n),s,o,a,l,h=fo.length,c=ul.length;if(r){for(ze(t).iso=!0,e=0,i=h;e<i;e++)if(fo[e][1].exec(r[1])){o=fo[e][0],s=fo[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(r[3]){for(e=0,i=c;e<i;e++)if(ul[e][1].exec(r[3])){a=(r[2]||" ")+ul[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(r[4])if(Pk.exec(r[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),Xc(t)}else t._isValid=!1}function Dk(t,e,i,n,r,s){var o=[Lk(t),Um.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function Lk(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Bk(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Nk(t,e,i){if(t){var n=Vm.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(n!==r)return ze(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Fk(t,e,i){if(t)return Rk[t];if(e)return 0;var n=parseInt(i,10),r=n%100,s=(n-r)/100;return s*60+r}function Qm(t){var e=Ik.exec(Bk(t._i)),i;if(e){if(i=Dk(e[4],e[3],e[2],e[5],e[6],e[7]),!Nk(e[1],i,t))return;t._a=i,t._tzm=Fk(e[8],e[9],e[10]),t._d=Ms.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ze(t).rfc2822=!0}else t._isValid=!1}function Uk(t){var e=Ck.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Km(t),t._isValid===!1)delete t._isValid;else return;if(Qm(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Te.createFromInputFallback(t)}Te.createFromInputFallback=hi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function xr(t,e,i){return t??e??i}function jk(t){var e=new Date(Te.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Qc(t){var e,i,n=[],r,s,o;if(!t._d){for(r=jk(t),t._w&&t._a[Ai]==null&&t._a[nn]==null&&Wk(t),t._dayOfYear!=null&&(o=xr(t._a[qt],r[qt]),(t._dayOfYear>ps(o)||t._dayOfYear===0)&&(ze(t)._overflowDayOfYear=!0),i=Ms(o,0,t._dayOfYear),t._a[nn]=i.getUTCMonth(),t._a[Ai]=i.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=r[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ct]===24&&t._a[bi]===0&&t._a[rn]===0&&t._a[Zn]===0&&(t._nextDay=!0,t._a[Ct]=0),t._d=(t._useUTC?Ms:$x).apply(null,n),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ct]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ze(t).weekdayMismatch=!0)}}function Wk(t){var e,i,n,r,s,o,a,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,i=xr(e.GG,t._a[qt],Ts(dt(),1,4).year),n=xr(e.W,1),r=xr(e.E,1),(r<1||r>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,h=Ts(dt(),s,o),i=xr(e.gg,t._a[qt],h.year),n=xr(e.w,h.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),n<1||n>on(i,s,o)?ze(t)._overflowWeeks=!0:l!=null?ze(t)._overflowWeekday=!0:(a=Hm(i,n,r,s,o),t._a[qt]=a.year,t._dayOfYear=a.dayOfYear)}Te.ISO_8601=function(){};Te.RFC_2822=function(){};function Xc(t){if(t._f===Te.ISO_8601){Km(t);return}if(t._f===Te.RFC_2822){Qm(t);return}t._a=[],ze(t).empty=!0;var e=""+t._i,i,n,r,s,o,a=e.length,l=0,h,c;for(r=Im(t._f,t._locale).match(Uc)||[],c=r.length,i=0;i<c;i++)s=r[i],n=(e.match(Ax(s,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&ze(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),Tr[s]?(n?ze(t).empty=!1:ze(t).unusedTokens.push(s),Px(s,n,t)):t._strict&&!n&&ze(t).unusedTokens.push(s);ze(t).charsLeftOver=a-l,e.length>0&&ze(t).unusedInput.push(e),t._a[Ct]<=12&&ze(t).bigHour===!0&&t._a[Ct]>0&&(ze(t).bigHour=void 0),ze(t).parsedDateParts=t._a.slice(0),ze(t).meridiem=t._meridiem,t._a[Ct]=zk(t._locale,t._a[Ct],t._meridiem),h=ze(t).era,h!==null&&(t._a[qt]=t._locale.erasConvertYear(h,t._a[qt])),Qc(t),Kc(t)}function zk(t,e,i){var n;return i==null?e:t.meridiemHour!=null?t.meridiemHour(e,i):(t.isPM!=null&&(n=t.isPM(i),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function Yk(t){var e,i,n,r,s,o,a=!1,l=t._f.length;if(l===0){ze(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,e=Nc({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],Xc(e),Bc(e)&&(o=!0),s+=ze(e).charsLeftOver,s+=ze(e).unusedTokens.length*10,ze(e).score=s,a?s<n&&(n=s,i=e):(n==null||s<n||o)&&(n=s,i=e,o&&(a=!0));En(t,i||e)}function Hk(t){if(!t._d){var e=jc(t._i),i=e.day===void 0?e.date:e.day;t._a=Om([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),Qc(t)}}function Vk(t){var e=new js(Kc(Xm(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Xm(t){var e=t._i,i=t._f;return t._locale=t._locale||pn(t._l),e===null||i===void 0&&e===""?Sa({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Si(e)?new js(Kc(e)):(Us(e)?t._d=e:vi(i)?Yk(t):i?Xc(t):qk(t),Bc(t)||(t._d=null),t))}function qk(t){var e=t._i;Xt(e)?t._d=new Date(Te.now()):Us(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Uk(t):vi(e)?(t._a=Om(e.slice(0),function(i){return parseInt(i,10)}),Qc(t)):ar(e)?Hk(t):cn(e)?t._d=new Date(e):Te.createFromInputFallback(t)}function Jm(t,e,i,n,r){var s={};return(e===!0||e===!1)&&(n=e,e=void 0),(i===!0||i===!1)&&(n=i,i=void 0),(ar(t)&&Lc(t)||vi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=i,s._i=t,s._f=e,s._strict=n,Vk(s)}function dt(t,e,i,n){return Jm(t,e,i,n,!1)}var $k=hi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Sa()}),Gk=hi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Sa()});function Zm(t,e){var i,n;if(e.length===1&&vi(e[0])&&(e=e[0]),!e.length)return dt();for(i=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](i))&&(i=e[n]);return i}function Kk(){var t=[].slice.call(arguments,0);return Zm("isBefore",t)}function Qk(){var t=[].slice.call(arguments,0);return Zm("isAfter",t)}var Xk=function(){return Date.now?Date.now():+new Date},Qr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Jk(t){var e,i=!1,n,r=Qr.length;for(e in t)if(Qe(t,e)&&!(Mt.call(Qr,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<r;++n)if(t[Qr[n]]){if(i)return!1;parseFloat(t[Qr[n]])!==qe(t[Qr[n]])&&(i=!0)}return!0}function Zk(){return this._isValid}function eE(){return xi(NaN)}function Pa(t){var e=jc(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=Jk(e),this._milliseconds=+c+h*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+n*3+i*12,this._data={},this._locale=pn(),this._bubble()}function Bo(t){return t instanceof Pa}function ic(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function tE(t,e,i){var n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,o;for(o=0;o<n;o++)(i&&t[o]!==e[o]||!i&&qe(t[o])!==qe(e[o]))&&s++;return s+r}function e0(t,e){De(t,0,0,function(){var i=this.utcOffset(),n="+";return i<0&&(i=-i,n="-"),n+Li(~~(i/60),2)+e+Li(~~i%60,2)})}e0("Z",":");e0("ZZ","");Pe("Z",Ta);Pe("ZZ",Ta);st(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Jc(Ta,t)});var iE=/([\+\-]|\d\d)/gi;function Jc(t,e){var i=(e||"").match(t),n,r,s;return i===null?null:(n=i[i.length-1]||[],r=(n+"").match(iE)||["-",0,0],s=+(r[1]*60)+qe(r[2]),s===0?0:r[0]==="+"?s:-s)}function Zc(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(Si(t)||Us(t)?t.valueOf():dt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),Te.updateOffset(i,!1),i):dt(t).local()}function nc(t){return-Math.round(t._d.getTimezoneOffset())}Te.updateOffset=function(){};function nE(t,e,i){var n=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Jc(Ta,t),t===null)return this}else Math.abs(t)<16&&!i&&(t=t*60);return!this._isUTC&&e&&(r=nc(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==t&&(!e||this._changeInProgress?n0(this,xi(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:nc(this)}function rE(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function sE(t){return this.utcOffset(0,t)}function oE(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(nc(this),"m")),this}function aE(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Jc(Mx,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function lE(t){return this.isValid()?(t=t?dt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function hE(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function cE(){if(!Xt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Nc(t,this),t=Xm(t),t._a?(e=t._isUTC?Bi(t._a):dt(t._a),this._isDSTShifted=this.isValid()&&tE(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function uE(){return this.isValid()?!this._isUTC:!1}function fE(){return this.isValid()?this._isUTC:!1}function t0(){return this.isValid()?this._isUTC&&this._offset===0:!1}var dE=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,pE=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xi(t,e){var i=t,n=null,r,s,o;return Bo(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:cn(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(n=dE.exec(t))?(r=n[1]==="-"?-1:1,i={y:0,d:qe(n[Ai])*r,h:qe(n[Ct])*r,m:qe(n[bi])*r,s:qe(n[rn])*r,ms:qe(ic(n[Zn]*1e3))*r}):(n=pE.exec(t))?(r=n[1]==="-"?-1:1,i={y:Vn(n[2],r),M:Vn(n[3],r),w:Vn(n[4],r),d:Vn(n[5],r),h:Vn(n[6],r),m:Vn(n[7],r),s:Vn(n[8],r)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(o=gE(dt(i.from),dt(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),s=new Pa(i),Bo(t)&&Qe(t,"_locale")&&(s._locale=t._locale),Bo(t)&&Qe(t,"_isValid")&&(s._isValid=t._isValid),s}xi.fn=Pa.prototype;xi.invalid=eE;function Vn(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ad(t,e){var i={};return i.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function gE(t,e){var i;return t.isValid()&&e.isValid()?(e=Zc(e,t),t.isBefore(e)?i=Ad(t,e):(i=Ad(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function i0(t,e){return function(i,n){var r,s;return n!==null&&!isNaN(+n)&&(Cm(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),r=xi(i,n),n0(this,r,t),this}}function n0(t,e,i,n){var r=e._milliseconds,s=ic(e._days),o=ic(e._months);t.isValid()&&(n=n??!0,o&&Wm(t,Es(t,"Month")+o*i),s&&Fm(t,"Date",Es(t,"Date")+s*i),r&&t._d.setTime(t._d.valueOf()+r*i),n&&Te.updateOffset(t,s||o))}var mE=i0(1,"add"),bE=i0(-1,"subtract");function r0(t){return typeof t=="string"||t instanceof String}function yE(t){return Si(t)||Us(t)||r0(t)||cn(t)||wE(t)||_E(t)||t===null||t===void 0}function _E(t){var e=ar(t)&&!Lc(t),i=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=n.length;for(r=0;r<o;r+=1)s=n[r],i=i||Qe(t,s);return e&&i}function wE(t){var e=vi(t),i=!1;return e&&(i=t.filter(function(n){return!cn(n)&&r0(t)}).length===0),e&&i}function vE(t){var e=ar(t)&&!Lc(t),i=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<n.length;r+=1)s=n[r],i=i||Qe(t,s);return e&&i}function SE(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function xE(t,e){arguments.length===1&&(arguments[0]?yE(arguments[0])?(t=arguments[0],e=void 0):vE(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||dt(),n=Zc(i,this).startOf("day"),r=Te.calendarFormat(this,n)||"sameElse",s=e&&(Ni(e[r])?e[r].call(this,i):e[r]);return this.format(s||this.localeData().calendar(r,this,dt(i)))}function kE(){return new js(this)}function EE(t,e){var i=Si(t)?t:dt(t);return this.isValid()&&i.isValid()?(e=ci(e)||"millisecond",e==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function ME(t,e){var i=Si(t)?t:dt(t);return this.isValid()&&i.isValid()?(e=ci(e)||"millisecond",e==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function TE(t,e,i,n){var r=Si(t)?t:dt(t),s=Si(e)?e:dt(e);return this.isValid()&&r.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,i):!this.isBefore(r,i))&&(n[1]===")"?this.isBefore(s,i):!this.isAfter(s,i))):!1}function AE(t,e){var i=Si(t)?t:dt(t),n;return this.isValid()&&i.isValid()?(e=ci(e)||"millisecond",e==="millisecond"?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function OE(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function PE(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function CE(t,e,i){var n,r,s;if(!this.isValid())return NaN;if(n=Zc(t,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,e=ci(e),e){case"year":s=No(this,n)/12;break;case"month":s=No(this,n);break;case"quarter":s=No(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:li(s)}function No(t,e){if(t.date()<e.date())return-No(e,t);var i=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(i,"months"),r,s;return e-n<0?(r=t.clone().add(i-1,"months"),s=(e-n)/(n-r)):(r=t.clone().add(i+1,"months"),s=(e-n)/(r-n)),-(i+s)||0}Te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function IE(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function RE(t){if(!this.isValid())return null;var e=t!==!0,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?Lo(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ni(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Lo(i,"Z")):Lo(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function DE(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",i,n,r,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(i+n+r+s)}function LE(t){t||(t=this.isUtc()?Te.defaultFormatUtc:Te.defaultFormat);var e=Lo(this,t);return this.localeData().postformat(e)}function BE(t,e){return this.isValid()&&(Si(t)&&t.isValid()||dt(t).isValid())?xi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function NE(t){return this.from(dt(),t)}function FE(t,e){return this.isValid()&&(Si(t)&&t.isValid()||dt(t).isValid())?xi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function UE(t){return this.to(dt(),t)}function s0(t){var e;return t===void 0?this._locale._abbr:(e=pn(t),e!=null&&(this._locale=e),this)}var o0=hi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function a0(){return this._locale}var sa=1e3,Ar=60*sa,oa=60*Ar,l0=(365*400+97)*24*oa;function Or(t,e){return(t%e+e)%e}function h0(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-l0:new Date(t,e,i).valueOf()}function c0(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-l0:Date.UTC(t,e,i)}function jE(t){var e,i;if(t=ci(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?c0:h0,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Or(e+(this._isUTC?0:this.utcOffset()*Ar),oa);break;case"minute":e=this._d.valueOf(),e-=Or(e,Ar);break;case"second":e=this._d.valueOf(),e-=Or(e,sa);break}return this._d.setTime(e),Te.updateOffset(this,!0),this}function WE(t){var e,i;if(t=ci(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?c0:h0,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=oa-Or(e+(this._isUTC?0:this.utcOffset()*Ar),oa)-1;break;case"minute":e=this._d.valueOf(),e+=Ar-Or(e,Ar)-1;break;case"second":e=this._d.valueOf(),e+=sa-Or(e,sa)-1;break}return this._d.setTime(e),Te.updateOffset(this,!0),this}function zE(){return this._d.valueOf()-(this._offset||0)*6e4}function YE(){return Math.floor(this.valueOf()/1e3)}function HE(){return new Date(this.valueOf())}function VE(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function qE(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function $E(){return this.isValid()?this.toISOString():null}function GE(){return Bc(this)}function KE(){return En({},ze(this))}function QE(){return ze(this).overflow}function XE(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}De("N",0,0,"eraAbbr");De("NN",0,0,"eraAbbr");De("NNN",0,0,"eraAbbr");De("NNNN",0,0,"eraName");De("NNNNN",0,0,"eraNarrow");De("y",["y",1],"yo","eraYear");De("y",["yy",2],0,"eraYear");De("y",["yyy",3],0,"eraYear");De("y",["yyyy",4],0,"eraYear");Pe("N",eu);Pe("NN",eu);Pe("NNN",eu);Pe("NNNN",lM);Pe("NNNNN",hM);st(["N","NN","NNN","NNNN","NNNNN"],function(t,e,i,n){var r=i._locale.erasParse(t,n,i._strict);r?ze(i).era=r:ze(i).invalidEra=t});Pe("y",Nr);Pe("yy",Nr);Pe("yyy",Nr);Pe("yyyy",Nr);Pe("yo",cM);st(["y","yy","yyy","yyyy"],qt);st(["yo"],function(t,e,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[qt]=i._locale.eraYearOrdinalParse(t,r):e[qt]=parseInt(t,10)});function JE(t,e){var i,n,r,s=this._eras||pn("en")._eras;for(i=0,n=s.length;i<n;++i){switch(typeof s[i].since){case"string":r=Te(s[i].since).startOf("day"),s[i].since=r.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":r=Te(s[i].until).startOf("day").valueOf(),s[i].until=r.valueOf();break}}return s}function ZE(t,e,i){var n,r,s=this.eras(),o,a,l;for(t=t.toUpperCase(),n=0,r=s.length;n<r;++n)if(o=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[n];break;case"NNNN":if(o===t)return s[n];break;case"NNNNN":if(l===t)return s[n];break}else if([o,a,l].indexOf(t)>=0)return s[n]}function eM(t,e){var i=t.since<=t.until?1:-1;return e===void 0?Te(t.since).year():Te(t.since).year()+(e-t.offset)*i}function tM(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until||n[t].until<=i&&i<=n[t].since)return n[t].name;return""}function iM(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until||n[t].until<=i&&i<=n[t].since)return n[t].narrow;return""}function nM(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until||n[t].until<=i&&i<=n[t].since)return n[t].abbr;return""}function rM(){var t,e,i,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(i=r[t].since<=r[t].until?1:-1,n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return(this.year()-Te(r[t].since).year())*i+r[t].offset;return this.year()}function sM(t){return Qe(this,"_erasNameRegex")||tu.call(this),t?this._erasNameRegex:this._erasRegex}function oM(t){return Qe(this,"_erasAbbrRegex")||tu.call(this),t?this._erasAbbrRegex:this._erasRegex}function aM(t){return Qe(this,"_erasNarrowRegex")||tu.call(this),t?this._erasNarrowRegex:this._erasRegex}function eu(t,e){return e.erasAbbrRegex(t)}function lM(t,e){return e.erasNameRegex(t)}function hM(t,e){return e.erasNarrowRegex(t)}function cM(t,e){return e._eraYearOrdinalRegex||Nr}function tu(){var t=[],e=[],i=[],n=[],r,s,o,a,l,h=this.eras();for(r=0,s=h.length;r<s;++r)o=sn(h[r].name),a=sn(h[r].abbr),l=sn(h[r].narrow),e.push(o),t.push(a),i.push(l),n.push(o),n.push(a),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}De(0,["gg",2],0,function(){return this.weekYear()%100});De(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ca(t,e){De(0,[t,t.length],0,e)}Ca("gggg","weekYear");Ca("ggggg","weekYear");Ca("GGGG","isoWeekYear");Ca("GGGGG","isoWeekYear");Pe("G",Ma);Pe("g",Ma);Pe("GG",pt,si);Pe("gg",pt,si);Pe("GGGG",zc,Wc);Pe("gggg",zc,Wc);Pe("GGGGG",Ea,xa);Pe("ggggg",Ea,xa);zs(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=qe(t)});zs(["gg","GG"],function(t,e,i,n){e[n]=Te.parseTwoDigitYear(t)});function uM(t){return u0.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function fM(t){return u0.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function dM(){return on(this.year(),1,4)}function pM(){return on(this.isoWeekYear(),1,4)}function gM(){var t=this.localeData()._week;return on(this.year(),t.dow,t.doy)}function mM(){var t=this.localeData()._week;return on(this.weekYear(),t.dow,t.doy)}function u0(t,e,i,n,r){var s;return t==null?Ts(this,n,r).year:(s=on(t,n,r),e>s&&(e=s),bM.call(this,t,e,i,n,r))}function bM(t,e,i,n,r){var s=Hm(t,e,i,n,r),o=Ms(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}De("Q",0,"Qo","quarter");Pe("Q",Rm);st("Q",function(t,e){e[nn]=(qe(t)-1)*3});function yM(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}De("D",["DD",2],"Do","date");Pe("D",pt,Fr);Pe("DD",pt,si);Pe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});st(["D","DD"],Ai);st("Do",function(t,e){e[Ai]=qe(t.match(pt)[0])});var f0=Ur("Date",!0);De("DDD",["DDDD",3],"DDDo","dayOfYear");Pe("DDD",ka);Pe("DDDD",Dm);st(["DDD","DDDD"],function(t,e,i){i._dayOfYear=qe(t)});function _M(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}De("m",["mm",2],0,"minute");Pe("m",pt,Yc);Pe("mm",pt,si);st(["m","mm"],bi);var wM=Ur("Minutes",!1);De("s",["ss",2],0,"second");Pe("s",pt,Yc);Pe("ss",pt,si);st(["s","ss"],rn);var vM=Ur("Seconds",!1);De("S",0,0,function(){return~~(this.millisecond()/100)});De(0,["SS",2],0,function(){return~~(this.millisecond()/10)});De(0,["SSS",3],0,"millisecond");De(0,["SSSS",4],0,function(){return this.millisecond()*10});De(0,["SSSSS",5],0,function(){return this.millisecond()*100});De(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});De(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});De(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});De(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Pe("S",ka,Rm);Pe("SS",ka,si);Pe("SSS",ka,Dm);var Mn,d0;for(Mn="SSSS";Mn.length<=9;Mn+="S")Pe(Mn,Nr);function SM(t,e){e[Zn]=qe(("0."+t)*1e3)}for(Mn="S";Mn.length<=9;Mn+="S")st(Mn,SM);d0=Ur("Milliseconds",!1);De("z",0,0,"zoneAbbr");De("zz",0,0,"zoneName");function xM(){return this._isUTC?"UTC":""}function kM(){return this._isUTC?"Coordinated Universal Time":""}var Se=js.prototype;Se.add=mE;Se.calendar=xE;Se.clone=kE;Se.diff=CE;Se.endOf=WE;Se.format=LE;Se.from=BE;Se.fromNow=NE;Se.to=FE;Se.toNow=UE;Se.get=Dx;Se.invalidAt=QE;Se.isAfter=EE;Se.isBefore=ME;Se.isBetween=TE;Se.isSame=AE;Se.isSameOrAfter=OE;Se.isSameOrBefore=PE;Se.isValid=GE;Se.lang=o0;Se.locale=s0;Se.localeData=a0;Se.max=Gk;Se.min=$k;Se.parsingFlags=KE;Se.set=Lx;Se.startOf=jE;Se.subtract=bE;Se.toArray=VE;Se.toObject=qE;Se.toDate=HE;Se.toISOString=RE;Se.inspect=DE;typeof Symbol<"u"&&Symbol.for!=null&&(Se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Se.toJSON=$E;Se.toString=IE;Se.unix=YE;Se.valueOf=zE;Se.creationData=XE;Se.eraName=tM;Se.eraNarrow=iM;Se.eraAbbr=nM;Se.eraYear=rM;Se.year=Nm;Se.isLeapYear=Rx;Se.weekYear=uM;Se.isoWeekYear=fM;Se.quarter=Se.quarters=yM;Se.month=zm;Se.daysInMonth=Hx;Se.week=Se.weeks=Jx;Se.isoWeek=Se.isoWeeks=Zx;Se.weeksInYear=gM;Se.weeksInWeekYear=mM;Se.isoWeeksInYear=dM;Se.isoWeeksInISOWeekYear=pM;Se.date=f0;Se.day=Se.days=fk;Se.weekday=dk;Se.isoWeekday=pk;Se.dayOfYear=_M;Se.hour=Se.hours=vk;Se.minute=Se.minutes=wM;Se.second=Se.seconds=vM;Se.millisecond=Se.milliseconds=d0;Se.utcOffset=nE;Se.utc=sE;Se.local=oE;Se.parseZone=aE;Se.hasAlignedHourOffset=lE;Se.isDST=hE;Se.isLocal=uE;Se.isUtcOffset=fE;Se.isUtc=t0;Se.isUTC=t0;Se.zoneAbbr=xM;Se.zoneName=kM;Se.dates=hi("dates accessor is deprecated. Use date instead.",f0);Se.months=hi("months accessor is deprecated. Use month instead",zm);Se.years=hi("years accessor is deprecated. Use year instead",Nm);Se.zone=hi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",rE);Se.isDSTShifted=hi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",cE);function EM(t){return dt(t*1e3)}function MM(){return dt.apply(null,arguments).parseZone()}function p0(t){return t}var Xe=Fc.prototype;Xe.calendar=cx;Xe.longDateFormat=px;Xe.invalidDate=mx;Xe.ordinal=_x;Xe.preparse=p0;Xe.postformat=p0;Xe.relativeTime=Sx;Xe.pastFuture=xx;Xe.set=lx;Xe.eras=JE;Xe.erasParse=ZE;Xe.erasConvertYear=eM;Xe.erasAbbrRegex=oM;Xe.erasNameRegex=sM;Xe.erasNarrowRegex=aM;Xe.months=jx;Xe.monthsShort=Wx;Xe.monthsParse=Yx;Xe.monthsRegex=qx;Xe.monthsShortRegex=Vx;Xe.week=Gx;Xe.firstDayOfYear=Xx;Xe.firstDayOfWeek=Qx;Xe.weekdays=ak;Xe.weekdaysMin=hk;Xe.weekdaysShort=lk;Xe.weekdaysParse=uk;Xe.weekdaysRegex=gk;Xe.weekdaysShortRegex=mk;Xe.weekdaysMinRegex=bk;Xe.isPM=_k;Xe.meridiem=Sk;function aa(t,e,i,n){var r=pn(),s=Bi().set(n,e);return r[i](s,t)}function g0(t,e,i){if(cn(t)&&(e=t,t=void 0),t=t||"",e!=null)return aa(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=aa(t,n,i,"month");return r}function iu(t,e,i,n){typeof t=="boolean"?(cn(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,cn(e)&&(i=e,e=void 0),e=e||"");var r=pn(),s=t?r._week.dow:0,o,a=[];if(i!=null)return aa(e,(i+s)%7,n,"day");for(o=0;o<7;o++)a[o]=aa(e,(o+s)%7,n,"day");return a}function TM(t,e){return g0(t,e,"months")}function AM(t,e){return g0(t,e,"monthsShort")}function OM(t,e,i){return iu(t,e,i,"weekdays")}function PM(t,e,i){return iu(t,e,i,"weekdaysShort")}function CM(t,e,i){return iu(t,e,i,"weekdaysMin")}An("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=qe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});Te.lang=hi("moment.lang is deprecated. Use moment.locale instead.",An);Te.langData=hi("moment.langData is deprecated. Use moment.localeData instead.",pn);var ji=Math.abs;function IM(){var t=this._data;return this._milliseconds=ji(this._milliseconds),this._days=ji(this._days),this._months=ji(this._months),t.milliseconds=ji(t.milliseconds),t.seconds=ji(t.seconds),t.minutes=ji(t.minutes),t.hours=ji(t.hours),t.months=ji(t.months),t.years=ji(t.years),this}function m0(t,e,i,n){var r=xi(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function RM(t,e){return m0(this,t,e,1)}function DM(t,e){return m0(this,t,e,-1)}function Od(t){return t<0?Math.floor(t):Math.ceil(t)}function LM(){var t=this._milliseconds,e=this._days,i=this._months,n=this._data,r,s,o,a,l;return t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=Od(rc(i)+e)*864e5,e=0,i=0),n.milliseconds=t%1e3,r=li(t/1e3),n.seconds=r%60,s=li(r/60),n.minutes=s%60,o=li(s/60),n.hours=o%24,e+=li(o/24),l=li(b0(e)),i+=l,e-=Od(rc(l)),a=li(i/12),i%=12,n.days=e,n.months=i,n.years=a,this}function b0(t){return t*4800/146097}function rc(t){return t*146097/4800}function BM(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if(t=ci(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,i=this._months+b0(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(rc(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function gn(t){return function(){return this.as(t)}}var y0=gn("ms"),NM=gn("s"),FM=gn("m"),UM=gn("h"),jM=gn("d"),WM=gn("w"),zM=gn("M"),YM=gn("Q"),HM=gn("y"),VM=y0;function qM(){return xi(this)}function $M(t){return t=ci(t),this.isValid()?this[t+"s"]():NaN}function mr(t){return function(){return this.isValid()?this._data[t]:NaN}}var GM=mr("milliseconds"),KM=mr("seconds"),QM=mr("minutes"),XM=mr("hours"),JM=mr("days"),ZM=mr("months"),e2=mr("years");function t2(){return li(this.days()/7)}var $i=Math.round,Er={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function i2(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function n2(t,e,i,n){var r=xi(t).abs(),s=$i(r.as("s")),o=$i(r.as("m")),a=$i(r.as("h")),l=$i(r.as("d")),h=$i(r.as("M")),c=$i(r.as("w")),u=$i(r.as("y")),f=s<=i.ss&&["s",s]||s<i.s&&["ss",s]||o<=1&&["m"]||o<i.m&&["mm",o]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return i.w!=null&&(f=f||c<=1&&["w"]||c<i.w&&["ww",c]),f=f||h<=1&&["M"]||h<i.M&&["MM",h]||u<=1&&["y"]||["yy",u],f[2]=e,f[3]=+t>0,f[4]=n,i2.apply(null,f)}function r2(t){return t===void 0?$i:typeof t=="function"?($i=t,!0):!1}function s2(t,e){return Er[t]===void 0?!1:e===void 0?Er[t]:(Er[t]=e,t==="s"&&(Er.ss=e-1),!0)}function o2(t,e){if(!this.isValid())return this.localeData().invalidDate();var i=!1,n=Er,r,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(i=t),typeof e=="object"&&(n=Object.assign({},Er,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),r=this.localeData(),s=n2(this,!i,n,r),i&&(s=r.pastFuture(+this,s)),r.postformat(s)}var fl=Math.abs;function wr(t){return(t>0)-(t<0)||+t}function Ia(){if(!this.isValid())return this.localeData().invalidDate();var t=fl(this._milliseconds)/1e3,e=fl(this._days),i=fl(this._months),n,r,s,o,a=this.asSeconds(),l,h,c,u;return a?(n=li(t/60),r=li(n/60),t%=60,n%=60,s=li(i/12),i%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",h=wr(this._months)!==wr(a)?"-":"",c=wr(this._days)!==wr(a)?"-":"",u=wr(this._milliseconds)!==wr(a)?"-":"",l+"P"+(s?h+s+"Y":"")+(i?h+i+"M":"")+(e?c+e+"D":"")+(r||n||t?"T":"")+(r?u+r+"H":"")+(n?u+n+"M":"")+(t?u+o+"S":"")):"P0D"}var $e=Pa.prototype;$e.isValid=Zk;$e.abs=IM;$e.add=RM;$e.subtract=DM;$e.as=BM;$e.asMilliseconds=y0;$e.asSeconds=NM;$e.asMinutes=FM;$e.asHours=UM;$e.asDays=jM;$e.asWeeks=WM;$e.asMonths=zM;$e.asQuarters=YM;$e.asYears=HM;$e.valueOf=VM;$e._bubble=LM;$e.clone=qM;$e.get=$M;$e.milliseconds=GM;$e.seconds=KM;$e.minutes=QM;$e.hours=XM;$e.days=JM;$e.weeks=t2;$e.months=ZM;$e.years=e2;$e.humanize=o2;$e.toISOString=Ia;$e.toString=Ia;$e.toJSON=Ia;$e.locale=s0;$e.localeData=a0;$e.toIsoString=hi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ia);$e.lang=o0;De("X",0,0,"unix");De("x",0,0,"valueOf");Pe("x",Ma);Pe("X",Tx);st("X",function(t,e,i){i._d=new Date(parseFloat(t)*1e3)});st("x",function(t,e,i){i._d=new Date(qe(t))});//! moment.js
Te.version="2.30.1";ox(dt);Te.fn=Se;Te.min=Kk;Te.max=Qk;Te.now=Xk;Te.utc=Bi;Te.unix=EM;Te.months=TM;Te.isDate=Us;Te.locale=An;Te.invalid=Sa;Te.duration=xi;Te.isMoment=Si;Te.weekdays=OM;Te.parseZone=MM;Te.localeData=pn;Te.isDuration=Bo;Te.monthsShort=AM;Te.weekdaysMin=CM;Te.defineLocale=Gc;Te.updateLocale=Mk;Te.locales=Tk;Te.weekdaysShort=PM;Te.normalizeUnits=ci;Te.relativeTimeRounding=r2;Te.relativeTimeThreshold=s2;Te.calendarFormat=SE;Te.prototype=Se;Te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const a2={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};am._date.override(typeof Te=="function"?{_id:"moment",formats:function(){return a2},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=Te(t,e):t instanceof Te||(t=Te(t)),t.isValid()?t.valueOf():null},format:function(t,e){return Te(t).format(e)},add:function(t,e,i){return Te(t).add(e,i).valueOf()},diff:function(t,e,i){return Te(t).diff(Te(e),i)},startOf:function(t,e,i){return t=Te(t),e==="isoWeek"?(i=Math.trunc(Math.min(Math.max(0,i),6)),t.isoWeekday(i).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return Te(t).endOf(e).valueOf()}}:{});function l2(t){let e;return{c(){e=Ce("canvas"),this.h()},l(i){e=Ie(i,"CANVAS",{class:!0}),He(e).forEach(ke),this.h()},h(){me(e,"class","w-full svelte-w7k32v")},m(i,n){Ne(i,e,n),t[1](e)},p:It,i:It,o:It,d(i){i&&ke(e),t[1](null)}}}function h2(t,e,i){let n;sc(t,Tg,h=>i(3,n=h));let r,s;const o=(h=100)=>new Promise(c=>{let u=setInterval(()=>{Ls()&&(clearInterval(u),c())},h)}),a=(h=100)=>new Promise(c=>{let u=setInterval(()=>{n&&(clearInterval(u),c())},h)});Id(async()=>{await o(),await a();let h=JSON.parse(n);h=h.sort((d,g)=>d.timestamp-g.timestamp);const c=new Date,u={datasets:[{label:"Sensor 1",data:h.map(d=>({x:d.timestamp,y:parseFloat(d.sensor1)}))},{label:"Sensor 2",data:h.map(d=>({x:d.timestamp,y:parseFloat(d.sensor2)}))}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{text:"Temperatur 72h",display:!0},tooltip:{callbacks:{label(d){let g=d.dataset.label||"";return g=d.parsed.y+" Â°C",g},title(d){return new Date(d[0].label).toLocaleString("se-sw")}}}},interaction:{mode:"nearest",intersect:!1,axis:"x"},elements:{line:{tension:.2,borderWidth:2},point:{radius:.1}},scales:{y:{suggestedMin:5,suggestedMax:20},x:{display:!0,type:"time",time:{unit:"day",displayFormats:{day:"DD MMM"}},min:new Date(c.getTime()-72*60*60*1e3).toISOString(),max:new Date(c.getTime()+3*60*60*1e3).toISOString()}}};return r=new Qi(s,{type:"line",data:u,options:f}),Pg("heatpump/temperature/concat",d=>{d=JSON.parse(d),d=d.sort((y,_)=>y.timestamp-_.timestamp);const g={datasets:[{label:"Sensor 1",data:d.map(y=>({x:y.timestamp,y:parseFloat(y.sensor1)}))},{label:"Sensor 2",data:d.map(y=>({x:y.timestamp,y:parseFloat(y.sensor2)}))}]};r.data=g,r.scales.x.max=new Date(c.getTime()+3*60*60*1e3).toISOString(),r.scales.x.min=new Date(c.getTime()-72*60*60*1e3).toISOString(),r.update()}),()=>{r.destroy()}});function l(h){os[h?"unshift":"push"](()=>{s=h,i(0,s)})}return[s,l]}class c2 extends Os{constructor(e){super(),Ps(this,e,h2,l2,lr,{})}}function u2(t){let e,i,n=t[0].name.split(" ")[0]+"",r,s,o,a,l,h,c,u,f,d,g;return o=new Jy({props:{class:"mt-1",icon:e_}}),l=new Vy({}),u=new c2({}),{c(){e=Ce("button"),i=Ii("Hej "),r=Ii(n),s=Ii(`! Klicka hÃ¤r fÃ¶r att logga ut
        `),po(o.$$.fragment),a=nt(),po(l.$$.fragment),h=nt(),c=Ce("div"),po(u.$$.fragment),this.h()},l(y){e=Ie(y,"BUTTON",{class:!0});var _=He(e);i=Ri(_,"Hej "),r=Ri(_,n),s=Ri(_,`! Klicka hÃ¤r fÃ¶r att logga ut
        `),go(o.$$.fragment,_),_.forEach(ke),a=rt(y),go(l.$$.fragment,y),h=rt(y),c=Ie(y,"DIV",{class:!0});var w=He(c);go(u.$$.fragment,w),w.forEach(ke),this.h()},h(){me(e,"class","flex items-center gap-3 mt-2"),me(c,"class","h-96 w-8/12")},m(y,_){Ne(y,e,_),Le(e,i),Le(e,r),Le(e,s),mo(o,e,null),Ne(y,a,_),mo(l,y,_),Ne(y,h,_),Ne(y,c,_),mo(u,c,null),f=!0,d||(g=Ft(e,"click",t[5]),d=!0)},p(y,_){(!f||_&1)&&n!==(n=y[0].name.split(" ")[0]+"")&&Cn(r,n)},i(y){f||(yi(o.$$.fragment,y),yi(l.$$.fragment,y),yi(u.$$.fragment,y),f=!0)},o(y){Ci(o.$$.fragment,y),Ci(l.$$.fragment,y),Ci(u.$$.fragment,y),f=!1},d(y){y&&(ke(e),ke(a),ke(h),ke(c)),bo(o),bo(l,y),bo(u),d=!1,g()}}}function f2(t){let e,i="MQTT connection failed.",n,r,s="Try Logging In Again",o,a,l,h,c;return{c(){e=Ce("h1"),e.textContent=i,n=nt(),r=Ce("button"),r.textContent=s,o=nt(),a=Ce("p"),l=Ii(t[3]),this.h()},l(u){e=Ie(u,"H1",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-49pb01"&&(e.textContent=i),n=rt(u),r=Ie(u,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(r)!=="svelte-5g466t"&&(r.textContent=s),o=rt(u),a=Ie(u,"P",{class:!0});var f=He(a);l=Ri(f,t[3]),f.forEach(ke),this.h()},h(){me(e,"class","mt-10"),me(r,"class","btn btn-secondary rounded-sm mt-5"),me(a,"class","mt-10 text-red-500")},m(u,f){Ne(u,e,f),Ne(u,n,f),Ne(u,r,f),Ne(u,o,f),Ne(u,a,f),Le(a,l),h||(c=Ft(r,"click",t[4]),h=!0)},p(u,f){f&8&&Cn(l,u[3])},i:It,o:It,d(u){u&&(ke(e),ke(n),ke(r),ke(o),ke(a)),h=!1,c()}}}function d2(t){let e,i="Login failed. Please try again.",n,r,s="Try Logging In Again",o,a,l,h,c;return{c(){e=Ce("h1"),e.textContent=i,n=nt(),r=Ce("button"),r.textContent=s,o=nt(),a=Ce("p"),l=Ii(t[2]),this.h()},l(u){e=Ie(u,"H1",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-2famt1"&&(e.textContent=i),n=rt(u),r=Ie(u,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(r)!=="svelte-5g466t"&&(r.textContent=s),o=rt(u),a=Ie(u,"P",{class:!0});var f=He(a);l=Ri(f,t[2]),f.forEach(ke),this.h()},h(){me(e,"class","mt-10"),me(r,"class","btn btn-secondary rounded-sm mt-5"),me(a,"class","mt-10 text-red-500")},m(u,f){Ne(u,e,f),Ne(u,n,f),Ne(u,r,f),Ne(u,o,f),Ne(u,a,f),Le(a,l),h||(c=Ft(r,"click",t[4]),h=!0)},p(u,f){f&4&&Cn(l,u[2])},i:It,o:It,d(u){u&&(ke(e),ke(n),ke(r),ke(o),ke(a)),h=!1,c()}}}function p2(t){let e,i="Loading...";return{c(){e=Ce("div"),e.textContent=i,this.h()},l(n){e=Ie(n,"DIV",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-1ng9eg1"&&(e.textContent=i),this.h()},h(){me(e,"class","loading mt-24")},m(n,r){Ne(n,e,r)},p:It,i:It,o:It,d(n){n&&ke(e)}}}function g2(t){let e,i,n,r,s;const o=[p2,d2,f2,u2],a=[];function l(h,c){return h[1]?0:h[2]?1:h[3]?2:h[0]?3:-1}return~(n=l(t))&&(r=a[n]=o[n](t)),{c(){e=Ce("div"),i=Ce("div"),r&&r.c(),this.h()},l(h){e=Ie(h,"DIV",{class:!0});var c=He(e);i=Ie(c,"DIV",{class:!0});var u=He(i);r&&r.l(u),u.forEach(ke),c.forEach(ke),this.h()},h(){me(i,"class","w-screen md:w-7/12 lg:w-5/12 sm flex flex-col items-center"),me(e,"class","w-screen min-h-screen bg-base-200 select-none flex justify-center")},m(h,c){Ne(h,e,c),Le(e,i),~n&&a[n].m(i,null),s=!0},p(h,[c]){let u=n;n=l(h),n===u?~n&&a[n].p(h,c):(r&&(Fo(),Ci(a[u],1,1,()=>{a[u]=null}),Uo()),~n?(r=a[n],r?r.p(h,c):(r=a[n]=o[n](h),r.c()),yi(r,1),r.m(i,null)):r=null)},i(h){s||(yi(r),s=!0)},o(h){Ci(r),s=!1},d(h){h&&ke(e),~n&&a[n].d()}}}function m2(t,e,i){let n;sc(t,Ds,c=>i(3,n=c));let r=null,s=!0,o=!1;async function a(){try{const{accessToken:c,loading:u,loginError:f}=await Nd();if(u){i(1,s=!0);return}if(f){i(2,o=f),i(1,s=!1);return}if(c)i(0,r=await Rd(c)),await Oy();else throw new Error("No valid access token.")}catch(c){console.error("Error initializing page:",c),i(2,o=c),i(1,s=!1)}finally{i(1,s=!1)}}Id(()=>{a()});function l(){Bd()}return[r,s,o,n,l,()=>k0()]}class v2 extends Os{constructor(e){super(),Ps(this,e,m2,g2,lr,{})}}export{v2 as component};
