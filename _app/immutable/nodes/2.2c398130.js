var $m=Object.defineProperty;var qm=(e,t,i)=>t in e?$m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var bt=(e,t,i)=>(qm(e,typeof t!="symbol"?t+"":t,i),i),ua=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)};var N=(e,t,i)=>(ua(e,t,"read from private field"),i?i.call(e):t.get(e)),Wt=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},Bt=(e,t,i,n)=>(ua(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i);var Rs=(e,t,i,n)=>({set _(r){Bt(e,t,r,i)},get _(){return N(e,t,n)}}),It=(e,t,i)=>(ua(e,t,"access private method"),i);import{s as sr,n as Ae,r as ud,f as Yo,o as fd,b as dd,e as Gm,h as Km}from"../chunks/scheduler.f9c04a13.js";import{S as Bh,i as Nh,g as Dt,s as re,h as Lt,j as le,y as ve,c as se,f as Ft,k as Ot,a as Te,x as Pt,z as si,p as hs,t as kn,b as cs,d as En,m as xs,n as ks,o as Es,A as Mn,e as Nc,B as Fc,C as Qm,r as Uc,u as jc,v as Wc,D as Ds,w as Yc}from"../chunks/index.4554b1e8.js";import{w as pd}from"../chunks/index.58c9df35.js";function Xm(e){const t=e-1;return t*t*t+1}function An(e){return--e*e*e*e*e+1}function Tn(e,{delay:t=0,duration:i=400,easing:n=Xm,axis:r="y"}={}){const s=getComputedStyle(e),o=+s.opacity,a=r==="y"?"height":"width",l=parseFloat(s[a]),h=r==="y"?["top","bottom"]:["left","right"],c=h.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),u=parseFloat(s[`padding${c[0]}`]),f=parseFloat(s[`padding${c[1]}`]),d=parseFloat(s[`margin${c[0]}`]),g=parseFloat(s[`margin${c[1]}`]),y=parseFloat(s[`border${c[0]}Width`]),_=parseFloat(s[`border${c[1]}Width`]);return{delay:t,duration:i,easing:n,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${a}: ${v*l}px;padding-${h[0]}: ${v*u}px;padding-${h[1]}: ${v*f}px;margin-${h[0]}: ${v*d}px;margin-${h[1]}: ${v*g}px;border-${h[0]}-width: ${v*y}px;border-${h[1]}-width: ${v*_}px;`}}function Zm(e){let t=e[2],i,n=e[3],r,s,o="°",a=zc(e),l=Vc(e);return{c(){a.c(),i=re(),l.c(),r=re(),s=Dt("span"),s.textContent=o,this.h()},l(h){a.l(h),i=se(h),l.l(h),r=se(h),s=Lt(h,"SPAN",{class:!0,"data-svelte-h":!0}),ve(s)!=="svelte-umdtd2"&&(s.textContent=o),this.h()},h(){Ot(s,"class","text-7xl absolute ml-[7.7rem] -top-2 pointer-events-none")},m(h,c){a.m(h,c),Te(h,i,c),l.m(h,c),Te(h,r,c),Te(h,s,c)},p(h,c){c&4&&sr(t,t=h[2])?(hs(),kn(a,1,1,Ae),cs(),a=zc(h),a.c(),En(a,1),a.m(i.parentNode,i)):a.p(h,c),c&8&&sr(n,n=h[3])?(hs(),kn(l,1,1,Ae),cs(),l=Vc(h),l.c(),En(l,1),l.m(r.parentNode,r)):l.p(h,c)},d(h){h&&(Ft(i),Ft(r),Ft(s)),a.d(h),l.d(h)}}}function Jm(e){let t,i="Relativ temperatur",n,r=Math.abs(e[0]),s,o=e[3],a,l,h="°",c=Hc(e),u=$c(e);return{c(){t=Dt("span"),t.textContent=i,n=re(),c.c(),s=re(),u.c(),a=re(),l=Dt("span"),l.textContent=h,this.h()},l(f){t=Lt(f,"SPAN",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-1lr22o5"&&(t.textContent=i),n=se(f),c.l(f),s=se(f),u.l(f),a=se(f),l=Lt(f,"SPAN",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-umdtd2"&&(l.textContent=h),this.h()},h(){Ot(t,"class","absolute font-light text-sm -bottom-8"),Ot(l,"class","text-7xl absolute ml-[7.7rem] -top-2 pointer-events-none")},m(f,d){Te(f,t,d),Te(f,n,d),c.m(f,d),Te(f,s,d),u.m(f,d),Te(f,a,d),Te(f,l,d)},p(f,d){d&1&&sr(r,r=Math.abs(f[0]))?(hs(),kn(c,1,1,Ae),cs(),c=Hc(f),c.c(),En(c,1),c.m(s.parentNode,s)):c.p(f,d),d&8&&sr(o,o=f[3])?(hs(),kn(u,1,1,Ae),cs(),u=$c(f),u.c(),En(u,1),u.m(a.parentNode,a)):u.p(f,d)},d(f){f&&(Ft(t),Ft(n),Ft(s),Ft(a),Ft(l)),c.d(f),u.d(f)}}}function zc(e){let t,i,n,r,s;return{c(){t=Dt("span"),i=xs(e[2]),this.h()},l(o){t=Lt(o,"SPAN",{class:!0});var a=le(t);i=ks(a,e[2]),a.forEach(Ft),this.h()},h(){Ot(t,"class",n="text-8xl text-center absolute pointer-events-none "+(e[3]==""?"":"mr-[2.5rem]"))},m(o,a){Te(o,t,a),Pt(t,i),s=!0},p(o,a){(!s||a&4)&&Es(i,o[2]),(!s||a&8&&n!==(n="text-8xl text-center absolute pointer-events-none "+(o[3]==""?"":"mr-[2.5rem]")))&&Ot(t,"class",n)},i(o){s||(o&&Yo(()=>{s&&(r||(r=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!0)),r.run(1))}),s=!0)},o(o){o&&(r||(r=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!1)),r.run(0)),s=!1},d(o){o&&Ft(t),o&&r&&r.end()}}}function Vc(e){let t,i,n,r;return{c(){t=Dt("span"),i=xs(e[3]),this.h()},l(s){t=Lt(s,"SPAN",{class:!0});var o=le(t);i=ks(o,e[3]),o.forEach(Ft),this.h()},h(){Ot(t,"class","text-8xl text-center absolute pointer-events-none ml-[2.5rem]")},m(s,o){Te(s,t,o),Pt(t,i),r=!0},p(s,o){(!r||o&8)&&Es(i,s[3])},i(s){r||(s&&Yo(()=>{r&&(n||(n=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!0)),n.run(1))}),r=!0)},o(s){s&&(n||(n=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!1)),n.run(0)),r=!1},d(s){s&&Ft(t),s&&n&&n.end()}}}function Hc(e){let t,i=e[0]==0?"":e[0]<0?"-":"+",n,r,s;return{c(){t=Dt("span"),n=xs(i),this.h()},l(o){t=Lt(o,"SPAN",{class:!0});var a=le(t);n=ks(a,i),a.forEach(Ft),this.h()},h(){Ot(t,"class","text-5xl mt-3 text-center absolute pointer-events-none mr-[2.5rem]")},m(o,a){Te(o,t,a),Pt(t,n),s=!0},p(o,a){(!s||a&1)&&i!==(i=o[0]==0?"":o[0]<0?"-":"+")&&Es(n,i)},i(o){s||(o&&Yo(()=>{s&&(r||(r=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!0)),r.run(1))}),s=!0)},o(o){o&&(r||(r=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!1)),r.run(0)),s=!1},d(o){o&&Ft(t),o&&r&&r.end()}}}function $c(e){let t,i=(Math.abs(e[0])||"0")+"",n,r,s,o;return{c(){t=Dt("span"),n=xs(i),this.h()},l(a){t=Lt(a,"SPAN",{class:!0});var l=le(t);n=ks(l,i),l.forEach(Ft),this.h()},h(){Ot(t,"class",r="text-8xl text-center absolute pointer-events-none "+(e[0]==0?"":"ml-[2.5rem]"))},m(a,l){Te(a,t,l),Pt(t,n),o=!0},p(a,l){(!o||l&1)&&i!==(i=(Math.abs(a[0])||"0")+"")&&Es(n,i),(!o||l&1&&r!==(r="text-8xl text-center absolute pointer-events-none "+(a[0]==0?"":"ml-[2.5rem]")))&&Ot(t,"class",r)},i(a){o||(a&&Yo(()=>{o&&(s||(s=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!0)),s.run(1))}),o=!0)},o(a){a&&(s||(s=Mn(t,Tn,{delay:0,duration:300,easing:An,axis:"y"},!1)),s.run(0)),o=!1},d(a){a&&Ft(t),a&&s&&s.end()}}}function t0(e){let t,i,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-14 h-full mr-14"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg>',r,s,o,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="w-14 h-full ml-14"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',l,h;function c(d,g){return d[1]?Jm:Zm}let u=c(e),f=u(e);return{c(){t=Dt("div"),i=Dt("button"),i.innerHTML=n,r=re(),f.c(),s=re(),o=Dt("button"),o.innerHTML=a,this.h()},l(d){t=Lt(d,"DIV",{class:!0});var g=le(t);i=Lt(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(i)!=="svelte-18hpo7z"&&(i.innerHTML=n),r=se(g),f.l(g),s=se(g),o=Lt(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(o)!=="svelte-10rshqx"&&(o.innerHTML=a),g.forEach(Ft),this.h()},h(){Ot(i,"class","h-18 mt-6 mr-5 w-1/2 flex justify-end active:-translate-x-2 transition-transform duration-200"),Ot(o,"class","h-18 mt-6 ml-5 w-1/2 active:translate-x-2 transition-transform duration-200"),Ot(t,"class","w-full flex flex-row justify-center items-center drop-shadow-xl")},m(d,g){Te(d,t,g),Pt(t,i),Pt(t,r),f.m(t,null),Pt(t,s),Pt(t,o),l||(h=[si(i,"click",e[7]),si(o,"click",e[8])],l=!0)},p(d,[g]){u===(u=c(d))&&f?f.p(d,g):(f.d(1),f=u(d),f&&(f.c(),f.m(t,s)))},i:Ae,o:Ae,d(d){d&&Ft(t),f.d(),l=!1,ud(h)}}}function e0(e,t,i){let{temp:n="-"}=t,r,s,{tempMax:o}=t,{tempMin:a}=t,l=f=>{i(0,n+=f),n>o&&i(0,n=o),n<a&&i(0,n=a)},{relMode:h}=t;const c=()=>{n=="-"||l(-1)},u=()=>{n=="-"||l(1)};return e.$$set=f=>{"temp"in f&&i(0,n=f.temp),"tempMax"in f&&i(5,o=f.tempMax),"tempMin"in f&&i(6,a=f.tempMin),"relMode"in f&&i(1,h=f.relMode)},e.$$.update=()=>{e.$$.dirty&1&&i(2,r=n.toString().charAt(0)),e.$$.dirty&1&&i(3,s=n.toString().charAt(1))},[n,h,r,s,l,o,a,c,u]}class i0 extends Bh{constructor(t){super(),Nh(this,t,e0,t0,sr,{temp:0,tempMax:5,tempMin:6,relMode:1})}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ms(e){return e+.5|0}const mn=(e,t,i)=>Math.max(Math.min(e,i),t);function $r(e){return mn(Ms(e*2.55),0,255)}function Sn(e){return mn(Ms(e*255),0,255)}function Yi(e){return mn(Ms(e/2.55)/100,0,1)}function qc(e){return mn(Ms(e*100),0,100)}const ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Va=[..."0123456789ABCDEF"],n0=e=>Va[e&15],r0=e=>Va[(e&240)>>4]+Va[e&15],Ls=e=>(e&240)>>4===(e&15),s0=e=>Ls(e.r)&&Ls(e.g)&&Ls(e.b)&&Ls(e.a);function o0(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&ni[e[1]]*17,g:255&ni[e[2]]*17,b:255&ni[e[3]]*17,a:t===5?ni[e[4]]*17:255}:(t===7||t===9)&&(i={r:ni[e[1]]<<4|ni[e[2]],g:ni[e[3]]<<4|ni[e[4]],b:ni[e[5]]<<4|ni[e[6]],a:t===9?ni[e[7]]<<4|ni[e[8]]:255})),i}const a0=(e,t)=>e<255?t(e):"";function l0(e){var t=s0(e)?n0:r0;return e?"#"+t(e.r)+t(e.g)+t(e.b)+a0(e.a,t):void 0}const h0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gd(e,t,i){const n=t*Math.min(i,1-i),r=(s,o=(s+e/30)%12)=>i-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function c0(e,t,i){const n=(r,s=(r+e/60)%6)=>i-i*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function u0(e,t,i){const n=gd(e,1,.5);let r;for(t+i>1&&(r=1/(t+i),t*=r,i*=r),r=0;r<3;r++)n[r]*=1-t-i,n[r]+=t;return n}function f0(e,t,i,n,r){return e===r?(t-i)/n+(t<i?6:0):t===r?(i-e)/n+2:(e-t)/n+4}function Fh(e){const i=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(i,n,r),o=Math.min(i,n,r),a=(s+o)/2;let l,h,c;return s!==o&&(c=s-o,h=a>.5?c/(2-s-o):c/(s+o),l=f0(i,n,r,c,s),l=l*60+.5),[l|0,h||0,a]}function Uh(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(Sn)}function jh(e,t,i){return Uh(gd,e,t,i)}function d0(e,t,i){return Uh(u0,e,t,i)}function p0(e,t,i){return Uh(c0,e,t,i)}function md(e){return(e%360+360)%360}function g0(e){const t=h0.exec(e);let i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?$r(+t[5]):Sn(+t[5]));const r=md(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=d0(r,s,o):t[1]==="hsv"?n=p0(r,s,o):n=jh(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}function m0(e,t){var i=Fh(e);i[0]=md(i[0]+t),i=jh(i),e.r=i[0],e.g=i[1],e.b=i[2]}function b0(e){if(!e)return;const t=Fh(e),i=t[0],n=qc(t[1]),r=qc(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${r}%, ${Yi(e.a)})`:`hsl(${i}, ${n}%, ${r}%)`}const Gc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y0(){const e={},t=Object.keys(Kc),i=Object.keys(Gc);let n,r,s,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],r=0;r<i.length;r++)s=i[r],a=a.replace(s,Gc[s]);s=parseInt(Kc[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Bs;function _0(e){Bs||(Bs=y0(),Bs.transparent=[0,0,0,0]);const t=Bs[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const w0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function v0(e){const t=w0.exec(e);let i=255,n,r,s;if(t){if(t[7]!==n){const o=+t[7];i=t[8]?$r(o):mn(o*255,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?$r(n):mn(n,0,255)),r=255&(t[4]?$r(r):mn(r,0,255)),s=255&(t[6]?$r(s):mn(s,0,255)),{r:n,g:r,b:s,a:i}}}function S0(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Yi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const fa=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,pr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function x0(e,t,i){const n=pr(Yi(e.r)),r=pr(Yi(e.g)),s=pr(Yi(e.b));return{r:Sn(fa(n+i*(pr(Yi(t.r))-n))),g:Sn(fa(r+i*(pr(Yi(t.g))-r))),b:Sn(fa(s+i*(pr(Yi(t.b))-s))),a:e.a+i*(t.a-e.a)}}function Ns(e,t,i){if(e){let n=Fh(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=jh(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function bd(e,t){return e&&Object.assign(t||{},e)}function Qc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Sn(e[3]))):(t=bd(e,{r:0,g:0,b:0,a:1}),t.a=Sn(t.a)),t}function k0(e){return e.charAt(0)==="r"?v0(e):g0(e)}class us{constructor(t){if(t instanceof us)return t;const i=typeof t;let n;i==="object"?n=Qc(t):i==="string"&&(n=o0(t)||_0(t)||k0(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=bd(this._rgb);return t&&(t.a=Yi(t.a)),t}set rgb(t){this._rgb=Qc(t)}rgbString(){return this._valid?S0(this._rgb):void 0}hexString(){return this._valid?l0(this._rgb):void 0}hslString(){return this._valid?b0(this._rgb):void 0}mix(t,i){if(t){const n=this.rgb,r=t.rgb;let s;const o=i===s?.5:i,a=2*o-1,l=n.a-r.a,h=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-h,n.r=255&h*n.r+s*r.r+.5,n.g=255&h*n.g+s*r.g+.5,n.b=255&h*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=x0(this._rgb,t._rgb,i)),this}clone(){return new us(this.rgb)}alpha(t){return this._rgb.a=Sn(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=Ms(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ns(this._rgb,2,t),this}darken(t){return Ns(this._rgb,2,-t),this}saturate(t){return Ns(this._rgb,1,t),this}desaturate(t){return Ns(this._rgb,1,-t),this}rotate(t){return m0(this._rgb,t),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ci(){}const E0=(()=>{let e=0;return()=>e++})();function $t(e){return e===null||typeof e>"u"}function he(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function zt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ke(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Je(e,t){return ke(e)?e:t}function jt(e,t){return typeof e>"u"?t:e}const M0=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,yd=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function oe(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function Xt(e,t,i,n){let r,s,o;if(he(e))if(s=e.length,n)for(r=s-1;r>=0;r--)t.call(i,e[r],r);else for(r=0;r<s;r++)t.call(i,e[r],r);else if(zt(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(i,e[o[r]],o[r])}function ko(e,t){let i,n,r,s;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],s=t[i],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Eo(e){if(he(e))return e.map(Eo);if(zt(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let r=0;for(;r<n;++r)t[i[r]]=Eo(e[i[r]]);return t}return e}function _d(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function A0(e,t,i,n){if(!_d(e))return;const r=t[e],s=i[e];zt(r)&&zt(s)?fs(r,s,n):t[e]=Eo(s)}function fs(e,t,i){const n=he(t)?t:[t],r=n.length;if(!zt(e))return e;i=i||{};const s=i.merger||A0;let o;for(let a=0;a<r;++a){if(o=n[a],!zt(o))continue;const l=Object.keys(o);for(let h=0,c=l.length;h<c;++h)s(l[h],e,o,i)}return e}function es(e,t){return fs(e,t,{merger:T0})}function T0(e,t,i){if(!_d(e))return;const n=t[e],r=i[e];zt(n)&&zt(r)?es(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Eo(r))}const Xc={"":e=>e,x:e=>e.x,y:e=>e.y};function O0(e){const t=e.split("."),i=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function P0(e){const t=O0(e);return i=>{for(const n of t){if(n==="")break;i=i&&i[n]}return i}}function On(e,t){return(Xc[t]||(Xc[t]=P0(t)))(e)}function Wh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ds=e=>typeof e<"u",Pn=e=>typeof e=="function",Zc=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function I0(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ue=Math.PI,ce=2*ue,C0=ce+ue,Mo=Number.POSITIVE_INFINITY,R0=ue/180,Me=ue/2,Dn=ue/4,Jc=ue*2/3,bn=Math.log10,Ti=Math.sign;function is(e,t,i){return Math.abs(e-t)<i}function tu(e){const t=Math.round(e);e=is(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(bn(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function D0(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((r,s)=>r-s).pop(),t}function Mr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function L0(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function wd(e,t,i){let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n][i],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function pi(e){return e*(ue/180)}function Yh(e){return e*(180/ue)}function eu(e){if(!ke(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function vd(e,t){const i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n);let s=Math.atan2(n,i);return s<-.5*ue&&(s+=ce),{angle:s,distance:r}}function Ha(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function B0(e,t){return(e-t+C0)%ce-ue}function ei(e){return(e%ce+ce)%ce}function ps(e,t,i,n){const r=ei(e),s=ei(t),o=ei(i),a=ei(s-r),l=ei(o-r),h=ei(r-s),c=ei(r-o);return r===s||r===o||n&&s===o||a>l&&h<c}function Le(e,t,i){return Math.max(t,Math.min(i,e))}function N0(e){return Le(e,-32768,32767)}function Hi(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function zh(e,t,i){i=i||(o=>e[o]<t);let n=e.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,i(s)?r=s:n=s;return{lo:r,hi:n}}const $i=(e,t,i,n)=>zh(e,i,n?r=>{const s=e[r][t];return s<i||s===i&&e[r+1][t]===i}:r=>e[r][t]<i),F0=(e,t,i)=>zh(e,i,n=>e[n][t]>=i);function U0(e,t,i){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>i;)r--;return n>0||r<e.length?e.slice(n,r):e}const Sd=["push","pop","shift","splice","unshift"];function j0(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Sd.forEach(i=>{const n="_onData"+Wh(i),r=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function iu(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(Sd.forEach(s=>{delete e[s]}),delete e._chartjs)}function xd(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const kd=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Ed(e,t){let i=[],n=!1;return function(...r){i=r,n||(n=!0,kd.call(window,()=>{n=!1,e.apply(t,i)}))}}function W0(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}const Vh=e=>e==="start"?"left":e==="end"?"right":"center",Ye=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,Y0=(e,t,i,n)=>e===(n?"left":"right")?i:e==="center"?(t+i)/2:t;function Md(e,t,i){const n=t.length;let r=0,s=n;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:h,max:c,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(r=Le(Math.min($i(a,l,h).lo,i?n:$i(t,l,o.getPixelForValue(h)).lo),0,n-1)),f?s=Le(Math.max($i(a,o.axis,c,!0).hi+1,i?0:$i(t,l,o.getPixelForValue(c),!0).hi+1),r,n)-r:s=n-r}return{start:r,count:s}}function Ad(e){const{xScale:t,yScale:i,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=r,!0;const s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),s}const Fs=e=>e===0||e===1,nu=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ce/i)),ru=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*ce/i)+1,ns={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Me)+1,easeOutSine:e=>Math.sin(e*Me),easeInOutSine:e=>-.5*(Math.cos(ue*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Fs(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Fs(e)?e:nu(e,.075,.3),easeOutElastic:e=>Fs(e)?e:ru(e,.075,.3),easeInOutElastic(e){return Fs(e)?e:e<.5?.5*nu(e*2,.1125,.45):.5+.5*ru(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ns.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ns.easeInBounce(e*2)*.5:ns.easeOutBounce(e*2-1)*.5+.5};function Hh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function su(e){return Hh(e)?e:new us(e)}function da(e){return Hh(e)?e:new us(e).saturate(.5).darken(.1).hexString()}const z0=["x","y","borderWidth","radius","tension"],V0=["color","borderColor","backgroundColor"];function H0(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:V0},numbers:{type:"number",properties:z0}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $0(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ou=new Map;function q0(e,t){t=t||{};const i=e+JSON.stringify(t);let n=ou.get(i);return n||(n=new Intl.NumberFormat(e,t),ou.set(i,n)),n}function As(e,t,i){return q0(t,i).format(e)}const Td={values(e){return he(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const n=this.chart.options.locale;let r,s=e;if(i.length>1){const h=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=G0(e,i)}const o=bn(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),As(e,n,l)},logarithmic(e,t,i){if(e===0)return"0";const n=i[t].significand||e/Math.pow(10,Math.floor(bn(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?Td.numeric.call(this,e,t,i):""}};function G0(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var zo={formatters:Td};function K0(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const or=Object.create(null),$a=Object.create(null);function rs(e,t){if(!t)return e;const i=t.split(".");for(let n=0,r=i.length;n<r;++n){const s=i[n];e=e[s]||(e[s]=Object.create(null))}return e}function pa(e,t,i){return typeof t=="string"?fs(rs(e,t),i):fs(rs(e,""),t)}class Q0{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>da(r.backgroundColor),this.hoverBorderColor=(n,r)=>da(r.borderColor),this.hoverColor=(n,r)=>da(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return pa(this,t,i)}get(t){return rs(this,t)}describe(t,i){return pa($a,t,i)}override(t,i){return pa(or,t,i)}route(t,i,n,r){const s=rs(this,t),o=rs(this,n),a="_"+i;Object.defineProperties(s,{[a]:{value:s[i],writable:!0},[i]:{enumerable:!0,get(){const l=this[a],h=o[r];return zt(l)?Object.assign({},h,l):jt(l,h)},set(l){this[a]=l}}})}apply(t){t.forEach(i=>i(this))}}var _e=new Q0({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[H0,$0,K0]);function X0(e){return!e||$t(e.size)||$t(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ao(e,t,i,n,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,i.push(r)),s>n&&(n=s),n}function Z0(e,t,i,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},s=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let o=0;const a=i.length;let l,h,c,u,f;for(l=0;l<a;l++)if(u=i[l],u!=null&&!he(u))o=Ao(e,r,s,o,u);else if(he(u))for(h=0,c=u.length;h<c;h++)f=u[h],f!=null&&!he(f)&&(o=Ao(e,r,s,o,f));e.restore();const d=s.length/2;if(d>i.length){for(l=0;l<d;l++)delete r[s[l]];s.splice(0,d)}return o}function Ln(e,t,i){const n=e.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((t-r)*n)/n+r}function au(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function qa(e,t,i,n){Od(e,t,i,n,null)}function Od(e,t,i,n,r){let s,o,a,l,h,c,u,f;const d=t.pointStyle,g=t.rotation,y=t.radius;let _=(g||0)*R0;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(_),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),d){default:r?e.ellipse(i,n,r/2,y,0,0,ce):e.arc(i,n,y,0,ce),e.closePath();break;case"triangle":c=r?r/2:y,e.moveTo(i+Math.sin(_)*c,n-Math.cos(_)*y),_+=Jc,e.lineTo(i+Math.sin(_)*c,n-Math.cos(_)*y),_+=Jc,e.lineTo(i+Math.sin(_)*c,n-Math.cos(_)*y),e.closePath();break;case"rectRounded":h=y*.516,l=y-h,o=Math.cos(_+Dn)*l,u=Math.cos(_+Dn)*(r?r/2-h:l),a=Math.sin(_+Dn)*l,f=Math.sin(_+Dn)*(r?r/2-h:l),e.arc(i-u,n-a,h,_-ue,_-Me),e.arc(i+f,n-o,h,_-Me,_),e.arc(i+u,n+a,h,_,_+Me),e.arc(i-f,n+o,h,_+Me,_+ue),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=r?r/2:l,e.rect(i-c,n-l,2*c,2*l);break}_+=Dn;case"rectRot":u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(i-u,n-a),e.lineTo(i+f,n-o),e.lineTo(i+u,n+a),e.lineTo(i-f,n+o),e.closePath();break;case"crossRot":_+=Dn;case"cross":u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+f,n-o),e.lineTo(i-f,n+o);break;case"star":u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+f,n-o),e.lineTo(i-f,n+o),_+=Dn,u=Math.cos(_)*(r?r/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,f=Math.sin(_)*(r?r/2:y),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+f,n-o),e.lineTo(i-f,n+o);break;case"line":o=r?r/2:Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(i-o,n-a),e.lineTo(i+o,n+a);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(_)*(r?r/2:y),n+Math.sin(_)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function qi(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Vo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ho(e){e.restore()}function J0(e,t,i,n,r){if(!t)return e.lineTo(i.x,i.y);if(r==="middle"){const s=(t.x+i.x)/2;e.lineTo(s,t.y),e.lineTo(s,i.y)}else r==="after"!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function tb(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function eb(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),$t(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ib(e,t,i,n,r){if(r.strikethrough||r.underline){const s=e.measureText(n),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=i-s.actualBoundingBoxAscent,h=i+s.actualBoundingBoxDescent,c=r.strikethrough?(l+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function nb(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function ar(e,t,i,n,r,s={}){const o=he(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,h;for(e.save(),e.font=r.string,eb(e,s),l=0;l<o.length;++l)h=o[l],s.backdrop&&nb(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),$t(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(h,i,n,s.maxWidth)),e.fillText(h,i,n,s.maxWidth),ib(e,i,n,h,s),n+=Number(r.lineHeight);e.restore()}function gs(e,t){const{x:i,y:n,w:r,h:s,radius:o}=t;e.arc(i+o.topLeft,n+o.topLeft,o.topLeft,1.5*ue,ue,!0),e.lineTo(i,n+s-o.bottomLeft),e.arc(i+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,ue,Me,!0),e.lineTo(i+r-o.bottomRight,n+s),e.arc(i+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Me,0,!0),e.lineTo(i+r,n+o.topRight),e.arc(i+r-o.topRight,n+o.topRight,o.topRight,0,-Me,!0),e.lineTo(i+o.topLeft,n)}const rb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ob(e,t){const i=(""+e).match(rb);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const ab=e=>+e||0;function $h(e,t){const i={},n=zt(t),r=n?Object.keys(t):t,s=zt(e)?n?o=>jt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)i[o]=ab(s(o));return i}function Pd(e){return $h(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Jn(e){return $h(e,["topLeft","topRight","bottomLeft","bottomRight"])}function He(e){const t=Pd(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ie(e,t){e=e||{},t=t||_e.font;let i=jt(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=jt(e.style,t.style);n&&!(""+n).match(sb)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:jt(e.family,t.family),lineHeight:ob(jt(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:jt(e.weight,t.weight),string:""};return r.string=X0(r),r}function qr(e,t,i,n){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),i!==void 0&&he(a)&&(a=a[i%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function lb(e,t,i){const{min:n,max:r}=e,s=yd(t,(r-n)/2),o=(a,l)=>i&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function In(e,t){return Object.assign(Object.create(e),t)}function qh(e,t=[""],i,n,r=()=>e[0]){const s=i||e;typeof n>"u"&&(n=Dd("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:a=>qh([a,...e],t,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Cd(a,l,()=>mb(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return hu(a).includes(l)},ownKeys(a){return hu(a)},set(a,l,h){const c=a._storage||(a._storage=r());return a[l]=c[l]=h,delete a._keys,!0}})}function Ar(e,t,i,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Id(e,n),setContext:s=>Ar(e,s,i,n),override:s=>Ar(e.override(s),t,i,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Cd(s,o,()=>cb(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function Id(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:n,isScriptable:Pn(i)?i:()=>i,isIndexable:Pn(n)?n:()=>n}}const hb=(e,t)=>e?e+Wh(t):t,Gh=(e,t)=>zt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Cd(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=i();return e[t]=n,n}function cb(e,t,i){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=e;let a=n[t];return Pn(a)&&o.isScriptable(t)&&(a=ub(t,a,e,i)),he(a)&&a.length&&(a=fb(t,a,e,o.isIndexable)),Gh(t,a)&&(a=Ar(a,r,s&&s[t],o)),a}function ub(e,t,i,n){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||n);return a.delete(e),Gh(e,l)&&(l=Kh(r._scopes,r,e,l)),l}function fb(e,t,i,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=i;if(typeof s.index<"u"&&n(e))return t[s.index%t.length];if(zt(t[0])){const l=t,h=r._scopes.filter(c=>c!==l);t=[];for(const c of l){const u=Kh(h,r,e,c);t.push(Ar(u,s,o&&o[e],a))}}return t}function Rd(e,t,i){return Pn(e)?e(t,i):e}const db=(e,t)=>e===!0?t:typeof e=="string"?On(t,e):void 0;function pb(e,t,i,n,r){for(const s of t){const o=db(i,s);if(o){e.add(o);const a=Rd(o._fallback,i,r);if(typeof a<"u"&&a!==i&&a!==n)return a}else if(o===!1&&typeof n<"u"&&i!==n)return null}return!1}function Kh(e,t,i,n){const r=t._rootScopes,s=Rd(t._fallback,i,n),o=[...e,...r],a=new Set;a.add(n);let l=lu(a,o,i,s||i,n);return l===null||typeof s<"u"&&s!==i&&(l=lu(a,o,s,l,n),l===null)?!1:qh(Array.from(a),[""],r,s,()=>gb(t,i,n))}function lu(e,t,i,n,r){for(;i;)i=pb(e,t,i,n,r);return i}function gb(e,t,i){const n=e._getTarget();t in n||(n[t]={});const r=n[t];return he(r)&&zt(i)?i:r||{}}function mb(e,t,i,n){let r;for(const s of t)if(r=Dd(hb(s,e),i),typeof r<"u")return Gh(e,r)?Kh(i,n,e,r):r}function Dd(e,t){for(const i of t){if(!i)continue;const n=i[e];if(typeof n<"u")return n}}function hu(e){let t=e._keys;return t||(t=e._keys=bb(e._scopes)),t}function bb(e){const t=new Set;for(const i of e)for(const n of Object.keys(i).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function Ld(e,t,i,n){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(n);let a,l,h,c;for(a=0,l=n;a<l;++a)h=a+i,c=t[h],o[a]={r:r.parse(On(c,s),h)};return o}const yb=Number.EPSILON||1e-14,Tr=(e,t)=>t<e.length&&!e[t].skip&&e[t],Bd=e=>e==="x"?"y":"x";function _b(e,t,i,n){const r=e.skip?t:e,s=t,o=i.skip?t:i,a=Ha(s,r),l=Ha(o,s);let h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const u=n*h,f=n*c;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function wb(e,t,i){const n=e.length;let r,s,o,a,l,h=Tr(e,0);for(let c=0;c<n-1;++c)if(l=h,h=Tr(e,c+1),!(!l||!h)){if(is(t[c],0,yb)){i[c]=i[c+1]=0;continue}r=i[c]/t[c],s=i[c+1]/t[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),i[c]=r*o*t[c],i[c+1]=s*o*t[c])}}function vb(e,t,i="x"){const n=Bd(i),r=e.length;let s,o,a,l=Tr(e,0);for(let h=0;h<r;++h){if(o=a,a=l,l=Tr(e,h+1),!a)continue;const c=a[i],u=a[n];o&&(s=(c-o[i])/3,a[`cp1${i}`]=c-s,a[`cp1${n}`]=u-s*t[h]),l&&(s=(l[i]-c)/3,a[`cp2${i}`]=c+s,a[`cp2${n}`]=u+s*t[h])}}function Sb(e,t="x"){const i=Bd(t),n=e.length,r=Array(n).fill(0),s=Array(n);let o,a,l,h=Tr(e,0);for(o=0;o<n;++o)if(a=l,l=h,h=Tr(e,o+1),!!l){if(h){const c=h[t]-l[t];r[o]=c!==0?(h[i]-l[i])/c:0}s[o]=a?h?Ti(r[o-1])!==Ti(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}wb(e,r,s),vb(e,s,t)}function Us(e,t,i){return Math.max(Math.min(e,i),t)}function xb(e,t){let i,n,r,s,o,a=qi(e[0],t);for(i=0,n=e.length;i<n;++i)o=s,s=a,a=i<n-1&&qi(e[i+1],t),s&&(r=e[i],o&&(r.cp1x=Us(r.cp1x,t.left,t.right),r.cp1y=Us(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Us(r.cp2x,t.left,t.right),r.cp2y=Us(r.cp2y,t.top,t.bottom)))}function kb(e,t,i,n,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")Sb(e,r);else{let h=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=_b(h,a,e[Math.min(s+1,o-(n?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,h=a}t.capBezierPoints&&xb(e,i)}function Qh(){return typeof window<"u"&&typeof document<"u"}function Xh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function To(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}const $o=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Eb(e,t){return $o(e).getPropertyValue(t)}const Mb=["top","right","bottom","left"];function tr(e,t,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const s=Mb[r];n[s]=parseFloat(e[t+"-"+s+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Ab=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function Tb(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:r,offsetY:s}=n;let o=!1,a,l;if(Ab(r,s,e.target))a=r,l=s;else{const h=t.getBoundingClientRect();a=n.clientX-h.left,l=n.clientY-h.top,o=!0}return{x:a,y:l,box:o}}function Hn(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,r=$o(i),s=r.boxSizing==="border-box",o=tr(r,"padding"),a=tr(r,"border","width"),{x:l,y:h,box:c}=Tb(e,i),u=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:g}=t;return s&&(d-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/d*i.width/n),y:Math.round((h-f)/g*i.height/n)}}function Ob(e,t,i){let n,r;if(t===void 0||i===void 0){const s=e&&Xh(e);if(!s)t=e.clientWidth,i=e.clientHeight;else{const o=s.getBoundingClientRect(),a=$o(s),l=tr(a,"border","width"),h=tr(a,"padding");t=o.width-h.width-l.width,i=o.height-h.height-l.height,n=To(a.maxWidth,s,"clientWidth"),r=To(a.maxHeight,s,"clientHeight")}}return{width:t,height:i,maxWidth:n||Mo,maxHeight:r||Mo}}const js=e=>Math.round(e*10)/10;function Pb(e,t,i,n){const r=$o(e),s=tr(r,"margin"),o=To(r.maxWidth,e,"clientWidth")||Mo,a=To(r.maxHeight,e,"clientHeight")||Mo,l=Ob(e,t,i);let{width:h,height:c}=l;if(r.boxSizing==="content-box"){const f=tr(r,"border","width"),d=tr(r,"padding");h-=d.width+f.width,c-=d.height+f.height}return h=Math.max(0,h-s.width),c=Math.max(0,n?h/n:c-s.height),h=js(Math.min(h,o,l.maxWidth)),c=js(Math.min(c,a,l.maxHeight)),h&&!c&&(c=js(h/2)),(t!==void 0||i!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,h=js(Math.floor(c*n))),{width:h,height:c}}function cu(e,t,i){const n=t||1,r=Math.floor(e.height*n),s=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=n,o.height=r,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Ib=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function uu(e,t){const i=Eb(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function $n(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function Cb(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:n==="middle"?i<.5?e.y:t.y:n==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function Rb(e,t,i,n){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=$n(e,r,i),a=$n(r,s,i),l=$n(s,t,i),h=$n(o,a,i),c=$n(a,l,i);return $n(h,c,i)}const Db=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},Lb=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Sr(e,t,i){return e?Db(t,i):Lb()}function Nd(e,t){let i,n;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Fd(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ud(e){return e==="angle"?{between:ps,compare:B0,normalize:ei}:{between:Hi,compare:(t,i)=>t-i,normalize:t=>t}}function fu({start:e,end:t,count:i,loop:n,style:r}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i===0,style:r}}function Bb(e,t,i){const{property:n,start:r,end:s}=i,{between:o,normalize:a}=Ud(n),l=t.length;let{start:h,end:c,loop:u}=e,f,d;if(u){for(h+=l,c+=l,f=0,d=l;f<d&&o(a(t[h%l][n]),r,s);++f)h--,c--;h%=l,c%=l}return c<h&&(c+=l),{start:h,end:c,loop:u,style:e.style}}function jd(e,t,i){if(!i)return[e];const{property:n,start:r,end:s}=i,o=t.length,{compare:a,between:l,normalize:h}=Ud(n),{start:c,end:u,loop:f,style:d}=Bb(e,t,i),g=[];let y=!1,_=null,v,w,S;const M=()=>l(r,S,v)&&a(r,S)!==0,T=()=>a(s,v)===0||l(s,S,v),E=()=>y||M(),k=()=>!y||T();for(let O=c,F=c;O<=u;++O)w=t[O%o],!w.skip&&(v=h(w[n]),v!==S&&(y=l(v,r,s),_===null&&E()&&(_=a(v,r)===0?O:F),_!==null&&k()&&(g.push(fu({start:_,end:O,loop:f,count:o,style:d})),_=null),F=O,S=v));return _!==null&&g.push(fu({start:_,end:u,loop:f,count:o,style:d})),g}function Wd(e,t){const i=[],n=e.segments;for(let r=0;r<n.length;r++){const s=jd(n[r],e.points,t);s.length&&i.push(...s)}return i}function Nb(e,t,i,n){let r=0,s=t-1;if(i&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,i&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function Fb(e,t,i,n){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=i;++l){const h=e[l%r];h.skip||h.stop?a.skip||(n=!1,s.push({start:t%r,end:(l-1)%r,loop:n}),t=o=h.stop?l:null):(o=l,a.skip&&(t=l)),a=h}return o!==null&&s.push({start:t%r,end:o%r,loop:n}),s}function Ub(e,t){const i=e.points,n=e.options.spanGaps,r=i.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=Nb(i,r,s,n);if(n===!0)return du(e,[{start:o,end:a,loop:s}],i,t);const l=a<o?a+r:a,h=!!e._fullLoop&&o===0&&a===r-1;return du(e,Fb(i,o,l,h),i,t)}function du(e,t,i,n){return!n||!n.setContext||!i?t:jb(e,t,i,n)}function jb(e,t,i,n){const r=e._chart.getContext(),s=pu(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=i.length,h=[];let c=s,u=t[0].start,f=u;function d(g,y,_,v){const w=a?-1:1;if(g!==y){for(g+=l;i[g%l].skip;)g-=w;for(;i[y%l].skip;)y+=w;g%l!==y%l&&(h.push({start:g%l,end:y%l,loop:_,style:v}),c=v,u=y%l)}}for(const g of t){u=a?u:g.start;let y=i[u%l],_;for(f=u+1;f<=g.end;f++){const v=i[f%l];_=pu(n.setContext(In(r,{type:"segment",p0:y,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Wb(_,c)&&d(u,f-1,g.loop,c),y=v,c=_}u<f-1&&d(u,f-1,g.loop,c)}return h}function pu(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Wb(e,t){if(!t)return!1;const i=[],n=function(r,s){return Hh(s)?(i.includes(s)||i.push(s),i.indexOf(s)):s};return JSON.stringify(e,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Yb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,r){const s=i.listeners[r],o=i.duration;s.forEach(a=>a({chart:t,initial:i.initial,numSteps:o,currentStep:Math.min(n-i.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=kd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),s.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),i+=s.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const n=i.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Li=new Yb;const gu="transparent",zb={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const n=su(e||gu),r=n.valid&&su(t||gu);return r&&r.valid?r.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class Vb{constructor(t,i,n,r){const s=i[n];r=qr([t.to,r,s,t.from]);const o=qr([t.from,s,r]);this._active=!0,this._fn=t.fn||zb[t.type||typeof o],this._easing=ns[t.easing]||ns.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=qr([t.to,i,r,t.from]),this._from=qr([t.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||i<n),!this._active){this._target[r]=a,this._notify(!0);return}if(i<0){this._target[r]=s;return}l=i/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){const i=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}}class Yd{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!zt(t))return;const i=Object.keys(_e.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!zt(s))return;const o={};for(const a of i)o[a]=s[a];(he(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,i){const n=i.options,r=$b(t,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&Hb(t.options.$animations,n).then(()=>{t.options=n},()=>{}),s}_createAnimations(t,i){const n=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(i),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const h=o[l];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(t,i));continue}const c=i[h];let u=s[h];const f=n.get(h);if(u)if(f&&u.active()){u.update(f,c,a);continue}else u.cancel();if(!f||!f.duration){t[h]=c;continue}s[h]=u=new Vb(f,t,h,c),r.push(u)}return r}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const n=this._createAnimations(t,i);if(n.length)return Li.add(this._chart,n),!0}}function Hb(e,t){const i=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const s=e[n[r]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)}function $b(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function mu(e,t){const i=e&&e.options||{},n=i.reverse,r=i.min===void 0?t:0,s=i.max===void 0?t:0;return{start:n?s:r,end:n?r:s}}function qb(e,t,i){if(i===!1)return!1;const n=mu(e,i),r=mu(t,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Gb(e){let t,i,n,r;return zt(e)?(t=e.top,i=e.right,n=e.bottom,r=e.left):t=i=n=r=e,{top:t,right:i,bottom:n,left:r,disabled:e===!1}}function zd(e,t){const i=[],n=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=n.length;r<s;++r)i.push(n[r].index);return i}function bu(e,t,i,n={}){const r=e.keys,s=n.mode==="single";let o,a,l,h;if(t===null)return;let c=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===i){if(c=!0,n.all)continue;break}h=e.values[l],ke(h)&&(s||t===0||Ti(t)===Ti(h))&&(t+=h)}return!c&&!n.all?0:t}function Kb(e,t){const{iScale:i,vScale:n}=t,r=i.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,h,c;for(l=0,h=o.length;l<h;++l)c=o[l],a[l]={[r]:c,[s]:e[c]};return a}function ga(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function Qb(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function Xb(e){const{min:t,max:i,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function Zb(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function yu(e,t,i,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const s=e[r.index];if(i&&s>0||!i&&s<0)return r.index}return null}function _u(e,t){const{chart:i,_cachedMeta:n}=e,r=i._stacks||(i._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,h=o.axis,c=Qb(s,o,n),u=t.length;let f;for(let d=0;d<u;++d){const g=t[d],{[l]:y,[h]:_}=g,v=g._stacks||(g._stacks={});f=v[h]=Zb(r,c,y),f[a]=_,f._top=yu(f,o,!0,n.type),f._bottom=yu(f,o,!1,n.type);const w=f._visualValues||(f._visualValues={});w[a]=_}}function ma(e,t){const i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function Jb(e,t){return In(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ty(e,t,i){return In(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Lr(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[n]===void 0||s[n][i]===void 0)return;delete s[n][i],s[n]._visualValues!==void 0&&s[n]._visualValues[i]!==void 0&&delete s[n]._visualValues[i]}}}const ba=e=>e==="reset"||e==="none",wu=(e,t)=>t?e:Object.assign({},e),ey=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:zd(i,!0),values:null};class mi{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ga(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Lr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),r=(u,f,d,g)=>u==="x"?f:u==="r"?g:d,s=i.xAxisID=jt(n.xAxisID,ma(t,"x")),o=i.yAxisID=jt(n.yAxisID,ma(t,"y")),a=i.rAxisID=jt(n.rAxisID,ma(t,"r")),l=i.indexAxis,h=i.iAxisID=r(l,s,o,a),c=i.vAxisID=r(l,o,s,a);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(o),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(h),i.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&iu(this._data,this),t._stacked&&Lr(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(zt(i)){const r=this._cachedMeta;this._data=Kb(i,r)}else if(n!==i){if(n){iu(n,this);const r=this._cachedMeta;Lr(r),r._parsed=[]}i&&Object.isExtensible(i)&&j0(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=i._stacked;i._stacked=ga(i.vScale,i),i.stack!==n.stack&&(r=!0,Lr(i),i.stack=n.stack),this._resyncElements(t),(r||s!==i._stacked)&&(_u(this,i._parsed),i._stacked=ga(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=t===0&&i===r.length?!0:n._sorted,h=t>0&&n._parsed[t-1],c,u,f;if(this._parsing===!1)n._parsed=r,n._sorted=!0,f=r;else{he(r[t])?f=this.parseArrayData(n,r,t,i):zt(r[t])?f=this.parseObjectData(n,r,t,i):f=this.parsePrimitiveData(n,r,t,i);const d=()=>u[a]===null||h&&u[a]<h[a];for(c=0;c<i;++c)n._parsed[c+t]=u=f[c],l&&(d()&&(l=!1),h=u);n._sorted=l}o&&_u(this,f)}parsePrimitiveData(t,i,n,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,h=s.getLabels(),c=s===o,u=new Array(r);let f,d,g;for(f=0,d=r;f<d;++f)g=f+n,u[f]={[a]:c||s.parse(h[g],g),[l]:o.parse(i[g],g)};return u}parseArrayData(t,i,n,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,h,c,u;for(l=0,h=r;l<h;++l)c=l+n,u=i[c],a[l]={x:s.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(t,i,n,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,h=new Array(r);let c,u,f,d;for(c=0,u=r;c<u;++c)f=c+n,d=i[f],h[c]={x:s.parse(On(d,a),f),y:o.parse(On(d,l),f)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const r=this.chart,s=this._cachedMeta,o=i[t.axis],a={keys:zd(r,!0),values:i._stacks[t.axis]._visualValues};return bu(a,o,s.index,{mode:n})}updateRangeFromParsed(t,i,n,r){const s=n[i.axis];let o=s===null?NaN:s;const a=r&&n._stacks[i.axis];r&&a&&(r.values=a,o=bu(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,i){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),l=ey(i,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=Xb(a);let f,d;function g(){d=r[f];const y=d[a.axis];return!ke(d[t.axis])||c>y||u<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(h,t,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(h,t,d,l);break}}return h}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let r,s,o;for(r=0,s=i.length;r<s;++r)o=i[r][t.axis],ke(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,r=i.vScale,s=this.getParsed(t);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=Gb(jt(this.options.clip,qb(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],s=i.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,h=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,s,a,l),c=a;c<a+l;++c){const u=r[c];u.hidden||(u.active&&h?o.push(u):u.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,i){const n=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=ty(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=Jb(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=n,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const r=i==="active",s=this._cachedDataOpts,o=t+"-"+i,a=s[o],l=this.enableOptionSharing&&ds(n);if(a)return wu(a,l);const h=this.chart.config,c=h.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],f=h.getOptionScopes(this.getDataset(),c),d=Object.keys(_e.elements[t]),g=()=>this.getContext(n,r,i),y=h.resolveNamedOptions(f,d,g,u);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(wu(y,l))),y}_resolveAnimations(t,i,n){const r=this.chart,s=this._cachedDataOpts,o=`animation-${i}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,i),f=c.getOptionScopes(this.getDataset(),u);l=c.createResolver(f,this.getContext(t,n,i))}const h=new Yd(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||ba(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),r=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(i,s)||s!==r;return this.updateSharedOptions(s,i,n),{sharedOptions:s,includeOptions:o}}updateElement(t,i,n,r){ba(r)?Object.assign(t,n):this._resolveAnimations(i,r).update(t,n)}updateSharedOptions(t,i,n){t&&!ba(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,r){t.active=r;const s=this.getStyle(i,r);this._resolveAnimations(i,n,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[a,l,h]of this._syncList)this[a](l,h);this._syncList=[];const r=n.length,s=i.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,i,n=!0){const r=this._cachedMeta,s=r.data,o=t+i;let a;const l=h=>{for(h.length+=i,a=h.length-1;a>=o;a--)h[a]=h[a-i]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,i),n&&this.updateElements(s,t,i,"reset")}updateElements(t,i,n,r){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,i);n._stacked&&Lr(n,r)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,r]=t;this[i](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(mi,"defaults",{}),bt(mi,"datasetElementType",null),bt(mi,"dataElementType",null);function iy(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let n=[];for(let r=0,s=i.length;r<s;r++)n=n.concat(i[r].controller.getAllParsedValues(e));e._cache.$bar=xd(n.sort((r,s)=>r-s))}return e._cache.$bar}function ny(e){const t=e.iScale,i=iy(t,e.type);let n=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(ds(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=i.length;r<s;++r)o=t.getPixelForValue(i[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return n}function ry(e,t,i,n){const r=i.barThickness;let s,o;return $t(r)?(s=t.min*i.categoryPercentage,o=i.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[e]-s/2}}function sy(e,t,i,n){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=i.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const h=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:i.barPercentage,start:h}}function oy(e,t,i,n){const r=i.parse(e[0],n),s=i.parse(e[1],n),o=Math.min(r,s),a=Math.max(r,s);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),t[i.axis]=h,t._custom={barStart:l,barEnd:h,start:r,end:s,min:o,max:a}}function Vd(e,t,i,n){return he(e)?oy(e,t,i,n):t[i.axis]=i.parse(e,n),t}function vu(e,t,i,n){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let h,c,u,f;for(h=i,c=i+n;h<c;++h)f=t[h],u={},u[r.axis]=a||r.parse(o[h],h),l.push(Vd(f,u,s,h));return l}function ya(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function ay(e,t,i){return e!==0?Ti(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function ly(e){let t,i,n,r,s;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(r="end",s="start"):(r="start",s="end"),{start:i,end:n,reverse:t,top:r,bottom:s}}function hy(e,t,i,n){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:h,bottom:c}=ly(e);r==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?r=h:(i._bottom||0)===n?r=c:(s[Su(c,o,a,l)]=!0,r=h)),s[Su(r,o,a,l)]=!0,e.borderSkipped=s}function Su(e,t,i,n){return n?(e=cy(e,t,i),e=xu(e,i,t)):e=xu(e,t,i),e}function cy(e,t,i){return e===t?i:e===i?t:e}function xu(e,t,i){return e==="start"?t:e==="end"?i:e}function uy(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}class no extends mi{parsePrimitiveData(t,i,n,r){return vu(t,i,n,r)}parseArrayData(t,i,n,r){return vu(t,i,n,r)}parseObjectData(t,i,n,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,h=s.axis==="x"?a:l,c=o.axis==="x"?a:l,u=[];let f,d,g,y;for(f=n,d=n+r;f<d;++f)y=i[f],g={},g[s.axis]=s.parse(On(y,h),f),u.push(Vd(On(y,c),g,o,f));return u}updateRangeFromParsed(t,i,n,r){super.updateRangeFromParsed(t,i,n,r);const s=n._custom;s&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:n,vScale:r}=i,s=this.getParsed(t),o=s._custom,a=ya(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,n,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),h=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,r);for(let d=i;d<i+n;d++){const g=this.getParsed(d),y=s||$t(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),_=this._calculateBarIndexPixels(d,c),v=(g._stacks||{})[a.axis],w={horizontal:h,base:y.base,enableBorderRadius:!v||ya(g._custom)||o===v._top||o===v._bottom,x:h?y.head:_.center,y:h?_.center:y.head,height:h?_.size:Math.abs(y.size),width:h?Math.abs(y.size):_.size};f&&(w.options=u||this.resolveDataElementOptions(d,t[d].active?"active":r));const S=w.options||t[d].options;hy(w,S,v,o),uy(w,S,c.ratio),this.updateElement(t[d],d,w,r)}}_getStacks(t,i){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(i),l=a&&a[n.axis],h=c=>{const u=c._parsed.find(d=>d[n.axis]===l),f=u&&u[c.vScale.axis];if($t(f)||isNaN(f))return!0};for(const c of r)if(!(i!==void 0&&h(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,n){const r=this._getStacks(t,n),s=i!==void 0?r.indexOf(i):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,i=this._cachedMeta,n=i.iScale,r=[];let s,o;for(s=0,o=i.data.length;s<o;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=t.barThickness;return{min:a||ny(i),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:n,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),h=l._custom,c=ya(h);let u=l[i.axis],f=0,d=n?this.applyStack(i,l,n):u,g,y;d!==u&&(f=d-u,d=u),c&&(u=h.barStart,d=h.barEnd-h.barStart,u!==0&&Ti(u)!==Ti(h.barEnd)&&(f=0),f+=u);const _=!$t(s)&&!c?s:f;let v=i.getPixelForValue(_);if(this.chart.getDataVisibility(t)?g=i.getPixelForValue(f+d):g=v,y=g-v,Math.abs(y)<o){y=ay(y,i,a)*o,u===a&&(v-=y/2);const w=i.getPixelForDecimal(0),S=i.getPixelForDecimal(1),M=Math.min(w,S),T=Math.max(w,S);v=Math.max(Math.min(v,T),M),g=v+y,n&&!c&&(l._stacks[i.axis]._visualValues[r]=i.getValueForPixel(g)-i.getValueForPixel(v))}if(v===i.getPixelForValue(a)){const w=Ti(y)*i.getLineWidthForValue(a)/2;v+=w,y-=w}return{size:y,base:v,head:g,center:g+y/2}}_calculateBarIndexPixels(t,i){const n=i.scale,r=this.options,s=r.skipNull,o=jt(r.maxBarThickness,1/0);let a,l;if(i.grouped){const h=s?this._getStackCount(t):i.stackCount,c=r.barThickness==="flex"?sy(t,i,r,h):ry(t,i,r,h),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=c.start+c.chunk*u+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(o,i.min*i.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,i=t.vScale,n=t.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[i.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}bt(no,"id","bar"),bt(no,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),bt(no,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ro extends mi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,n,r){const s=super.parsePrimitiveData(t,i,n,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+n).radius;return s}parseArrayData(t,i,n,r){const s=super.parseArrayData(t,i,n,r);for(let o=0;o<s.length;o++){const a=i[n+o];s[o]._custom=jt(a[2],this.resolveDataElementOptions(o+n).radius)}return s}parseObjectData(t,i,n,r){const s=super.parseObjectData(t,i,n,r);for(let o=0;o<s.length;o++){const a=i[n+o];s[o]._custom=jt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+n).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let n=t.length-1;n>=0;--n)i=Math.max(i,t[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=i,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),h=o._custom;return{label:n[t]||"",value:"("+a+", "+l+(h?", "+h:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,n,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:h}=this._getSharedOptions(i,r),c=o.axis,u=a.axis;for(let f=i;f<i+n;f++){const d=t[f],g=!s&&this.getParsed(f),y={},_=y[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[c]),v=y[u]=s?a.getBasePixel():a.getPixelForValue(g[u]);y.skip=isNaN(_)||isNaN(v),h&&(y.options=l||this.resolveDataElementOptions(f,d.active?"active":r),s&&(y.options.radius=0)),this.updateElement(d,f,y,r)}}resolveDataElementOptions(t,i){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return i!=="active"&&(r.radius=0),r.radius+=jt(n&&n._custom,s),r}}bt(ro,"id","bubble"),bt(ro,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),bt(ro,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function fy(e,t,i){let n=1,r=1,s=0,o=0;if(t<ce){const a=e,l=a+t,h=Math.cos(a),c=Math.sin(a),u=Math.cos(l),f=Math.sin(l),d=(S,M,T)=>ps(S,a,l,!0)?1:Math.max(M,M*i,T,T*i),g=(S,M,T)=>ps(S,a,l,!0)?-1:Math.min(M,M*i,T,T*i),y=d(0,h,u),_=d(Me,c,f),v=g(ue,h,u),w=g(ue+Me,c,f);n=(y-v)/2,r=(_-w)/2,s=-(y+v)/2,o=-(_+w)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}class Kn extends mi{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=l=>+n[l];if(zt(n[t])){const{key:l="value"}=this._parsing;s=h=>+On(n[h],l)}let o,a;for(o=t,a=t+i;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return pi(this.options.rotation-90)}_getCircumference(){return pi(this.options.circumference)}_getRotationExtents(){let t=ce,i=-ce;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),i=Math.max(i,s+o)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:n}=i,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(M0(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:g,offsetY:y}=fy(u,c,l),_=(n.width-o)/f,v=(n.height-o)/d,w=Math.max(Math.min(_,v)/2,0),S=yd(this.options.radius,w),M=Math.max(S*l,0),T=(S-M)/this._getVisibleDatasetWeightTotal();this.offsetX=g*S,this.offsetY=y*S,r.total=this.calculateTotal(),this.outerRadius=S-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*h,0),this.updateElements(s,0,s.length,t)}_circumference(t,i){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/ce)}updateElements(t,i,n,r){const s=r==="reset",o=this.chart,a=o.chartArea,h=o.options.animation,c=(a.left+a.right)/2,u=(a.top+a.bottom)/2,f=s&&h.animateScale,d=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(i,r);let v=this._getRotation(),w;for(w=0;w<i;++w)v+=this._circumference(w,s);for(w=i;w<i+n;++w){const S=this._circumference(w,s),M=t[w],T={x:c+this.offsetX,y:u+this.offsetY,startAngle:v,endAngle:v+S,circumference:S,outerRadius:g,innerRadius:d};_&&(T.options=y||this.resolveDataElementOptions(w,M.active?"active":r)),v+=S,this.updateElement(M,w,T,r)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let n=0,r;for(r=0;r<i.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?ce*(Math.abs(t)/i):0}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=As(i._parsed[t],n.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let i=0;const n=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let n=0,r=t.length;n<r;++n){const s=this.resolveDataElementOptions(n);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(t){return Math.max(jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}bt(Kn,"id","doughnut"),bt(Kn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),bt(Kn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),bt(Kn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return i.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}});class so extends mi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=i,o=this.chart._animationsDisabled;let{start:a,count:l}=Md(i,r,o);this._drawStart=a,this._drawCount=l,Ad(i)&&(a=0,l=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:h},t),this.updateElements(r,a,l,t)}updateElements(t,i,n,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,r),f=o.axis,d=a.axis,{spanGaps:g,segment:y}=this.options,_=Mr(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",w=i+n,S=t.length;let M=i>0&&this.getParsed(i-1);for(let T=0;T<S;++T){const E=t[T],k=v?E:{};if(T<i||T>=w){k.skip=!0;continue}const O=this.getParsed(T),F=$t(O[d]),V=k[f]=o.getPixelForValue(O[f],T),q=k[d]=s||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[d],T);k.skip=isNaN(V)||isNaN(q)||F,k.stop=T>0&&Math.abs(O[f]-M[f])>_,y&&(k.parsed=O,k.raw=h.data[T]),u&&(k.options=c||this.resolveDataElementOptions(T,E.active?"active":r)),v||this.updateElement(E,T,k,r),M=O}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}bt(so,"id","line"),bt(so,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),bt(so,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ss extends mi{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=As(i._parsed[t].r,n.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,i,n,r){return Ld.bind(this)(t,i,n,r)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,n=t.options,r=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(r/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,i,n,r){const s=r==="reset",o=this.chart,l=o.options.animation,h=this._cachedMeta.rScale,c=h.xCenter,u=h.yCenter,f=h.getIndexAngle(0)-.5*ue;let d=f,g;const y=360/this.countVisibleElements();for(g=0;g<i;++g)d+=this._computeAngle(g,r,y);for(g=i;g<i+n;g++){const _=t[g];let v=d,w=d+this._computeAngle(g,r,y),S=o.getDataVisibility(g)?h.getDistanceFromCenterForValue(this.getParsed(g).r):0;d=w,s&&(l.animateScale&&(S=0),l.animateRotate&&(v=w=f));const M={x:c,y:u,innerRadius:0,outerRadius:S,startAngle:v,endAngle:w,options:this.resolveDataElementOptions(g,_.active?"active":r)};this.updateElement(_,g,M,r)}}countVisibleElements(){const t=this._cachedMeta;let i=0;return t.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(t,i,n){return this.chart.getDataVisibility(t)?pi(this.resolveDataElementOptions(t,i).angle||n):0}}bt(ss,"id","polarArea"),bt(ss,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),bt(ss,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return i.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ga extends Kn{}bt(Ga,"id","pie"),bt(Ga,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class oo extends mi{getLabelAndValue(t){const i=this._cachedMeta.vScale,n=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(t,i,n,r){return Ld.bind(this)(t,i,n,r)}update(t){const i=this._cachedMeta,n=i.dataset,r=i.data||[],s=i.iScale.getLabels();if(n.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(n,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,i,n,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=i;a<i+n;a++){const l=t[a],h=this.resolveDataElementOptions(a,l.active?"active":r),c=s.getPointPositionForValue(a,this.getParsed(a).r),u=o?s.xCenter:c.x,f=o?s.yCenter:c.y,d={x:u,y:f,angle:c.angle,skip:isNaN(u)||isNaN(f),options:h};this.updateElement(l,a,d,r)}}}bt(oo,"id","radar"),bt(oo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),bt(oo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ao extends mi{getLabelAndValue(t){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=i,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const i=this._cachedMeta,{data:n=[]}=i,r=this.chart._animationsDisabled;let{start:s,count:o}=Md(i,n,r);if(this._drawStart=s,this._drawCount=o,Ad(i)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=i;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:h},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,n,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:h}=this._cachedMeta,c=this.resolveDataElementOptions(i,r),u=this.getSharedOptions(c),f=this.includeOptions(r,u),d=o.axis,g=a.axis,{spanGaps:y,segment:_}=this.options,v=Mr(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||r==="none";let S=i>0&&this.getParsed(i-1);for(let M=i;M<i+n;++M){const T=t[M],E=this.getParsed(M),k=w?T:{},O=$t(E[g]),F=k[d]=o.getPixelForValue(E[d],M),V=k[g]=s||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],M);k.skip=isNaN(F)||isNaN(V)||O,k.stop=M>0&&Math.abs(E[d]-S[d])>v,_&&(k.parsed=E,k.raw=h.data[M]),f&&(k.options=u||this.resolveDataElementOptions(M,T.active?"active":r)),w||this.updateElement(T,M,k,r),S=E}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let a=0;for(let l=i.length-1;l>=0;--l)a=Math.max(a,i[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}}bt(ao,"id","scatter"),bt(ao,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),bt(ao,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var dy=Object.freeze({__proto__:null,BarController:no,BubbleController:ro,DoughnutController:Kn,LineController:so,PieController:Ga,PolarAreaController:ss,RadarController:oo,ScatterController:ao});function Bn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zh{constructor(t){bt(this,"options");this.options=t||{}}static override(t){Object.assign(Zh.prototype,t)}init(){}formats(){return Bn()}parse(){return Bn()}format(){return Bn()}add(){return Bn()}diff(){return Bn()}startOf(){return Bn()}endOf(){return Bn()}}var Hd={_date:Zh};function py(e,t,i,n){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?F0:$i;if(n){if(r._sharedOptions){const h=s[0],c=typeof h.getRange=="function"&&h.getRange(t);if(c){const u=l(s,t,i-c),f=l(s,t,i+c);return{lo:u.lo,hi:f.hi}}}}else return l(s,t,i)}return{lo:0,hi:s.length-1}}function Ts(e,t,i,n,r){const s=e.getSortedVisibleDatasetMetas(),o=i[t];for(let a=0,l=s.length;a<l;++a){const{index:h,data:c}=s[a],{lo:u,hi:f}=py(s[a],t,o,r);for(let d=u;d<=f;++d){const g=c[d];g.skip||n(g,h,d)}}}function gy(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,r){const s=t?Math.abs(n.x-r.x):0,o=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _a(e,t,i,n,r){const s=[];return!r&&!e.isPointInArea(t)||Ts(e,i,t,function(a,l,h){!r&&!qi(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&s.push({element:a,datasetIndex:l,index:h})},!0),s}function my(e,t,i,n){let r=[];function s(o,a,l){const{startAngle:h,endAngle:c}=o.getProps(["startAngle","endAngle"],n),{angle:u}=vd(o,{x:t.x,y:t.y});ps(u,h,c)&&r.push({element:o,datasetIndex:a,index:l})}return Ts(e,i,t,s),r}function by(e,t,i,n,r,s){let o=[];const a=gy(i);let l=Number.POSITIVE_INFINITY;function h(c,u,f){const d=c.inRange(t.x,t.y,r);if(n&&!d)return;const g=c.getCenterPoint(r);if(!(!!s||e.isPointInArea(g))&&!d)return;const _=a(t,g);_<l?(o=[{element:c,datasetIndex:u,index:f}],l=_):_===l&&o.push({element:c,datasetIndex:u,index:f})}return Ts(e,i,t,h),o}function wa(e,t,i,n,r,s){return!s&&!e.isPointInArea(t)?[]:i==="r"&&!n?my(e,t,i,r):by(e,t,i,n,r,s)}function ku(e,t,i,n,r){const s=[],o=i==="x"?"inXRange":"inYRange";let a=!1;return Ts(e,i,t,(l,h,c)=>{l[o]&&l[o](t[i],r)&&(s.push({element:l,datasetIndex:h,index:c}),a=a||l.inRange(t.x,t.y,r))}),n&&!a?[]:s}var yy={evaluateInteractionItems:Ts,modes:{index(e,t,i,n){const r=Hn(t,e),s=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?_a(e,r,s,n,o):wa(e,r,s,!1,n,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const c=a[0].index,u=h.data[c];u&&!u.skip&&l.push({element:u,datasetIndex:h.index,index:c})}),l):[]},dataset(e,t,i,n){const r=Hn(t,e),s=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?_a(e,r,s,n,o):wa(e,r,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,h=e.getDatasetMeta(l).data;a=[];for(let c=0;c<h.length;++c)a.push({element:h[c],datasetIndex:l,index:c})}return a},point(e,t,i,n){const r=Hn(t,e),s=i.axis||"xy",o=i.includeInvisible||!1;return _a(e,r,s,n,o)},nearest(e,t,i,n){const r=Hn(t,e),s=i.axis||"xy",o=i.includeInvisible||!1;return wa(e,r,s,i.intersect,n,o)},x(e,t,i,n){const r=Hn(t,e);return ku(e,r,"x",i.intersect,n)},y(e,t,i,n){const r=Hn(t,e);return ku(e,r,"y",i.intersect,n)}}};const $d=["left","top","right","bottom"];function Br(e,t){return e.filter(i=>i.pos===t)}function Eu(e,t){return e.filter(i=>$d.indexOf(i.pos)===-1&&i.box.axis===t)}function Nr(e,t){return e.sort((i,n)=>{const r=t?n:i,s=t?i:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function _y(e){const t=[];let i,n,r,s,o,a;for(i=0,n=(e||[]).length;i<n;++i)r=e[i],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:i,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function wy(e){const t={};for(const i of e){const{stack:n,pos:r,stackWeight:s}=i;if(!n||!$d.includes(r))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function vy(e,t){const i=wy(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,h=i[a.stack],c=h&&a.stackWeight/h.weight;a.horizontal?(a.width=c?c*n:l&&t.availableWidth,a.height=r):(a.width=n,a.height=c?c*r:l&&t.availableHeight)}return i}function Sy(e){const t=_y(e),i=Nr(t.filter(h=>h.box.fullSize),!0),n=Nr(Br(t,"left"),!0),r=Nr(Br(t,"right")),s=Nr(Br(t,"top"),!0),o=Nr(Br(t,"bottom")),a=Eu(t,"x"),l=Eu(t,"y");return{fullSize:i,leftAndTop:n.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Br(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Mu(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function qd(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xy(e,t,i,n){const{pos:r,box:s}=i,o=e.maxPadding;if(!zt(r)){i.size&&(e[r]-=i.size);const u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?s.height:s.width),i.size=u.size/u.count,e[r]+=i.size}s.getPadding&&qd(o,s.getPadding());const a=Math.max(0,t.outerWidth-Mu(o,e,"left","right")),l=Math.max(0,t.outerHeight-Mu(o,e,"top","bottom")),h=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:h,other:c}:{same:c,other:h}}function ky(e){const t=e.maxPadding;function i(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function Ey(e,t){const i=t.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],i[o])}),s}return n(e?["left","right"]:["top","bottom"])}function Gr(e,t,i,n){const r=[];let s,o,a,l,h,c;for(s=0,o=e.length,h=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,Ey(a.horizontal,t));const{same:u,other:f}=xy(t,i,a,n);h|=u&&r.length,c=c||f,l.fullSize||r.push(a)}return h&&Gr(r,t,i,n)||c}function Ws(e,t,i,n,r){e.top=i,e.left=t,e.right=t+n,e.bottom=i+r,e.width=n,e.height=r}function Au(e,t,i,n){const r=i.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,h=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/h.weight||1;if(a.horizontal){const u=t.w*c,f=h.size||l.height;ds(h.start)&&(o=h.start),l.fullSize?Ws(l,r.left,o,i.outerWidth-r.right-r.left,f):Ws(l,t.left+h.placed,o,u,f),h.start=o,h.placed+=u,o=l.bottom}else{const u=t.h*c,f=h.size||l.width;ds(h.start)&&(s=h.start),l.fullSize?Ws(l,s,r.top,f,i.outerHeight-r.bottom-r.top):Ws(l,s,t.top+h.placed,f,u),h.start=s,h.placed+=u,s=l.right}}t.x=s,t.y=o}var ze={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const r=He(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(i-r.height,0),a=Sy(e.boxes),l=a.vertical,h=a.horizontal;Xt(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);qd(f,He(n));const d=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=vy(l.concat(h),u);Gr(a.fullSize,d,u,g),Gr(l,d,u,g),Gr(h,d,u,g)&&Gr(l,d,u,g),ky(d),Au(a.leftAndTop,d,u,g),d.x+=d.w,d.y+=d.h,Au(a.rightAndBottom,d,u,g),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Xt(a.chartArea,y=>{const _=y.box;Object.assign(_,e.chartArea),_.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class Gd{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,r){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(t){return!0}updateConfig(t){}}class My extends Gd{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const lo="$chartjs",Ay={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Tu=e=>e===null||e==="";function Ty(e,t){const i=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[lo]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Tu(r)){const s=uu(e,"width");s!==void 0&&(e.width=s)}if(Tu(n))if(e.style.height==="")e.height=e.width/(t||2);else{const s=uu(e,"height");s!==void 0&&(e.height=s)}return e}const Kd=Ib?{passive:!0}:!1;function Oy(e,t,i){e&&e.addEventListener(t,i,Kd)}function Py(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,Kd)}function Iy(e,t){const i=Ay[e.type]||e.type,{x:n,y:r}=Hn(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Oo(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function Cy(e,t,i){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Oo(a.addedNodes,n),o=o&&!Oo(a.removedNodes,n);o&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ry(e,t,i){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Oo(a.removedNodes,n),o=o&&!Oo(a.addedNodes,n);o&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}const ms=new Map;let Ou=0;function Qd(){const e=window.devicePixelRatio;e!==Ou&&(Ou=e,ms.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function Dy(e,t){ms.size||window.addEventListener("resize",Qd),ms.set(e,t)}function Ly(e){ms.delete(e),ms.size||window.removeEventListener("resize",Qd)}function By(e,t,i){const n=e.canvas,r=n&&Xh(n);if(!r)return;const s=Ed((a,l)=>{const h=r.clientWidth;i(a,l),h<r.clientWidth&&i()},window),o=new ResizeObserver(a=>{const l=a[0],h=l.contentRect.width,c=l.contentRect.height;h===0&&c===0||s(h,c)});return o.observe(r),Dy(e,s),o}function va(e,t,i){i&&i.disconnect(),t==="resize"&&Ly(e)}function Ny(e,t,i){const n=e.canvas,r=Ed(s=>{e.ctx!==null&&i(Iy(s,e))},e);return Oy(n,t,r),r}class Fy extends Gd{acquireContext(t,i){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Ty(t,i),n):null}releaseContext(t){const i=t.canvas;if(!i[lo])return!1;const n=i[lo].initial;["height","width"].forEach(s=>{const o=n[s];$t(o)?i.removeAttribute(s):i.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{i.style[s]=r[s]}),i.width=i.width,delete i[lo],!0}addEventListener(t,i,n){this.removeEventListener(t,i);const r=t.$proxies||(t.$proxies={}),o={attach:Cy,detach:Ry,resize:By}[i]||Ny;r[i]=o(t,i,n)}removeEventListener(t,i){const n=t.$proxies||(t.$proxies={}),r=n[i];if(!r)return;({attach:va,detach:va,resize:va}[i]||Py)(t,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,r){return Pb(t,i,n,r)}isAttached(t){const i=t&&Xh(t);return!!(i&&i.isConnected)}}function Uy(e){return!Qh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?My:Fy}class bi{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return Mr(this.x)&&Mr(this.y)}getProps(t,i){const n=this.$animations;if(!i||!n)return this;const r={};return t.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}bt(bi,"defaults",{}),bt(bi,"defaultRoutes");function jy(e,t){const i=e.options.ticks,n=Wy(e),r=Math.min(i.maxTicksLimit||n,n),s=i.major.enabled?zy(t):[],o=s.length,a=s[0],l=s[o-1],h=[];if(o>r)return Vy(t,h,s,o/r),h;const c=Yy(s,t,r);if(o>0){let u,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Ys(t,h,c,$t(d)?0:a-d,a),u=0,f=o-1;u<f;u++)Ys(t,h,c,s[u],s[u+1]);return Ys(t,h,c,l,$t(d)?t.length:l+d),h}return Ys(t,h,c),h}function Wy(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),r=e._maxLength/i;return Math.floor(Math.min(n,r))}function Yy(e,t,i){const n=Hy(e),r=t.length/i;if(!n)return Math.max(r,1);const s=D0(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function zy(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function Vy(e,t,i,n){let r=0,s=i[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=i[r*n])}function Ys(e,t,i,n,r){const s=jt(n,0),o=Math.min(jt(r,e.length),e.length);let a=0,l,h,c;for(i=Math.ceil(i),r&&(l=r-n,i=l/Math.floor(l/i)),c=s;c<0;)a++,c=Math.round(s+a*i);for(h=Math.max(s,0);h<o;h++)h===c&&(t.push(e[h]),a++,c=Math.round(s+a*i))}function Hy(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}const $y=e=>e==="left"?"right":e==="right"?"left":e,Pu=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,Iu=(e,t)=>Math.min(t||e,e);function Cu(e,t){const i=[],n=e.length/t,r=e.length;let s=0;for(;s<r;s+=n)i.push(e[Math.floor(s)]);return i}function qy(e,t,i){const n=e.ticks.length,r=Math.min(t,n-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),h;if(!(i&&(n===1?h=Math.max(l-s,o-l):t===0?h=(e.getPixelForTick(1)-l)/2:h=(l-e.getPixelForTick(r-1))/2,l+=r<t?h:-h,l<s-a||l>o+a)))return l}function Gy(e,t){Xt(e,i=>{const n=i.gc,r=n.length/2;let s;if(r>t){for(s=0;s<r;++s)delete i.data[n[s]];n.splice(0,r)}})}function Fr(e){return e.drawTicks?e.tickLength:0}function Ru(e,t){if(!e.display)return 0;const i=Ie(e.font,t),n=He(e.padding);return(he(e.text)?e.text.length:1)*i.lineHeight+n.height}function Ky(e,t){return In(e,{scale:t,type:"scale"})}function Qy(e,t,i){return In(e,{tick:i,index:t,type:"tick"})}function Xy(e,t,i){let n=Vh(e);return(i&&t!=="right"||!i&&t==="right")&&(n=$y(n)),n}function Zy(e,t,i,n){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:h,scales:c}=l;let u=0,f,d,g;const y=o-r,_=a-s;if(e.isHorizontal()){if(d=Ye(n,s,a),zt(i)){const v=Object.keys(i)[0],w=i[v];g=c[v].getPixelForValue(w)+y-t}else i==="center"?g=(h.bottom+h.top)/2+y-t:g=Pu(e,i,t);f=a-s}else{if(zt(i)){const v=Object.keys(i)[0],w=i[v];d=c[v].getPixelForValue(w)-_+t}else i==="center"?d=(h.left+h.right)/2-_+t:d=Pu(e,i,t);g=Ye(n,o,r),u=i==="left"?-Me:Me}return{titleX:d,titleY:g,maxWidth:f,rotation:u}}class lr extends bi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return t=Je(t,Number.POSITIVE_INFINITY),i=Je(i,Number.NEGATIVE_INFINITY),n=Je(n,Number.POSITIVE_INFINITY),r=Je(r,Number.NEGATIVE_INFINITY),{min:Je(t,n),max:Je(i,r),minDefined:ke(t),maxDefined:ke(i)}}getMinMax(t){let{min:i,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:i,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,h=a.length;l<h;++l)o=a[l].controller.getMinMax(this,t),r||(i=Math.min(i,o.min)),s||(n=Math.max(n,o.max));return i=s&&i>n?n:i,n=r&&i>n?i:n,{min:Je(i,Je(n,i)),max:Je(n,Je(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,i,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lb(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Cu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=jy(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n],s.label=oe(i.callback,[s.value,n,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,n=Iu(this.ticks.length,t.ticks.maxTicksLimit),r=i.minRotation||0,s=i.maxRotation;let o=r,a,l,h;if(!this._isVisible()||!i.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),u=c.widest.width,f=c.highest.height,d=Le(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:d/(n-1),u+6>a&&(a=d/(n-(t.offset?.5:1)),l=this.maxHeight-Fr(t.grid)-i.padding-Ru(t.title,this.chart.options.font),h=Math.sqrt(u*u+f*f),o=Yh(Math.min(Math.asin(Le((c.highest.height+6)/a,-1,1)),Math.asin(Le(l/h,-1,1))-Math.asin(Le(f/h,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ru(r,i.options.font);if(a?(t.width=this.maxWidth,t.height=Fr(s)+l):(t.height=this.maxHeight,t.width=Fr(s)+l),n.display&&this.ticks.length){const{first:h,last:c,widest:u,highest:f}=this._getLabelSizes(),d=n.padding*2,g=pi(this.labelRotation),y=Math.cos(g),_=Math.sin(g);if(a){const v=n.mirror?0:_*u.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+v+d)}else{const v=n.mirror?0:y*u.width+_*f.height;t.width=Math.min(this.maxWidth,t.width+v+d)}this._calculatePadding(h,c,_,y)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,h=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?h?(f=r*t.width,d=n*i.height):(f=n*t.height,d=r*i.width):s==="start"?d=i.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,d=i.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-u+o)*this.width/(this.width-u),0)}else{let c=i.height/2,u=t.height/2;s==="start"?(c=0,u=t.height):s==="end"&&(c=i.height,u=0),this.paddingTop=c+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)$t(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=Cu(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,n){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(i/Iu(i,n));let h=0,c=0,u,f,d,g,y,_,v,w,S,M,T;for(u=0;u<i;u+=l){if(g=t[u].label,y=this._resolveTickFontOptions(u),r.font=_=y.string,v=s[_]=s[_]||{data:{},gc:[]},w=y.lineHeight,S=M=0,!$t(g)&&!he(g))S=Ao(r,v.data,v.gc,S,g),M=w;else if(he(g))for(f=0,d=g.length;f<d;++f)T=g[f],!$t(T)&&!he(T)&&(S=Ao(r,v.data,v.gc,S,T),M+=w);o.push(S),a.push(M),h=Math.max(S,h),c=Math.max(M,c)}Gy(s,i);const E=o.indexOf(h),k=a.indexOf(c),O=F=>({width:o[F]||0,height:a[F]||0});return{first:O(0),last:O(i-1),widest:O(E),highest:O(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return N0(this._alignToPixels?Ln(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const n=i[t];return n.$context||(n.$context=Qy(this.getContext(),t,n))}return this.$context||(this.$context=Ky(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=pi(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,h=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=Fr(s),d=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,_=y/2,v=function(tt){return Ln(n,tt,y)};let w,S,M,T,E,k,O,F,V,q,A,Y;if(o==="top")w=v(this.bottom),k=this.bottom-f,F=w-_,q=v(t.top)+_,Y=t.bottom;else if(o==="bottom")w=v(this.top),q=t.top,Y=v(t.bottom)-_,k=w+_,F=this.top+f;else if(o==="left")w=v(this.right),E=this.right-f,O=w-_,V=v(t.left)+_,A=t.right;else if(o==="right")w=v(this.left),V=t.left,A=v(t.right)-_,E=w+_,O=this.left+f;else if(i==="x"){if(o==="center")w=v((t.top+t.bottom)/2+.5);else if(zt(o)){const tt=Object.keys(o)[0],X=o[tt];w=v(this.chart.scales[tt].getPixelForValue(X))}q=t.top,Y=t.bottom,k=w+_,F=k+f}else if(i==="y"){if(o==="center")w=v((t.left+t.right)/2);else if(zt(o)){const tt=Object.keys(o)[0],X=o[tt];w=v(this.chart.scales[tt].getPixelForValue(X))}E=w-_,O=E-f,V=t.left,A=t.right}const Z=jt(r.ticks.maxTicksLimit,u),H=Math.max(1,Math.ceil(u/Z));for(S=0;S<u;S+=H){const tt=this.getContext(S),X=s.setContext(tt),z=a.setContext(tt),it=X.lineWidth,rt=X.color,yt=z.dash||[],I=z.dashOffset,K=X.tickWidth,ot=X.tickColor,xt=X.tickBorderDash||[],st=X.tickBorderDashOffset;M=qy(this,S,l),M!==void 0&&(T=Ln(n,M,it),h?E=O=V=A=T:k=F=q=Y=T,d.push({tx1:E,ty1:k,tx2:O,ty2:F,x1:V,y1:q,x2:A,y2:Y,width:it,color:rt,borderDash:yt,borderDashOffset:I,tickWidth:K,tickColor:ot,tickBorderDash:xt,tickBorderDashOffset:st}))}return this._ticksLength=u,this._borderValue=w,d}_computeLabelItems(t){const i=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:h,padding:c,mirror:u}=s,f=Fr(n.grid),d=f+c,g=u?-c:d,y=-pi(this.labelRotation),_=[];let v,w,S,M,T,E,k,O,F,V,q,A,Y="middle";if(r==="top")E=this.bottom-g,k=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+g,k=this._getXAxisLabelAlignment();else if(r==="left"){const H=this._getYAxisLabelAlignment(f);k=H.textAlign,T=H.x}else if(r==="right"){const H=this._getYAxisLabelAlignment(f);k=H.textAlign,T=H.x}else if(i==="x"){if(r==="center")E=(t.top+t.bottom)/2+d;else if(zt(r)){const H=Object.keys(r)[0],tt=r[H];E=this.chart.scales[H].getPixelForValue(tt)+d}k=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")T=(t.left+t.right)/2-d;else if(zt(r)){const H=Object.keys(r)[0],tt=r[H];T=this.chart.scales[H].getPixelForValue(tt)}k=this._getYAxisLabelAlignment(f).textAlign}i==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const Z=this._getLabelSizes();for(v=0,w=a.length;v<w;++v){S=a[v],M=S.label;const H=s.setContext(this.getContext(v));O=this.getPixelForTick(v)+s.labelOffset,F=this._resolveTickFontOptions(v),V=F.lineHeight,q=he(M)?M.length:1;const tt=q/2,X=H.color,z=H.textStrokeColor,it=H.textStrokeWidth;let rt=k;o?(T=O,k==="inner"&&(v===w-1?rt=this.options.reverse?"left":"right":v===0?rt=this.options.reverse?"right":"left":rt="center"),r==="top"?h==="near"||y!==0?A=-q*V+V/2:h==="center"?A=-Z.highest.height/2-tt*V+V:A=-Z.highest.height+V/2:h==="near"||y!==0?A=V/2:h==="center"?A=Z.highest.height/2-tt*V:A=Z.highest.height-q*V,u&&(A*=-1),y!==0&&!H.showLabelBackdrop&&(T+=V/2*Math.sin(y))):(E=O,A=(1-q)*V/2);let yt;if(H.showLabelBackdrop){const I=He(H.backdropPadding),K=Z.heights[v],ot=Z.widths[v];let xt=A-I.top,st=0-I.left;switch(Y){case"middle":xt-=K/2;break;case"bottom":xt-=K;break}switch(k){case"center":st-=ot/2;break;case"right":st-=ot;break;case"inner":v===w-1?st-=ot:v>0&&(st-=ot/2);break}yt={left:st,top:xt,width:ot+I.width,height:K+I.height,color:H.backdropColor}}_.push({label:M,font:F,textOffset:A,options:{rotation:y,color:X,strokeColor:z,strokeWidth:it,textAlign:rt,textBaseline:Y,translation:[T,E],backdrop:yt}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-pi(this.labelRotation))return t==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let h,c;return i==="left"?r?(c=this.right+s,n==="near"?h="left":n==="center"?(h="center",c+=l/2):(h="right",c+=l)):(c=this.right-a,n==="near"?h="right":n==="center"?(h="center",c-=l/2):(h="left",c=this.left)):i==="right"?r?(c=this.left+s,n==="near"?h="right":n==="center"?(h="center",c-=l/2):(h="left",c-=l)):(c=this.left+a,n==="near"?h="left":n==="center"?(h="center",c+=l/2):(h="right",c=this.right)):h="right",{textAlign:h,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:n,top:r,width:s,height:o}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,r,s,o),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,h,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(i.display)for(s=0,o=r.length;s<o;++s){const l=r[s];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let h,c,u,f;this.isHorizontal()?(h=Ln(t,this.left,o)-o/2,c=Ln(t,this.right,a)+a/2,u=f=l):(u=Ln(t,this.top,o)-o/2,f=Ln(t,this.bottom,a)+a/2,h=c=l),i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.beginPath(),i.moveTo(h,u),i.lineTo(c,f),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Vo(n,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,h=o.label,c=o.textOffset;ar(n,h,0,c,l,a)}r&&Ho(n)}drawTitle(){const{ctx:t,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;const s=Ie(n.font),o=He(n.padding),a=n.align;let l=s.lineHeight/2;i==="bottom"||i==="center"||zt(i)?(l+=o.bottom,he(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:h,titleY:c,maxWidth:u,rotation:f}=Zy(this,l,i,a);ar(t,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:f,textAlign:Xy(a,i,r),textBaseline:"middle",translation:[h,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,n=jt(t.grid&&t.grid.z,-1),r=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==lr.prototype.draw?[{z:i,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=i.length;s<o;++s){const a=i[s];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return Ie(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class zs{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let n;e_(i)&&(n=this.register(i));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,Jy(t,o,n),this.override&&_e.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const i=this.items,n=t.id,r=this.scope;n in i&&delete i[n],r&&n in _e[r]&&(delete _e[r][n],this.override&&delete or[n])}}function Jy(e,t,i){const n=fs(Object.create(null),[i?_e.get(i):{},_e.get(t),e.defaults]);_e.set(t,n),e.defaultRoutes&&t_(t,e.defaultRoutes),e.descriptors&&_e.describe(t,e.descriptors)}function t_(e,t){Object.keys(t).forEach(i=>{const n=i.split("."),r=n.pop(),s=[e].concat(n).join("."),o=t[i].split("."),a=o.pop(),l=o.join(".");_e.route(s,r,l,a)})}function e_(e){return"id"in e&&"defaults"in e}class i_{constructor(){this.controllers=new zs(mi,"datasets",!0),this.elements=new zs(bi,"elements"),this.plugins=new zs(Object,"plugins"),this.scales=new zs(lr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Xt(r,o=>{const a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,i,n){const r=Wh(t);oe(n["before"+r],[],n),i[t](n),oe(n["after"+r],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){const r=i.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var ki=new i_;class n_{constructor(){this._init=[]}notify(t,i,n,r){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,i,n);return i==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,i,n,r){r=r||{};for(const s of t){const o=s.plugin,a=o[n],l=[i,r,s.options];if(oe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const n=t&&t.config,r=jt(n.options&&n.options.plugins,{}),s=r_(n);return r===!1&&!i?[]:o_(t,s,r,i)}_notifyStateChanges(t){const i=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(i,n),t,"stop"),this._notify(r(n,i),t,"start")}}function r_(e){const t={},i=[],n=Object.keys(ki.plugins.items);for(let s=0;s<n.length;s++)i.push(ki.getPlugin(n[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];i.indexOf(o)===-1&&(i.push(o),t[o.id]=!0)}return{plugins:i,localIds:t}}function s_(e,t){return!t&&e===!1?null:e===!0?{}:e}function o_(e,{plugins:t,localIds:i},n,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,h=s_(n[l],r);h!==null&&s.push({plugin:a,options:a_(e.config,{plugin:a,local:i[l]},h,o)})}return s}function a_(e,{plugin:t,local:i},n,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(n,s);return i&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ka(e,t){const i=_e.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function l_(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function h_(e,t){return e===t?"_index_":"_value_"}function Du(e){if(e==="x"||e==="y"||e==="r")return e}function c_(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Qa(e,...t){if(Du(e))return e;for(const i of t){const n=i.axis||c_(i.position)||e.length>1&&Du(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Lu(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function u_(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(i.length)return Lu(e,"x",i[0])||Lu(e,"y",i[0])}return{}}function f_(e,t){const i=or[e.type]||{scales:{}},n=t.scales||{},r=Ka(e.type,t),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!zt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Qa(o,a,u_(o,e),_e.scales[a.type]),h=h_(l,r),c=i.scales||{};s[o]=es(Object.create(null),[{axis:l},a,c[l],c[h]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Ka(a,t),c=(or[a]||{}).scales||{};Object.keys(c).forEach(u=>{const f=l_(u,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),es(s[d],[{axis:f},n[d],c[u]])})}),Object.keys(s).forEach(o=>{const a=s[o];es(a,[_e.scales[a.type],_e.scale])}),s}function Xd(e){const t=e.options||(e.options={});t.plugins=jt(t.plugins,{}),t.scales=f_(e,t)}function Zd(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function d_(e){return e=e||{},e.data=Zd(e.data),Xd(e),e}const Bu=new Map,Jd=new Set;function Vs(e,t){let i=Bu.get(e);return i||(i=t(),Bu.set(e,i),Jd.add(i)),i}const Ur=(e,t,i)=>{const n=On(t,i);n!==void 0&&e.add(n)};class p_{constructor(t){this._config=d_(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zd(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Xd(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vs(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Vs(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Vs(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,n=this.type;return Vs(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const n=this._scopeCache;let r=n.get(t);return(!r||i)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,i,n){const{options:r,type:s}=this,o=this._cachedScopes(t,n),a=o.get(i);if(a)return a;const l=new Set;i.forEach(c=>{t&&(l.add(t),c.forEach(u=>Ur(l,t,u))),c.forEach(u=>Ur(l,r,u)),c.forEach(u=>Ur(l,or[s]||{},u)),c.forEach(u=>Ur(l,_e,u)),c.forEach(u=>Ur(l,$a,u))});const h=Array.from(l);return h.length===0&&h.push(Object.create(null)),Jd.has(i)&&o.set(i,h),h}chartOptionScopes(){const{options:t,type:i}=this;return[t,or[i]||{},_e.datasets[i]||{},{type:i},_e,$a]}resolveNamedOptions(t,i,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Nu(this._resolverCache,t,r);let l=o;if(m_(o,i)){s.$shared=!1,n=Pn(n)?n():n;const h=this.createResolver(t,n,a);l=Ar(o,n,h)}for(const h of i)s[h]=l[h];return s}createResolver(t,i,n=[""],r){const{resolver:s}=Nu(this._resolverCache,t,n);return zt(i)?Ar(s,i,void 0,r):s}}function Nu(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=i.join();let s=n.get(r);return s||(s={resolver:qh(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}const g_=e=>zt(e)&&Object.getOwnPropertyNames(e).some(t=>Pn(e[t]));function m_(e,t){const{isScriptable:i,isIndexable:n}=Id(e);for(const r of t){const s=i(r),o=n(r),a=(o||s)&&e[r];if(s&&(Pn(a)||g_(a))||o&&he(a))return!0}return!1}var b_="4.4.6";const y_=["top","bottom","left","right","chartArea"];function Fu(e,t){return e==="top"||e==="bottom"||y_.indexOf(e)===-1&&t==="x"}function Uu(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function ju(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),oe(i&&i.onComplete,[e],t)}function __(e){const t=e.chart,i=t.options.animation;oe(i&&i.onProgress,[e],t)}function tp(e){return Qh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ho={},Wu=e=>{const t=tp(e);return Object.values(ho).filter(i=>i.canvas===t).pop()};function w_(e,t,i){const n=Object.keys(e);for(const r of n){const s=+r;if(s>=t){const o=e[r];delete e[r],(i>0||s>t)&&(e[s+i]=o)}}}function v_(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}function Hs(e,t,i){return e.options.clip?e[i]:t[i]}function S_(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:Hs(i,t,"left"),right:Hs(i,t,"right"),top:Hs(n,t,"top"),bottom:Hs(n,t,"bottom")}:t}class zi{static register(...t){ki.add(...t),Yu()}static unregister(...t){ki.remove(...t),Yu()}constructor(t,i){const n=this.config=new p_(i),r=tp(t),s=Wu(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Uy(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,h=l&&l.height,c=l&&l.width;if(this.id=E0(),this.ctx=a,this.canvas=l,this.width=c,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=W0(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],ho[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Li.listen(this,"complete",ju),Li.listen(this,"progress",__),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:r,_aspectRatio:s}=this;return $t(t)?i&&s?s:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return au(this.canvas,this.ctx),this}stop(){return Li.stop(this),this}resize(t,i){Li.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,i,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,cu(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),oe(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};Xt(i,(n,r)=>{n.id=r})}buildOrUpdateScales(){const t=this.options,i=t.scales,n=this.scales,r=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];i&&(s=s.concat(Object.keys(i).map(o=>{const a=i[o],l=Qa(o,a),h=l==="r",c=l==="x";return{options:a,dposition:h?"chartArea":c?"bottom":"left",dtype:h?"radialLinear":c?"category":"linear"}}))),Xt(s,o=>{const a=o.options,l=a.id,h=Qa(l,a),c=jt(a.type,o.dtype);(a.position===void 0||Fu(a.position,h)!==Fu(o.dposition))&&(a.position=o.dposition),r[l]=!0;let u=null;if(l in n&&n[l].type===c)u=n[l];else{const f=ki.getScale(c);u=new f({id:l,type:c,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,t)}),Xt(r,(o,a)=>{o||delete n[a]}),Xt(n,o=>{ze.configure(this,o,o.options),ze.addBox(this,o)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((r,s)=>r.index-s.index),n>i){for(let r=i;r<n;++r)this._destroyDatasetMeta(r);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort(Uu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,r)=>{i.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=i.length;n<r;n++){const s=i[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||Ka(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=ki.getController(a),{datasetElementType:h,dataElementType:c}=_e.datasets[a];Object.assign(l,{dataElementType:ki.getElement(c),datasetElementType:h&&ki.getElement(h)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,c=this.data.datasets.length;h<c;h++){const{controller:u}=this.getDatasetMeta(h),f=!r&&s.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Xt(s,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Uu("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Xt(this.scales,t=>{ze.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Zc(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of i){const o=n==="_removeElements"?-s:s;w_(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=n(0);for(let s=1;s<i;s++)if(!Zc(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ze.update(this,this.width,this.height,t);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],Xt(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Pn(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Li.has(this)?this.attached&&!Li.running(this)&&Li.start(this):(this.draw(),ju({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,n=[];let r,s;for(r=0,s=i.length;r<s;++r){const o=i[r];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,n=t._clip,r=!n.disabled,s=S_(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Vo(i,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),t.controller.draw(),r&&Ho(i),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return qi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,r){const s=yy.modes[i];return typeof s=="function"?s(this,t,n,r):[]}getDatasetMeta(t){const i=this.data.datasets[t],n=this._metasets;let r=n.filter(s=>s&&s._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=In(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(t,i){const n=this.getDatasetMeta(t);n.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){const r=n?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);ds(i)?(s.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Li.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),au(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete ho[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,n=(s,o)=>{i.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Xt(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,n=(l,h)=>{i.addEventListener(this,l,h),t[l]=h},r=(l,h)=>{t[l]&&(i.removeEventListener(this,l,h),delete t[l])},s=(l,h)=>{this.canvas&&this.resize(l,h)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",a)},i.isAttached(this.canvas)?a():o()}unbindEvents(){Xt(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},Xt(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){const r=n?"set":"remove";let s,o,a,l;for(i==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],n=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ko(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,n){const r=this.options.hover,s=(l,h)=>l.filter(c=>!h.some(u=>c.datasetIndex===u.datasetIndex&&c.index===u.index)),o=s(i,t),a=n?t:s(t,i);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,i){const n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(t,i,n){const{_active:r=[],options:s}=this,o=i,a=this._getActiveElements(t,r,n,o),l=I0(t),h=v_(t,this._lastEvent,n,l);n&&(this._lastEvent=null,oe(s.onHover,[t,a,this],this),l&&oe(s.onClick,[t,a,this],this));const c=!ko(a,r);return(c||i)&&(this._active=a,this._updateHoverStyles(a,r,i)),this._lastEvent=h,c}_getActiveElements(t,i,n,r){if(t.type==="mouseout")return[];if(!n)return i;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}bt(zi,"defaults",_e),bt(zi,"instances",ho),bt(zi,"overrides",or),bt(zi,"registry",ki),bt(zi,"version",b_),bt(zi,"getChart",Wu);function Yu(){return Xt(zi.instances,e=>e._plugins.invalidate())}function x_(e,t,i){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let h=r/a;e.beginPath(),e.arc(s,o,a,n-h,i+h),l>r?(h=r/l,e.arc(s,o,l,i+h,n-h,!0)):e.arc(s,o,r,i+Me,n-Me),e.closePath(),e.clip()}function k_(e){return $h(e,["outerStart","outerEnd","innerStart","innerEnd"])}function E_(e,t,i,n){const r=k_(e.options.borderRadius),s=(i-t)/2,o=Math.min(s,n*t/2),a=l=>{const h=(i-Math.min(s,l))*n/2;return Le(l,0,Math.min(s,h))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Le(r.innerStart,0,o),innerEnd:Le(r.innerEnd,0,o)}}function gr(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function Po(e,t,i,n,r,s){const{x:o,y:a,startAngle:l,pixelMargin:h,innerRadius:c}=t,u=Math.max(t.outerRadius+n+i-h,0),f=c>0?c+n+i+h:0;let d=0;const g=r-l;if(n){const H=c>0?c-n:0,tt=u>0?u-n:0,X=(H+tt)/2,z=X!==0?g*X/(X+n):g;d=(g-z)/2}const y=Math.max(.001,g*u-i/ue)/u,_=(g-y)/2,v=l+_+d,w=r-_-d,{outerStart:S,outerEnd:M,innerStart:T,innerEnd:E}=E_(t,f,u,w-v),k=u-S,O=u-M,F=v+S/k,V=w-M/O,q=f+T,A=f+E,Y=v+T/q,Z=w-E/A;if(e.beginPath(),s){const H=(F+V)/2;if(e.arc(o,a,u,F,H),e.arc(o,a,u,H,V),M>0){const it=gr(O,V,o,a);e.arc(it.x,it.y,M,V,w+Me)}const tt=gr(A,w,o,a);if(e.lineTo(tt.x,tt.y),E>0){const it=gr(A,Z,o,a);e.arc(it.x,it.y,E,w+Me,Z+Math.PI)}const X=(w-E/f+(v+T/f))/2;if(e.arc(o,a,f,w-E/f,X,!0),e.arc(o,a,f,X,v+T/f,!0),T>0){const it=gr(q,Y,o,a);e.arc(it.x,it.y,T,Y+Math.PI,v-Me)}const z=gr(k,v,o,a);if(e.lineTo(z.x,z.y),S>0){const it=gr(k,F,o,a);e.arc(it.x,it.y,S,v-Me,F)}}else{e.moveTo(o,a);const H=Math.cos(F)*u+o,tt=Math.sin(F)*u+a;e.lineTo(H,tt);const X=Math.cos(V)*u+o,z=Math.sin(V)*u+a;e.lineTo(X,z)}e.closePath()}function M_(e,t,i,n,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){Po(e,t,i,n,l,r);for(let h=0;h<s;++h)e.fill();isNaN(a)||(l=o+(a%ce||ce))}return Po(e,t,i,n,l,r),e.fill(),l}function A_(e,t,i,n,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:h,borderJoinStyle:c,borderDash:u,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!h)return;e.setLineDash(u||[]),e.lineDashOffset=f,d?(e.lineWidth=h*2,e.lineJoin=c||"round"):(e.lineWidth=h,e.lineJoin=c||"bevel");let g=t.endAngle;if(s){Po(e,t,i,n,g,r);for(let y=0;y<s;++y)e.stroke();isNaN(a)||(g=o+(a%ce||ce))}d&&x_(e,t,g),s||(Po(e,t,i,n,g,r),e.stroke())}class Kr extends bi{constructor(i){super();bt(this,"circumference");bt(this,"endAngle");bt(this,"fullCircles");bt(this,"innerRadius");bt(this,"outerRadius");bt(this,"pixelMargin");bt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,n,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=vd(s,{x:i,y:n}),{startAngle:l,endAngle:h,innerRadius:c,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,g=jt(f,h-l),y=ps(o,l,h)&&l!==h,_=g>=ce||y,v=Hi(a,c+d,u+d);return _&&v}getCenterPoint(i){const{x:n,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:h,spacing:c}=this.options,u=(s+o)/2,f=(a+l+c+h)/2;return{x:n+Math.cos(u)*f,y:r+Math.sin(u)*f}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:n,circumference:r}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>ce?Math.floor(r/ce):0,r===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*s,Math.sin(l)*s);const h=1-Math.sin(Math.min(ue,r||0)),c=s*h;i.fillStyle=n.backgroundColor,i.strokeStyle=n.borderColor,M_(i,this,c,o,a),A_(i,this,c,o,a),i.restore()}}bt(Kr,"id","arc"),bt(Kr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),bt(Kr,"defaultRoutes",{backgroundColor:"backgroundColor"}),bt(Kr,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function ep(e,t,i=t){e.lineCap=jt(i.borderCapStyle,t.borderCapStyle),e.setLineDash(jt(i.borderDash,t.borderDash)),e.lineDashOffset=jt(i.borderDashOffset,t.borderDashOffset),e.lineJoin=jt(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jt(i.borderWidth,t.borderWidth),e.strokeStyle=jt(i.borderColor,t.borderColor)}function T_(e,t,i){e.lineTo(i.x,i.y)}function O_(e){return e.stepped?J0:e.tension||e.cubicInterpolationMode==="monotone"?tb:T_}function ip(e,t,i={}){const n=e.length,{start:r=0,end:s=n-1}=i,{start:o,end:a}=t,l=Math.max(r,o),h=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:n,start:l,loop:t.loop,ilen:h<l&&!c?n+h-l:h-l}}function P_(e,t,i,n){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:h}=ip(r,i,n),c=O_(s);let{move:u=!0,reverse:f}=n||{},d,g,y;for(d=0;d<=h;++d)g=r[(a+(f?h-d:d))%o],!g.skip&&(u?(e.moveTo(g.x,g.y),u=!1):c(e,y,g,f,s.stepped),y=g);return l&&(g=r[(a+(f?h:0))%o],c(e,y,g,f,s.stepped)),!!l}function I_(e,t,i,n){const r=t.points,{count:s,start:o,ilen:a}=ip(r,i,n),{move:l=!0,reverse:h}=n||{};let c=0,u=0,f,d,g,y,_,v;const w=M=>(o+(h?a-M:M))%s,S=()=>{y!==_&&(e.lineTo(c,_),e.lineTo(c,y),e.lineTo(c,v))};for(l&&(d=r[w(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=r[w(f)],d.skip)continue;const M=d.x,T=d.y,E=M|0;E===g?(T<y?y=T:T>_&&(_=T),c=(u*c+M)/++u):(S(),e.lineTo(M,T),g=E,u=0,y=_=T),v=T}S()}function Xa(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?I_:P_}function C_(e){return e.stepped?Cb:e.tension||e.cubicInterpolationMode==="monotone"?Rb:$n}function R_(e,t,i,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,i,n)&&r.closePath()),ep(e,t.options),e.stroke(r)}function D_(e,t,i,n){const{segments:r,options:s}=t,o=Xa(t);for(const a of r)ep(e,s,a.style),e.beginPath(),o(e,t,a,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}const L_=typeof Path2D=="function";function B_(e,t,i,n){L_&&!t.options.segment?R_(e,t,i,n):D_(e,t,i,n)}class yn extends bi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;kb(this._points,n,t,r,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ub(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,n=t.length;return n&&i[t[n-1].end]}interpolate(t,i){const n=this.options,r=t[i],s=this.points,o=Wd(this,{property:i,start:r,end:r});if(!o.length)return;const a=[],l=C_(n);let h,c;for(h=0,c=o.length;h<c;++h){const{start:u,end:f}=o[h],d=s[u],g=s[f];if(d===g){a.push(d);continue}const y=Math.abs((r-d[i])/(g[i]-d[i])),_=l(d,g,y,n.stepped);_[i]=t[i],a.push(_)}return a.length===1?a[0]:a}pathSegment(t,i,n){return Xa(this)(t,this,i,n)}path(t,i,n){const r=this.segments,s=Xa(this);let o=this._loop;i=i||0,n=n||this.points.length-i;for(const a of r)o&=s(t,this,a,{start:i,end:i+n-1});return!!o}draw(t,i,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),B_(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(yn,"id","line"),bt(yn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(yn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(yn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function zu(e,t,i,n){const r=e.options,{[i]:s}=e.getProps([i],n);return Math.abs(t-s)<r.radius+r.hitRadius}class co extends bi{constructor(i){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(i-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(i,n){return zu(this,i,"x",n)}inYRange(i,n){return zu(this,i,"y",n)}getCenterPoint(i){const{x:n,y:r}=this.getProps(["x","y"],i);return{x:n,y:r}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);const r=n&&i.borderWidth||0;return(n+r)*2}draw(i,n){const r=this.options;this.skip||r.radius<.1||!qi(this,n,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,qa(i,r,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}bt(co,"id","point"),bt(co,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(co,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function np(e,t){const{x:i,y:n,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,h,c,u;return e.horizontal?(u=o/2,a=Math.min(i,r),l=Math.max(i,r),h=n-u,c=n+u):(u=s/2,a=i-u,l=i+u,h=Math.min(n,r),c=Math.max(n,r)),{left:a,top:h,right:l,bottom:c}}function _n(e,t,i,n){return e?0:Le(t,i,n)}function N_(e,t,i){const n=e.options.borderWidth,r=e.borderSkipped,s=Pd(n);return{t:_n(r.top,s.top,0,i),r:_n(r.right,s.right,0,t),b:_n(r.bottom,s.bottom,0,i),l:_n(r.left,s.left,0,t)}}function F_(e,t,i){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Jn(r),o=Math.min(t,i),a=e.borderSkipped,l=n||zt(r);return{topLeft:_n(!l||a.top||a.left,s.topLeft,0,o),topRight:_n(!l||a.top||a.right,s.topRight,0,o),bottomLeft:_n(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:_n(!l||a.bottom||a.right,s.bottomRight,0,o)}}function U_(e){const t=np(e),i=t.right-t.left,n=t.bottom-t.top,r=N_(e,i/2,n/2),s=F_(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Sa(e,t,i,n){const r=t===null,s=i===null,a=e&&!(r&&s)&&np(e,n);return a&&(r||Hi(t,a.left,a.right))&&(s||Hi(i,a.top,a.bottom))}function j_(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function W_(e,t){e.rect(t.x,t.y,t.w,t.h)}function xa(e,t,i={}){const n=e.x!==i.x?-t:0,r=e.y!==i.y?-t:0,s=(e.x+e.w!==i.x+i.w?t:0)-n,o=(e.y+e.h!==i.y+i.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class uo extends bi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=U_(this),a=j_(o.radius)?gs:W_;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,xa(o,i,s)),t.clip(),a(t,xa(s,-i,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,xa(s,i)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,i,n){return Sa(this,t,i,n)}inXRange(t,i){return Sa(this,t,null,i)}inYRange(t,i){return Sa(this,null,t,i)}getCenterPoint(t){const{x:i,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(i+r)/2:i,y:s?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}bt(uo,"id","bar"),bt(uo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(uo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Y_=Object.freeze({__proto__:null,ArcElement:Kr,BarElement:uo,LineElement:yn,PointElement:co});const Za=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Vu=Za.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function rp(e){return Za[e%Za.length]}function sp(e){return Vu[e%Vu.length]}function z_(e,t){return e.borderColor=rp(t),e.backgroundColor=sp(t),++t}function V_(e,t){return e.backgroundColor=e.data.map(()=>rp(t++)),t}function H_(e,t){return e.backgroundColor=e.data.map(()=>sp(t++)),t}function $_(e){let t=0;return(i,n)=>{const r=e.getDatasetMeta(n).controller;r instanceof Kn?t=V_(i,t):r instanceof ss?t=H_(i,t):r&&(t=z_(i,t))}}function Hu(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function q_(e){return e&&(e.borderColor||e.backgroundColor)}function G_(){return _e.borderColor!=="rgba(0,0,0,0.1)"||_e.backgroundColor!=="rgba(0,0,0,0.1)"}var K_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;const{data:{datasets:n},options:r}=e.config,{elements:s}=r,o=Hu(n)||q_(r)||s&&Hu(s)||G_();if(!i.forceOverride&&o)return;const a=$_(e);n.forEach(a)}};function Q_(e,t,i,n,r){const s=r.samples||n;if(s>=i)return e.slice(t,t+i);const o=[],a=(i-2)/(s-2);let l=0;const h=t+i-1;let c=t,u,f,d,g,y;for(o[l++]=e[c],u=0;u<s-2;u++){let _=0,v=0,w;const S=Math.floor((u+1)*a)+1+t,M=Math.min(Math.floor((u+2)*a)+1,i)+t,T=M-S;for(w=S;w<M;w++)_+=e[w].x,v+=e[w].y;_/=T,v/=T;const E=Math.floor(u*a)+1+t,k=Math.min(Math.floor((u+1)*a)+1,i)+t,{x:O,y:F}=e[c];for(d=g=-1,w=E;w<k;w++)g=.5*Math.abs((O-_)*(e[w].y-F)-(O-e[w].x)*(v-F)),g>d&&(d=g,f=e[w],y=w);o[l++]=f,c=y}return o[l++]=e[h],o}function X_(e,t,i,n){let r=0,s=0,o,a,l,h,c,u,f,d,g,y;const _=[],v=t+i-1,w=e[t].x,M=e[v].x-w;for(o=t;o<t+i;++o){a=e[o],l=(a.x-w)/M*n,h=a.y;const T=l|0;if(T===c)h<g?(g=h,u=o):h>y&&(y=h,f=o),r=(s*r+a.x)/++s;else{const E=o-1;if(!$t(u)&&!$t(f)){const k=Math.min(u,f),O=Math.max(u,f);k!==d&&k!==E&&_.push({...e[k],x:r}),O!==d&&O!==E&&_.push({...e[O],x:r})}o>0&&E!==d&&_.push(e[E]),_.push(a),c=T,s=0,g=y=h,u=f=d=o}}return _}function op(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function $u(e){e.data.datasets.forEach(t=>{op(t)})}function Z_(e,t){const i=t.length;let n=0,r;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:h}=s.getUserBounds();return l&&(n=Le($i(t,s.axis,o).lo,0,i-1)),h?r=Le($i(t,s.axis,a).hi+1,n,i)-n:r=i-n,{start:n,count:r}}var J_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled){$u(e);return}const n=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=e.getDatasetMeta(s),h=o||r.data;if(qr([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||e.options.parsing)return;let{start:u,count:f}=Z_(l,h);const d=i.threshold||4*n;if(f<=d){op(r);return}$t(o)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(i.algorithm){case"lttb":g=Q_(h,u,f,n,i);break;case"min-max":g=X_(h,u,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}r._decimated=g})},destroy(e){$u(e)}};function tw(e,t,i){const n=e.segments,r=e.points,s=t.points,o=[];for(const a of n){let{start:l,end:h}=a;h=Jh(l,h,r);const c=Ja(i,r[l],r[h],a.loop);if(!t.segments){o.push({source:a,target:c,start:r[l],end:r[h]});continue}const u=Wd(t,c);for(const f of u){const d=Ja(i,s[f.start],s[f.end],f.loop),g=jd(a,r,d);for(const y of g)o.push({source:y,target:f,start:{[i]:qu(c,d,"start",Math.max)},end:{[i]:qu(c,d,"end",Math.min)}})}}return o}function Ja(e,t,i,n){if(n)return;let r=t[e],s=i[e];return e==="angle"&&(r=ei(r),s=ei(s)),{property:e,start:r,end:s}}function ew(e,t){const{x:i=null,y:n=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Jh(o,a,r);const l=r[o],h=r[a];n!==null?(s.push({x:l.x,y:n}),s.push({x:h.x,y:n})):i!==null&&(s.push({x:i,y:l.y}),s.push({x:i,y:h.y}))}),s}function Jh(e,t,i){for(;t>e;t--){const n=i[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function qu(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}function ap(e,t){let i=[],n=!1;return he(e)?(n=!0,i=e):i=ew(e,t),i.length?new yn({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Gu(e){return e&&e.fill!==!1}function iw(e,t,i){let r=e[t].fill;const s=[t];let o;if(!i)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ke(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function nw(e,t,i){const n=aw(e);if(zt(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return ke(r)&&Math.floor(r)===r?rw(n[0],t,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function rw(e,t,i,n){return(e==="-"||e==="+")&&(i=t+i),i===t||i<0||i>=n?!1:i}function sw(e,t){let i=null;return e==="start"?i=t.bottom:e==="end"?i=t.top:zt(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function ow(e,t,i){let n;return e==="start"?n=i:e==="end"?n=t.options.reverse?t.min:t.max:zt(e)?n=e.value:n=t.getBaseValue(),n}function aw(e){const t=e.options,i=t.fill;let n=jt(i&&i.target,i);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function lw(e){const{scale:t,index:i,line:n}=e,r=[],s=n.segments,o=n.points,a=hw(t,i);a.push(ap({x:null,y:t.bottom},n));for(let l=0;l<s.length;l++){const h=s[l];for(let c=h.start;c<=h.end;c++)cw(r,o[c],a)}return new yn({points:r,options:{}})}function hw(e,t){const i=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===t)break;s.hidden||i.unshift(s.dataset)}return i}function cw(e,t,i){const n=[];for(let r=0;r<i.length;r++){const s=i[r],{first:o,last:a,point:l}=uw(s,t,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function uw(e,t,i){const n=e.interpolate(t,i);if(!n)return{};const r=n[i],s=e.segments,o=e.points;let a=!1,l=!1;for(let h=0;h<s.length;h++){const c=s[h],u=o[c.start][i],f=o[c.end][i];if(Hi(r,u,f)){a=r===u,l=r===f;break}}return{first:a,last:l,point:n}}class lp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,n){const{x:r,y:s,radius:o}=this;return i=i||{start:0,end:ce},t.arc(r,s,o,i.end,i.start,!0),!n.bounds}interpolate(t){const{x:i,y:n,radius:r}=this,s=t.angle;return{x:i+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function fw(e){const{chart:t,fill:i,line:n}=e;if(ke(i))return dw(t,i);if(i==="stack")return lw(e);if(i==="shape")return!0;const r=pw(e);return r instanceof lp?r:ap(r,n)}function dw(e,t){const i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function pw(e){return(e.scale||{}).getPointPositionForValue?mw(e):gw(e)}function gw(e){const{scale:t={},fill:i}=e,n=sw(i,t);if(ke(n)){const r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function mw(e){const{scale:t,fill:i}=e,n=t.options,r=t.getLabels().length,s=n.reverse?t.max:t.min,o=ow(i,t,s),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,s);return new lp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function ka(e,t,i){const n=fw(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,h=a.backgroundColor,{above:c=h,below:u=h}=l||{};n&&r.points.length&&(Vo(e,i),bw(e,{line:r,target:n,above:c,below:u,area:i,scale:s,axis:o}),Ho(e))}function bw(e,t){const{line:i,target:n,above:r,below:s,area:o,scale:a}=t,l=i._loop?"angle":t.axis;e.save(),l==="x"&&s!==r&&(Ku(e,n,o.top),Qu(e,{line:i,target:n,color:r,scale:a,property:l}),e.restore(),e.save(),Ku(e,n,o.bottom)),Qu(e,{line:i,target:n,color:s,scale:a,property:l}),e.restore()}function Ku(e,t,i){const{segments:n,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of n){const{start:l,end:h}=a,c=r[l],u=r[Jh(l,h,r)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,i),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(u.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function Qu(e,t){const{line:i,target:n,property:r,color:s,scale:o}=t,a=tw(i,n,r);for(const{source:l,target:h,start:c,end:u}of a){const{style:{backgroundColor:f=s}={}}=l,d=n!==!0;e.save(),e.fillStyle=f,yw(e,o,d&&Ja(r,c,u)),e.beginPath();const g=!!i.pathSegment(e,l);let y;if(d){g?e.closePath():Xu(e,n,u,r);const _=!!n.pathSegment(e,h,{move:g,reverse:!0});y=g&&_,y||Xu(e,n,c,r)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function yw(e,t,i){const{top:n,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=i||{};s==="x"&&(e.beginPath(),e.rect(o,n,a-o,r-n),e.clip())}function Xu(e,t,i,n){const r=t.interpolate(i,n);r&&e.lineTo(r.x,r.y)}var _w={id:"filler",afterDatasetsUpdate(e,t,i){const n=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<n;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof yn&&(l={visible:e.isDatasetVisible(o),index:o,fill:nw(a,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<n;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=iw(r,o,i.propagate))},beforeDraw(e,t,i){const n=i.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&ka(e.ctx,a,s))}},beforeDatasetsDraw(e,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;Gu(s)&&ka(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,i){const n=t.meta.$filler;!Gu(n)||i.drawTime!=="beforeDatasetDraw"||ka(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zu=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}},ww=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Ju extends bi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,n){this.maxWidth=t,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(n=>t.filter(n,this.chart.data))),t.sort&&(i=i.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,r=Ie(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Zu(n,s);let h,c;i.font=r.string,this.isHorizontal()?(h=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,h=this._fitCols(o,r,a,l)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,i,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],c=r+a;let u=t;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach((g,y)=>{const _=n+i/2+s.measureText(g.text).width;(y===0||h[h.length-1]+_+2*a>o)&&(u+=c,h[h.length-(y>0?0:1)]=0,d+=c,f++),l[y]={left:0,top:d,row:f,width:_,height:r},h[h.length-1]+=_+a}),u}_fitCols(t,i,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.columnSizes=[],c=o-t;let u=a,f=0,d=0,g=0,y=0;return this.legendItems.forEach((_,v)=>{const{itemWidth:w,itemHeight:S}=vw(n,i,s,_,r);v>0&&d+S+2*a>c&&(u+=f+a,h.push({width:f,height:d}),g+=f+a,y++,f=d=0),l[v]={left:g,top:d,col:y,width:w,height:S},f=Math.max(f,w),d+=S+a}),u+=f,h.push({width:f,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:s}}=this,o=Sr(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ye(n,this.left+r,this.right-this.lineWidths[a]);for(const h of i)a!==h.row&&(a=h.row,l=Ye(n,this.left+r,this.right-this.lineWidths[a])),h.top+=this.top+t+r,h.left=o.leftForLtr(o.x(l),h.width),l+=h.width+r}else{let a=0,l=Ye(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const h of i)h.col!==a&&(a=h.col,l=Ye(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),h.top=l,h.left+=this.left+r,h.left=o.leftForLtr(o.x(h.left),h.width),l+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Vo(t,this),this._draw(),Ho(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:n,ctx:r}=this,{align:s,labels:o}=t,a=_e.color,l=Sr(t.rtl,this.left,this.width),h=Ie(o.font),{padding:c}=o,u=h.size,f=u/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:g,boxHeight:y,itemHeight:_}=Zu(o,u),v=function(E,k,O){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const F=jt(O.lineWidth,1);if(r.fillStyle=jt(O.fillStyle,a),r.lineCap=jt(O.lineCap,"butt"),r.lineDashOffset=jt(O.lineDashOffset,0),r.lineJoin=jt(O.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=jt(O.strokeStyle,a),r.setLineDash(jt(O.lineDash,[])),o.usePointStyle){const V={radius:y*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:F},q=l.xPlus(E,g/2),A=k+f;Od(r,V,q,A,o.pointStyleWidth&&g)}else{const V=k+Math.max((u-y)/2,0),q=l.leftForLtr(E,g),A=Jn(O.borderRadius);r.beginPath(),Object.values(A).some(Y=>Y!==0)?gs(r,{x:q,y:V,w:g,h:y,radius:A}):r.rect(q,V,g,y),r.fill(),F!==0&&r.stroke()}r.restore()},w=function(E,k,O){ar(r,O.text,E,k+_/2,h,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},S=this.isHorizontal(),M=this._computeTitleHeight();S?d={x:Ye(s,this.left+c,this.right-n[0]),y:this.top+c+M,line:0}:d={x:this.left+c,y:Ye(s,this.top+M+c,this.bottom-i[0].height),line:0},Nd(this.ctx,t.textDirection);const T=_+c;this.legendItems.forEach((E,k)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;const O=r.measureText(E.text).width,F=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),V=g+f+O;let q=d.x,A=d.y;l.setWidth(this.width),S?k>0&&q+V+c>this.right&&(A=d.y+=T,d.line++,q=d.x=Ye(s,this.left+c,this.right-n[d.line])):k>0&&A+T>this.bottom&&(q=d.x=q+i[d.line].width+c,d.line++,A=d.y=Ye(s,this.top+M+c,this.bottom-i[d.line].height));const Y=l.x(q);if(v(Y,A,E),q=Y0(F,q+g+f,S?q+V:this.right,t.rtl),w(l.x(q),A,E),S)d.x+=V+c;else if(typeof E.text!="string"){const Z=h.lineHeight;d.y+=hp(E,Z)+c}else d.y+=T}),Fd(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,n=Ie(i.font),r=He(i.padding);if(!i.display)return;const s=Sr(t.rtl,this.left,this.width),o=this.ctx,a=i.position,l=n.size/2,h=r.top+l;let c,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+h,u=Ye(t.align,u,this.right-f);else{const g=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);c=h+Ye(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const d=Ye(a,u,u+f);o.textAlign=s.textAlign(Vh(a)),o.textBaseline="middle",o.strokeStyle=i.color,o.fillStyle=i.color,o.font=n.string,ar(o,i.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,i=Ie(t.font),n=He(t.padding);return t.display?i.lineHeight+n.height:0}_getLegendItemAt(t,i){let n,r,s;if(Hi(t,this.left,this.right)&&Hi(i,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Hi(t,r.left,r.left+r.width)&&Hi(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){const i=this.options;if(!kw(t.type,i))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=ww(r,n);r&&!s&&oe(i.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!s&&oe(i.onHover,[t,n,this],this)}else n&&oe(i.onClick,[t,n,this],this)}}function vw(e,t,i,n,r){const s=Sw(n,e,t,i),o=xw(r,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}function Sw(e,t,i,n){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+i.size/2+n.measureText(r).width}function xw(e,t,i){let n=e;return typeof t.text!="string"&&(n=hp(t,i)),n}function hp(e,t){const i=e.text?e.text.length:0;return t*i}function kw(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ew={id:"legend",_element:Ju,start(e,t,i){const n=e.legend=new Ju({ctx:e.ctx,options:i,chart:e});ze.configure(e,n,i),ze.addBox(e,n)},stop(e){ze.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;ze.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const h=l.controller.getStyle(i?0:void 0),c=He(h.borderWidth);return{text:t[l.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class tc extends bi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const r=he(n.text)?n.text.length:1;this._padding=He(n.padding);const s=r*Ie(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:n,bottom:r,right:s,options:o}=this,a=o.align;let l=0,h,c,u;return this.isHorizontal()?(c=Ye(a,n,s),u=i+t,h=s-n):(o.position==="left"?(c=n+t,u=Ye(a,r,i),l=ue*-.5):(c=s-t,u=Ye(a,i,r),l=ue*.5),h=r-i),{titleX:c,titleY:u,maxWidth:h,rotation:l}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const n=Ie(i.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:h}=this._drawArgs(s);ar(t,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:h,textAlign:Vh(i.align),textBaseline:"middle",translation:[o,a]})}}function Mw(e,t){const i=new tc({ctx:e.ctx,options:t,chart:e});ze.configure(e,i,t),ze.addBox(e,i),e.titleBlock=i}var Aw={id:"title",_element:tc,start(e,t,i){Mw(e,i)},stop(e){const t=e.titleBlock;ze.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const n=e.titleBlock;ze.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $s=new WeakMap;var Tw={id:"subtitle",start(e,t,i){const n=new tc({ctx:e.ctx,options:i,chart:e});ze.configure(e,n,i),ze.addBox(e,n),$s.set(e,n)},stop(e){ze.removeBox(e,$s.get(e)),$s.delete(e)},beforeUpdate(e,t,i){const n=$s.get(e);ze.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qr={average(e){if(!e.length)return!1;let t,i,n=new Set,r=0,s=0;for(t=0,i=e.length;t<i;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),r+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:r/s}},nearest(e,t){if(!e.length)return!1;let i=t.x,n=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const h=l.getCenterPoint(),c=Ha(t,h);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function Si(e,t){return t&&(he(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Bi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Ow(e,t){const{element:i,datasetIndex:n,index:r}=t,s=e.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function tf(e,t){const i=e.chart.ctx,{body:n,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Ie(t.bodyFont),h=Ie(t.titleFont),c=Ie(t.footerFont),u=s.length,f=r.length,d=n.length,g=He(t.padding);let y=g.height,_=0,v=n.reduce((M,T)=>M+T.before.length+T.lines.length+T.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(y+=u*h.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){const M=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=d*M+(v-d)*l.lineHeight+(v-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let w=0;const S=function(M){_=Math.max(_,i.measureText(M).width+w)};return i.save(),i.font=h.string,Xt(e.title,S),i.font=l.string,Xt(e.beforeBody.concat(e.afterBody),S),w=t.displayColors?o+2+t.boxPadding:0,Xt(n,M=>{Xt(M.before,S),Xt(M.lines,S),Xt(M.after,S)}),w=0,i.font=c.string,Xt(e.footer,S),i.restore(),_+=g.width,{width:_,height:y}}function Pw(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}function Iw(e,t,i,n){const{x:r,width:s}=n,o=i.caretSize+i.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function Cw(e,t,i,n){const{x:r,width:s}=i,{width:o,chartArea:{left:a,right:l}}=e;let h="center";return n==="center"?h=r<=(a+l)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),Iw(h,e,t,i)&&(h="center"),h}function ef(e,t,i){const n=i.yAlign||t.yAlign||Pw(e,i);return{xAlign:i.xAlign||t.xAlign||Cw(e,t,i,n),yAlign:n}}function Rw(e,t){let{x:i,width:n}=e;return t==="right"?i-=n:t==="center"&&(i-=n/2),i}function Dw(e,t,i){let{y:n,height:r}=e;return t==="top"?n+=i:t==="bottom"?n-=r+i:n-=r/2,n}function nf(e,t,i,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=i,h=r+s,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:d}=Jn(o);let g=Rw(t,a);const y=Dw(t,l,h);return l==="center"?a==="left"?g+=h:a==="right"&&(g-=h):a==="left"?g-=Math.max(c,f)+r:a==="right"&&(g+=Math.max(u,d)+r),{x:Le(g,0,n.width-t.width),y:Le(y,0,n.height-t.height)}}function qs(e,t,i){const n=He(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function rf(e){return Si([],Bi(e))}function Lw(e,t,i){return In(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function sf(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const cp={beforeTitle:Ci,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:Ci,beforeBody:Ci,beforeLabel:Ci,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return $t(i)||(t+=i),t},labelColor(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Ci,afterBody:Ci,beforeFooter:Ci,footer:Ci,afterFooter:Ci};function qe(e,t,i,n){const r=e[t].call(i,n);return typeof r>"u"?cp[t].call(i,n):r}class tl extends bi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&i.options.animation&&n.animations,s=new Yd(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Lw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:n}=i,r=qe(n,"beforeTitle",this,t),s=qe(n,"title",this,t),o=qe(n,"afterTitle",this,t);let a=[];return a=Si(a,Bi(r)),a=Si(a,Bi(s)),a=Si(a,Bi(o)),a}getBeforeBody(t,i){return rf(qe(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:n}=i,r=[];return Xt(t,s=>{const o={before:[],lines:[],after:[]},a=sf(n,s);Si(o.before,Bi(qe(a,"beforeLabel",this,s))),Si(o.lines,qe(a,"label",this,s)),Si(o.after,Bi(qe(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,i){return rf(qe(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:n}=i,r=qe(n,"beforeFooter",this,t),s=qe(n,"footer",this,t),o=qe(n,"afterFooter",this,t);let a=[];return a=Si(a,Bi(r)),a=Si(a,Bi(s)),a=Si(a,Bi(o)),a}_createItems(t){const i=this._active,n=this.chart.data,r=[],s=[],o=[];let a=[],l,h;for(l=0,h=i.length;l<h;++l)a.push(Ow(this.chart,i[l]));return t.filter&&(a=a.filter((c,u,f)=>t.filter(c,u,f,n))),t.itemSort&&(a=a.sort((c,u)=>t.itemSort(c,u,n))),Xt(a,c=>{const u=sf(t.callbacks,c);r.push(qe(u,"labelColor",this,c)),s.push(qe(u,"labelPointStyle",this,c)),o.push(qe(u,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,i){const n=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Qr[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=tf(this,n),h=Object.assign({},a,l),c=ef(this.chart,n,h),u=nf(n,h,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,r){const s=this.getCaretPosition(t,n,r);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(t,i,n){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:h,bottomLeft:c,bottomRight:u}=Jn(a),{x:f,y:d}=t,{width:g,height:y}=i;let _,v,w,S,M,T;return s==="center"?(M=d+y/2,r==="left"?(_=f,v=_-o,S=M+o,T=M-o):(_=f+g,v=_+o,S=M-o,T=M+o),w=_):(r==="left"?v=f+Math.max(l,c)+o:r==="right"?v=f+g-Math.max(h,u)-o:v=this.caretX,s==="top"?(S=d,M=S-o,_=v-o,w=v+o):(S=d+y,M=S+o,_=v+o,w=v-o),T=S),{x1:_,x2:v,x3:w,y1:S,y2:M,y3:T}}drawTitle(t,i,n){const r=this.title,s=r.length;let o,a,l;if(s){const h=Sr(n.rtl,this.x,this.width);for(t.x=qs(this,n.titleAlign,n),i.textAlign=h.textAlign(n.titleAlign),i.textBaseline="middle",o=Ie(n.titleFont),a=n.titleSpacing,i.fillStyle=n.titleColor,i.font=o.string,l=0;l<s;++l)i.fillText(r[l],h.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,i,n,r,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:h}=s,c=Ie(s.bodyFont),u=qs(this,"left",s),f=r.x(u),d=l<c.lineHeight?(c.lineHeight-l)/2:0,g=i.y+d;if(s.usePointStyle){const y={radius:Math.min(h,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=r.leftForLtr(f,h)+h/2,v=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,qa(t,y,_,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,qa(t,y,_,v)}else{t.lineWidth=zt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,h),_=r.leftForLtr(r.xPlus(f,1),h-2),v=Jn(o.borderRadius);Object.values(v).some(w=>w!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,gs(t,{x:y,y:g,w:h,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),gs(t,{x:_,y:g+1,w:h-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,g,h,l),t.strokeRect(y,g,h,l),t.fillStyle=o.backgroundColor,t.fillRect(_,g+1,h-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:h,boxPadding:c}=n,u=Ie(n.bodyFont);let f=u.lineHeight,d=0;const g=Sr(n.rtl,this.x,this.width),y=function(O){i.fillText(O,g.x(t.x+d),t.y+f/2),t.y+=f+s},_=g.textAlign(o);let v,w,S,M,T,E,k;for(i.textAlign=o,i.textBaseline="middle",i.font=u.string,t.x=qs(this,_,n),i.fillStyle=n.bodyColor,Xt(this.beforeBody,y),d=a&&_!=="right"?o==="center"?h/2+c:h+2+c:0,M=0,E=r.length;M<E;++M){for(v=r[M],w=this.labelTextColors[M],i.fillStyle=w,Xt(v.before,y),S=v.lines,a&&S.length&&(this._drawColorBox(i,t,M,g,n),f=Math.max(u.lineHeight,l)),T=0,k=S.length;T<k;++T)y(S[T]),f=u.lineHeight;Xt(v.after,y)}d=0,f=u.lineHeight,Xt(this.afterBody,y),t.y-=s}drawFooter(t,i,n){const r=this.footer,s=r.length;let o,a;if(s){const l=Sr(n.rtl,this.x,this.width);for(t.x=qs(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=l.textAlign(n.footerAlign),i.textBaseline="middle",o=Ie(n.footerFont),i.fillStyle=n.footerColor,i.font=o.string,a=0;a<s;++a)i.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,i,n,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:h,height:c}=n,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:g}=Jn(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(a+u,l),o==="top"&&this.drawCaret(t,i,n,r),i.lineTo(a+h-f,l),i.quadraticCurveTo(a+h,l,a+h,l+f),o==="center"&&s==="right"&&this.drawCaret(t,i,n,r),i.lineTo(a+h,l+c-g),i.quadraticCurveTo(a+h,l+c,a+h-g,l+c),o==="bottom"&&this.drawCaret(t,i,n,r),i.lineTo(a+d,l+c),i.quadraticCurveTo(a,l+c,a,l+c-d),o==="center"&&s==="left"&&this.drawCaret(t,i,n,r),i.lineTo(a,l+u),i.quadraticCurveTo(a,l,a+u,l),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const o=Qr[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=tf(this,t),l=Object.assign({},o,this._size),h=ef(i,t,l),c=nf(t,l,h,i);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=He(i.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(s,t,r,i),Nd(t,i.textDirection),s.y+=o.top,this.drawTitle(s,t,i),this.drawBody(s,t,i),this.drawFooter(s,t,i),Fd(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const n=this._active,r=t.map(({datasetIndex:a,index:l})=>{const h=this.chart.getDatasetMeta(a);if(!h)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:h.data[l],index:l}}),s=!ko(n,r),o=this._positionChanged(r,i);(s||o)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,i,n),a=this._positionChanged(o,t),l=i||!ko(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),l}_getActiveElements(t,i,n,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return i.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(t,i){const{caretX:n,caretY:r,options:s}=this,o=Qr[s.position].call(this,t,i);return o!==!1&&(n!==o.x||r!==o.y)}}bt(tl,"positioners",Qr);var Bw={id:"tooltip",_element:tl,positioners:Qr,afterInit(e,t,i){i&&(e.tooltip=new tl({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Nw=Object.freeze({__proto__:null,Colors:K_,Decimation:J_,Filler:_w,Legend:Ew,SubTitle:Tw,Title:Aw,Tooltip:Bw});const Fw=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function Uw(e,t,i,n){const r=e.indexOf(t);if(r===-1)return Fw(e,t,i,n);const s=e.lastIndexOf(t);return r!==s?i:r}const jw=(e,t)=>e===null?null:Le(Math.round(e),0,t);function of(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class el extends lr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:r,label:s}of i)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,i){if($t(t))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===t?i:Uw(n,t,jt(i,t),this._addedLabels),jw(i,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),i||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,i=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=t===0&&i===s.length-1?s:s.slice(t,i+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=i;o++)r.push({value:o});return r}getLabelForValue(t){return of.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}bt(el,"id","category"),bt(el,"defaults",{ticks:{callback:of}});function Ww(e,t){const i=[],{bounds:r,step:s,min:o,max:a,precision:l,count:h,maxTicks:c,maxDigits:u,includeBounds:f}=e,d=s||1,g=c-1,{min:y,max:_}=t,v=!$t(o),w=!$t(a),S=!$t(h),M=(_-y)/(u+1);let T=tu((_-y)/g/d)*d,E,k,O,F;if(T<1e-14&&!v&&!w)return[{value:y},{value:_}];F=Math.ceil(_/T)-Math.floor(y/T),F>g&&(T=tu(F*T/g/d)*d),$t(l)||(E=Math.pow(10,l),T=Math.ceil(T*E)/E),r==="ticks"?(k=Math.floor(y/T)*T,O=Math.ceil(_/T)*T):(k=y,O=_),v&&w&&s&&L0((a-o)/s,T/1e3)?(F=Math.round(Math.min((a-o)/T,c)),T=(a-o)/F,k=o,O=a):S?(k=v?o:k,O=w?a:O,F=h-1,T=(O-k)/F):(F=(O-k)/T,is(F,Math.round(F),T/1e3)?F=Math.round(F):F=Math.ceil(F));const V=Math.max(eu(T),eu(k));E=Math.pow(10,$t(l)?V:l),k=Math.round(k*E)/E,O=Math.round(O*E)/E;let q=0;for(v&&(f&&k!==o?(i.push({value:o}),k<o&&q++,is(Math.round((k+q*T)*E)/E,o,af(o,M,e))&&q++):k<o&&q++);q<F;++q){const A=Math.round((k+q*T)*E)/E;if(w&&A>a)break;i.push({value:A})}return w&&f&&O!==a?i.length&&is(i[i.length-1].value,a,af(a,M,e))?i[i.length-1].value=a:i.push({value:a}):(!w||O===a)&&i.push({value:O}),i}function af(e,t,{horizontal:i,minRotation:n}){const r=pi(n),s=(i?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Io extends lr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=i?r:l,a=l=>s=n?s:l;if(t){const l=Ti(r),h=Ti(s);l<0&&h<0?a(0):l>0&&h>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},s=this._range||this,o=Ww(r,s);return t.bounds==="ticks"&&wd(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-i)/Math.max(t.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return As(t,this.chart.options.locale,this.options.ticks.format)}}class il extends Io{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=ke(t)?t:0,this.max=ke(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,n=pi(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}bt(il,"id","linear"),bt(il,"defaults",{ticks:{callback:zo.formatters.numeric}});const bs=e=>Math.floor(bn(e)),Nn=(e,t)=>Math.pow(10,bs(e)+t);function lf(e){return e/Math.pow(10,bs(e))===1}function hf(e,t,i){const n=Math.pow(10,i),r=Math.floor(e/n);return Math.ceil(t/n)-r}function Yw(e,t){const i=t-e;let n=bs(i);for(;hf(e,t,n)>10;)n++;for(;hf(e,t,n)<10;)n--;return Math.min(n,bs(e))}function zw(e,{min:t,max:i}){t=Je(e.min,t);const n=[],r=bs(t);let s=Yw(t,i),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,h=Math.round((t-l)*o)/o,c=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((h-c)/Math.pow(10,s)),f=Je(e.min,Math.round((l+c+u*Math.pow(10,s))*o)/o);for(;f<i;)n.push({value:f,major:lf(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),f=Math.round((l+c+u*Math.pow(10,s))*o)/o;const d=Je(e.max,f);return n.push({value:d,major:lf(d),significand:u}),n}class nl extends lr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const n=Io.prototype.parse.apply(this,[t,i]);if(n===0){this._zero=!0;return}return ke(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=ke(t)?Math.max(0,t):null,this.max=ke(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ke(this._userMin)&&(this.min=t===Nn(this.min,0)?Nn(this.min,-1):Nn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let n=this.min,r=this.max;const s=a=>n=t?n:a,o=a=>r=i?r:a;n===r&&(n<=0?(s(1),o(10)):(s(Nn(n,-1)),o(Nn(r,1)))),n<=0&&s(Nn(r,-1)),r<=0&&o(Nn(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,i={min:this._userMin,max:this._userMax},n=zw(i,this);return t.bounds==="ticks"&&wd(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":As(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=bn(t),this._valueRange=bn(this.max)-bn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(bn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}bt(nl,"id","logarithmic"),bt(nl,"defaults",{ticks:{callback:zo.formatters.logarithmic,major:{enabled:!0}}});function rl(e){const t=e.ticks;if(t.display&&e.display){const i=He(t.backdropPadding);return jt(t.font&&t.font.size,_e.font.size)+i.height}return 0}function Vw(e,t,i){return i=he(i)?i:[i],{w:Z0(e,t.string,i),h:i.length*t.lineHeight}}function cf(e,t,i,n,r){return e===n||e===r?{start:t-i/2,end:t+i/2}:e<n||e>r?{start:t-i,end:t}:{start:t,end:t+i}}function Hw(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?ue/s:0;for(let l=0;l<s;l++){const h=o.setContext(e.getPointLabelContext(l));r[l]=h.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],a),u=Ie(h.font),f=Vw(e.ctx,u,e._pointLabels[l]);n[l]=f;const d=ei(e.getIndexAngle(l)+a),g=Math.round(Yh(d)),y=cf(g,c.x,f.w,0,180),_=cf(g,c.y,f.h,90,270);$w(i,t,d,y,_)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=Kw(e,n,r)}function $w(e,t,i,n,r){const s=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/s,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function qw(e,t,i){const n=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=i,l=e.getPointPosition(t,n+r+o,s),h=Math.round(Yh(ei(l.angle+Me))),c=Zw(l.y,a.h,h),u=Qw(h),f=Xw(l.x,a.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:f,top:c,right:f+a.w,bottom:c+a.h}}function Gw(e,t){if(!t)return!0;const{left:i,top:n,right:r,bottom:s}=e;return!(qi({x:i,y:n},t)||qi({x:i,y:s},t)||qi({x:r,y:n},t)||qi({x:r,y:s},t))}function Kw(e,t,i){const n=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:rl(s)/2,additionalAngle:o?ue/r:0};let h;for(let c=0;c<r;c++){l.padding=i[c],l.size=t[c];const u=qw(e,c,l);n.push(u),a==="auto"&&(u.visible=Gw(u,h),u.visible&&(h=u))}return n}function Qw(e){return e===0||e===180?"center":e<180?"left":"right"}function Xw(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function Zw(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function Jw(e,t,i){const{left:n,top:r,right:s,bottom:o}=i,{backdropColor:a}=t;if(!$t(a)){const l=Jn(t.borderRadius),h=He(t.backdropPadding);e.fillStyle=a;const c=n-h.left,u=r-h.top,f=s-n+h.width,d=o-r+h.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),gs(e,{x:c,y:u,w:f,h:d,radius:l}),e.fill()):e.fillRect(c,u,f,d)}}function tv(e,t){const{ctx:i,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(e.getPointLabelContext(r));Jw(i,o,s);const a=Ie(o.font),{x:l,y:h,textAlign:c}=s;ar(i,e._pointLabels[r],l,h+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function up(e,t,i,n){const{ctx:r}=e;if(i)r.arc(e.xCenter,e.yCenter,t,0,ce);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function ev(e,t,i,n,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!n||!a||!l||i<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),up(e,i,o,n),s.closePath(),s.stroke(),s.restore())}function iv(e,t,i){return In(e,{label:i,index:t,type:"pointLabel"})}class Xr extends Io{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=He(rl(this.options)/2),i=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=ke(t)&&!isNaN(t)?t:0,this.max=ke(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rl(this.options))}generateTickLabels(t){Io.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,n)=>{const r=oe(this.options.pointLabels.callback,[i,n],this);return r||r===0?r:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Hw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,n,r){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,n,r))}getIndexAngle(t){const i=ce/(this._pointLabels.length||1),n=this.options.startAngle||0;return ei(t*i+pi(n))}getDistanceFromCenterForValue(t){if($t(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if($t(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const n=i[t];return iv(this.getContext(),t,n)}}getPointPosition(t,i,n=0){const r=this.getIndexAngle(t)-Me+n;return{x:Math.cos(r)*i+this.xCenter,y:Math.sin(r)*i+this.yCenter,angle:r}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:n,right:r,bottom:s}=this._pointLabelItems[t];return{left:i,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),up(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:n,grid:r,border:s}=i,o=this._pointLabels.length;let a,l,h;if(i.pointLabels.display&&tv(this,o),r.display&&this.ticks.forEach((c,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(u),d=r.setContext(f),g=s.setContext(f);ev(this,d,l,o,g)}}),n.display){for(t.save(),a=o-1;a>=0;a--){const c=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=c;!f||!u||(t.lineWidth=f,t.strokeStyle=u,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),h=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;const h=n.setContext(this.getContext(l)),c=Ie(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),h.showLabelBackdrop){t.font=c.string,o=t.measureText(a.label).width,t.fillStyle=h.backdropColor;const u=He(h.backdropPadding);t.fillRect(-o/2-u.left,-s-c.size/2-u.top,o+u.width,c.size+u.height)}ar(t,a.label,0,-s,c,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),t.restore()}drawTitle(){}}bt(Xr,"id","radialLinear"),bt(Xr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),bt(Xr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),bt(Xr,"descriptors",{angleLines:{_fallback:"grid"}});const qo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qe=Object.keys(qo);function uf(e,t){return e-t}function ff(e,t){if($t(t))return null;const i=e._adapter,{parser:n,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),ke(o)||(o=typeof n=="string"?i.parse(o,n):i.parse(o)),o===null?null:(r&&(o=r==="week"&&(Mr(s)||s===!0)?i.startOf(o,"isoWeek",s):i.startOf(o,r)),+o)}function df(e,t,i,n){const r=Qe.length;for(let s=Qe.indexOf(e);s<r-1;++s){const o=qo[Qe[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((i-t)/(a*o.size))<=n)return Qe[s]}return Qe[r-1]}function nv(e,t,i,n,r){for(let s=Qe.length-1;s>=Qe.indexOf(i);s--){const o=Qe[s];if(qo[o].common&&e._adapter.diff(r,n,o)>=t-1)return o}return Qe[i?Qe.indexOf(i):0]}function rv(e){for(let t=Qe.indexOf(e)+1,i=Qe.length;t<i;++t)if(qo[Qe[t]].common)return Qe[t]}function pf(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:n,hi:r}=zh(i,t),s=i[n]>=t?i[n]:i[r];e[s]=!0}}function sv(e,t,i,n){const r=e._adapter,s=+r.startOf(t[0].value,n),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,n))l=i[a],l>=0&&(t[l].major=!0);return t}function gf(e,t,i){const n=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,n.push({value:a,major:!1});return s===0||!i?n:sv(e,n,r,i)}class ys extends lr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const n=t.time||(t.time={}),r=this._adapter=new Hd._date(t.adapters.date);r.init(i),es(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:ff(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(h){!o&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!a&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ke(r)&&!isNaN(r)?r:+i.startOf(Date.now(),n),s=ke(s)&&!isNaN(s)?s:+i.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=U0(r,s,o);return this._unit=i.unit||(n.autoSkip?df(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):nv(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:rv(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),gf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,n=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?i=1-r:i=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?n=s:n=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;i=Le(i,0,o),n=Le(n,0,o),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,r=this.options,s=r.time,o=s.unit||df(s.minUnit,i,n,this._getLabelCapacity(i)),a=jt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,h=Mr(l)||l===!0,c={};let u=i,f,d;if(h&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,h?"day":o),t.diff(n,i,o)>1e5*a)throw new Error(i+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=u,d=0;f<n;f=+t.add(f,a,o),d++)pf(c,f,g);return(f===n||r.bounds==="ticks"||d===1)&&pf(c,f,g),Object.keys(c).sort(uf).map(y=>+y)}getLabelForValue(t){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(t,n.tooltipFormat):i.format(t,n.displayFormats.datetime)}format(t,i){const r=this.options.time.displayFormats,s=this._unit,o=i||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,i,n,r){const s=this.options,o=s.ticks.callback;if(o)return oe(o,[t,i,n],this);const a=s.time.displayFormats,l=this._unit,h=this._majorUnit,c=l&&a[l],u=h&&a[h],f=n[i],d=h&&u&&f&&f.major;return this._adapter.format(t,r||(d?u:c))}generateTickLabels(t){let i,n,r;for(i=0,n=t.length;i<n;++i)r=t[i],r.label=this._tickFormatFunction(r.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,r=pi(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,r=n[i.unit]||n.millisecond,s=this._tickFormatFunction(t,0,gf(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],i,n;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,n=r.length;i<n;++i)t=t.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const r=this.getLabels();for(i=0,n=r.length;i<n;++i)t.push(ff(this,r[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return xd(t.sort(uf))}}bt(ys,"id","time"),bt(ys,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gs(e,t,i){let n=0,r=e.length-1,s,o,a,l;i?(t>=e[n].pos&&t<=e[r].pos&&({lo:n,hi:r}=$i(e,"pos",t)),{pos:s,time:a}=e[n],{pos:o,time:l}=e[r]):(t>=e[n].time&&t<=e[r].time&&({lo:n,hi:r}=$i(e,"time",t)),{time:s,pos:a}=e[n],{time:o,pos:l}=e[r]);const h=o-s;return h?a+(l-a)*(t-s)/h:a}class sl extends ys{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Gs(i,this.min),this._tableRange=Gs(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:n}=this,r=[],s=[];let o,a,l,h,c;for(o=0,a=t.length;o<a;++o)h=t[o],h>=i&&h<=n&&r.push(h);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],h=r[o],Math.round((c+l)/2)!==h&&s.push({time:h,pos:o/(a-1)});return s}_generate(){const t=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Gs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return Gs(this._table,n*this._tableRange+this._minPos,!0)}}bt(sl,"id","timeseries"),bt(sl,"defaults",ys.defaults);var ov=Object.freeze({__proto__:null,CategoryScale:el,LinearScale:il,LogarithmicScale:nl,RadialLinearScale:Xr,TimeScale:ys,TimeSeriesScale:sl});const av=[dy,Y_,Nw,ov];zi.register(...av);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var fp;function kt(){return fp.apply(null,arguments)}function lv(e){fp=e}function yi(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function er(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ec(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Gt(e,t))return!1;return!0}function Ke(e){return e===void 0}function tn(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Os(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function dp(e,t){var i=[],n,r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function wn(e,t){for(var i in t)Gt(t,i)&&(e[i]=t[i]);return Gt(t,"toString")&&(e.toString=t.toString),Gt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Pi(e,t,i,n){return Bp(e,t,i,n,!0).utc()}function hv(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Yt(e){return e._pf==null&&(e._pf=hv()),e._pf}var ol;Array.prototype.some?ol=Array.prototype.some:ol=function(e){var t=Object(this),i=t.length>>>0,n;for(n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function ic(e){var t=null,i=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Yt(e),i=ol.call(t.parsedDateParts,function(r){return r!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Go(e){var t=Pi(NaN);return e!=null?wn(Yt(t),e):Yt(t).userInvalidated=!0,t}var mf=kt.momentProperties=[],Ea=!1;function nc(e,t){var i,n,r,s=mf.length;if(Ke(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ke(t._i)||(e._i=t._i),Ke(t._f)||(e._f=t._f),Ke(t._l)||(e._l=t._l),Ke(t._strict)||(e._strict=t._strict),Ke(t._tzm)||(e._tzm=t._tzm),Ke(t._isUTC)||(e._isUTC=t._isUTC),Ke(t._offset)||(e._offset=t._offset),Ke(t._pf)||(e._pf=Yt(t)),Ke(t._locale)||(e._locale=t._locale),s>0)for(i=0;i<s;i++)n=mf[i],r=t[n],Ke(r)||(e[n]=r);return e}function Ps(e){nc(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ea===!1&&(Ea=!0,kt.updateOffset(this),Ea=!1)}function _i(e){return e instanceof Ps||e!=null&&e._isAMomentObject!=null}function pp(e){kt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ai(e,t){var i=!0;return wn(function(){if(kt.deprecationHandler!=null&&kt.deprecationHandler(null,e),i){var n=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])Gt(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];n.push(r)}pp(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var bf={};function gp(e,t){kt.deprecationHandler!=null&&kt.deprecationHandler(e,t),bf[e]||(pp(t),bf[e]=!0)}kt.suppressDeprecationWarnings=!1;kt.deprecationHandler=null;function Ii(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function cv(e){var t,i;for(i in e)Gt(e,i)&&(t=e[i],Ii(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function al(e,t){var i=wn({},e),n;for(n in t)Gt(t,n)&&(er(e[n])&&er(t[n])?(i[n]={},wn(i[n],e[n]),wn(i[n],t[n])):t[n]!=null?i[n]=t[n]:delete i[n]);for(n in e)Gt(e,n)&&!Gt(t,n)&&er(e[n])&&(i[n]=wn({},i[n]));return i}function rc(e){e!=null&&this.set(e)}var ll;Object.keys?ll=Object.keys:ll=function(e){var t,i=[];for(t in e)Gt(e,t)&&i.push(t);return i};var uv={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function fv(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return Ii(n)?n.call(t,i):n}function Oi(e,t,i){var n=""+Math.abs(e),r=t-n.length,s=e>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var sc=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ks=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ma={},xr={};function Ct(e,t,i,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),e&&(xr[e]=r),t&&(xr[t[0]]=function(){return Oi(r.apply(this,arguments),t[1],t[2])}),i&&(xr[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function dv(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function pv(e){var t=e.match(sc),i,n;for(i=0,n=t.length;i<n;i++)xr[t[i]]?t[i]=xr[t[i]]:t[i]=dv(t[i]);return function(r){var s="",o;for(o=0;o<n;o++)s+=Ii(t[o])?t[o].call(r,e):t[o];return s}}function fo(e,t){return e.isValid()?(t=mp(t,e.localeData()),Ma[t]=Ma[t]||pv(t),Ma[t](e)):e.localeData().invalidDate()}function mp(e,t){var i=5;function n(r){return t.longDateFormat(r)||r}for(Ks.lastIndex=0;i>=0&&Ks.test(e);)e=e.replace(Ks,n),Ks.lastIndex=0,i-=1;return e}var gv={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function mv(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(sc).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var bv="Invalid date";function yv(){return this._invalidDate}var _v="%d",wv=/\d{1,2}/;function vv(e){return this._ordinal.replace("%d",e)}var Sv={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function xv(e,t,i,n){var r=this._relativeTime[i];return Ii(r)?r(e,t,i,n):r.replace(/%d/i,e)}function kv(e,t){var i=this._relativeTime[e>0?"future":"past"];return Ii(i)?i(t):i.replace(/%s/i,t)}var yf={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function li(e){return typeof e=="string"?yf[e]||yf[e.toLowerCase()]:void 0}function oc(e){var t={},i,n;for(n in e)Gt(e,n)&&(i=li(n),i&&(t[i]=e[n]));return t}var Ev={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Mv(e){var t=[],i;for(i in e)Gt(e,i)&&t.push({unit:i,priority:Ev[i]});return t.sort(function(n,r){return n.priority-r.priority}),t}var bp=/\d/,ii=/\d\d/,yp=/\d{3}/,ac=/\d{4}/,Ko=/[+-]?\d{6}/,de=/\d\d?/,_p=/\d\d\d\d?/,wp=/\d\d\d\d\d\d?/,Qo=/\d{1,3}/,lc=/\d{1,4}/,Xo=/[+-]?\d{1,6}/,Or=/\d+/,Zo=/[+-]?\d+/,Av=/Z|[+-]\d\d:?\d\d/gi,Jo=/Z|[+-]\d\d(?::?\d\d)?/gi,Tv=/[+-]?\d+(\.\d{1,3})?/,Is=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pr=/^[1-9]\d?/,hc=/^([1-9]\d|\d)/,Co;Co={};function At(e,t,i){Co[e]=Ii(t)?t:function(n,r){return n&&i?i:t}}function Ov(e,t){return Gt(Co,e)?Co[e](t._strict,t._locale):new RegExp(Pv(e))}function Pv(e){return Zi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,n,r,s){return i||n||r||s}))}function Zi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function oi(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Vt(e){var t=+e,i=0;return t!==0&&isFinite(t)&&(i=oi(t)),i}var hl={};function ee(e,t){var i,n=t,r;for(typeof e=="string"&&(e=[e]),tn(t)&&(n=function(s,o){o[t]=Vt(s)}),r=e.length,i=0;i<r;i++)hl[e[i]]=n}function Cs(e,t){ee(e,function(i,n,r,s){r._w=r._w||{},t(i,r._w,r,s)})}function Iv(e,t,i){t!=null&&Gt(hl,e)&&hl[e](t,i._a,i,e)}function ta(e){return e%4===0&&e%100!==0||e%400===0}var Ve=0,Gi=1,Ei=2,Ce=3,gi=4,Ki=5,Qn=6,Cv=7,Rv=8;Ct("Y",0,0,function(){var e=this.year();return e<=9999?Oi(e,4):"+"+e});Ct(0,["YY",2],0,function(){return this.year()%100});Ct(0,["YYYY",4],0,"year");Ct(0,["YYYYY",5],0,"year");Ct(0,["YYYYYY",6,!0],0,"year");At("Y",Zo);At("YY",de,ii);At("YYYY",lc,ac);At("YYYYY",Xo,Ko);At("YYYYYY",Xo,Ko);ee(["YYYYY","YYYYYY"],Ve);ee("YYYY",function(e,t){t[Ve]=e.length===2?kt.parseTwoDigitYear(e):Vt(e)});ee("YY",function(e,t){t[Ve]=kt.parseTwoDigitYear(e)});ee("Y",function(e,t){t[Ve]=parseInt(e,10)});function os(e){return ta(e)?366:365}kt.parseTwoDigitYear=function(e){return Vt(e)+(Vt(e)>68?1900:2e3)};var vp=Ir("FullYear",!0);function Dv(){return ta(this.year())}function Ir(e,t){return function(i){return i!=null?(Sp(this,e,i),kt.updateOffset(this,t),this):_s(this,e)}}function _s(e,t){if(!e.isValid())return NaN;var i=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return n?i.getUTCSeconds():i.getSeconds();case"Minutes":return n?i.getUTCMinutes():i.getMinutes();case"Hours":return n?i.getUTCHours():i.getHours();case"Date":return n?i.getUTCDate():i.getDate();case"Day":return n?i.getUTCDay():i.getDay();case"Month":return n?i.getUTCMonth():i.getMonth();case"FullYear":return n?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Sp(e,t,i){var n,r,s,o,a;if(!(!e.isValid()||isNaN(i))){switch(n=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?n.setUTCMilliseconds(i):n.setMilliseconds(i));case"Seconds":return void(r?n.setUTCSeconds(i):n.setSeconds(i));case"Minutes":return void(r?n.setUTCMinutes(i):n.setMinutes(i));case"Hours":return void(r?n.setUTCHours(i):n.setHours(i));case"Date":return void(r?n.setUTCDate(i):n.setDate(i));case"FullYear":break;default:return}s=i,o=e.month(),a=e.date(),a=a===29&&o===1&&!ta(s)?28:a,r?n.setUTCFullYear(s,o,a):n.setFullYear(s,o,a)}}function Lv(e){return e=li(e),Ii(this[e])?this[e]():this}function Bv(e,t){if(typeof e=="object"){e=oc(e);var i=Mv(e),n,r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(e=li(e),Ii(this[e]))return this[e](t);return this}function Nv(e,t){return(e%t+t)%t}var Ee;Array.prototype.indexOf?Ee=Array.prototype.indexOf:Ee=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function cc(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=Nv(t,12);return e+=(t-i)/12,i===1?ta(e)?29:28:31-i%7%2}Ct("M",["MM",2],"Mo",function(){return this.month()+1});Ct("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Ct("MMMM",0,0,function(e){return this.localeData().months(this,e)});At("M",de,Pr);At("MM",de,ii);At("MMM",function(e,t){return t.monthsShortRegex(e)});At("MMMM",function(e,t){return t.monthsRegex(e)});ee(["M","MM"],function(e,t){t[Gi]=Vt(e)-1});ee(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);r!=null?t[Gi]=r:Yt(i).invalidMonth=e});var Fv="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xp="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kp=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Uv=Is,jv=Is;function Wv(e,t){return e?yi(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||kp).test(t)?"format":"standalone"][e.month()]:yi(this._months)?this._months:this._months.standalone}function Yv(e,t){return e?yi(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[kp.test(t)?"format":"standalone"][e.month()]:yi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function zv(e,t,i){var n,r,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Pi([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?t==="MMM"?(r=Ee.call(this._shortMonthsParse,o),r!==-1?r:null):(r=Ee.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=Ee.call(this._shortMonthsParse,o),r!==-1?r:(r=Ee.call(this._longMonthsParse,o),r!==-1?r:null)):(r=Ee.call(this._longMonthsParse,o),r!==-1?r:(r=Ee.call(this._shortMonthsParse,o),r!==-1?r:null))}function Vv(e,t,i){var n,r,s;if(this._monthsParseExact)return zv.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=Pi([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!i&&!this._monthsParse[n]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(i&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function Ep(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Vt(t);else if(t=e.localeData().monthsParse(t),!tn(t))return e}var i=t,n=e.date();return n=n<29?n:Math.min(n,cc(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,n):e._d.setMonth(i,n),e}function Mp(e){return e!=null?(Ep(this,e),kt.updateOffset(this,!0),this):_s(this,"Month")}function Hv(){return cc(this.year(),this.month())}function $v(e){return this._monthsParseExact?(Gt(this,"_monthsRegex")||Ap.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Gt(this,"_monthsShortRegex")||(this._monthsShortRegex=Uv),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function qv(e){return this._monthsParseExact?(Gt(this,"_monthsRegex")||Ap.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Gt(this,"_monthsRegex")||(this._monthsRegex=jv),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ap(){function e(l,h){return h.length-l.length}var t=[],i=[],n=[],r,s,o,a;for(r=0;r<12;r++)s=Pi([2e3,r]),o=Zi(this.monthsShort(s,"")),a=Zi(this.months(s,"")),t.push(o),i.push(a),n.push(a),n.push(o);t.sort(e),i.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Gv(e,t,i,n,r,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,n,r,s,o),a}function ws(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ro(e,t,i){var n=7+t-i,r=(7+ws(e,0,n).getUTCDay()-t)%7;return-r+n-1}function Tp(e,t,i,n,r){var s=(7+i-n)%7,o=Ro(e,n,r),a=1+7*(t-1)+s+o,l,h;return a<=0?(l=e-1,h=os(l)+a):a>os(e)?(l=e+1,h=a-os(e)):(l=e,h=a),{year:l,dayOfYear:h}}function vs(e,t,i){var n=Ro(e.year(),t,i),r=Math.floor((e.dayOfYear()-n-1)/7)+1,s,o;return r<1?(o=e.year()-1,s=r+Ji(o,t,i)):r>Ji(e.year(),t,i)?(s=r-Ji(e.year(),t,i),o=e.year()+1):(o=e.year(),s=r),{week:s,year:o}}function Ji(e,t,i){var n=Ro(e,t,i),r=Ro(e+1,t,i);return(os(e)-n+r)/7}Ct("w",["ww",2],"wo","week");Ct("W",["WW",2],"Wo","isoWeek");At("w",de,Pr);At("ww",de,ii);At("W",de,Pr);At("WW",de,ii);Cs(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=Vt(e)});function Kv(e){return vs(e,this._week.dow,this._week.doy).week}var Qv={dow:0,doy:6};function Xv(){return this._week.dow}function Zv(){return this._week.doy}function Jv(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function t1(e){var t=vs(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Ct("d",0,"do","day");Ct("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Ct("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Ct("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Ct("e",0,0,"weekday");Ct("E",0,0,"isoWeekday");At("d",de);At("e",de);At("E",de);At("dd",function(e,t){return t.weekdaysMinRegex(e)});At("ddd",function(e,t){return t.weekdaysShortRegex(e)});At("dddd",function(e,t){return t.weekdaysRegex(e)});Cs(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);r!=null?t.d=r:Yt(i).invalidWeekday=e});Cs(["d","e","E"],function(e,t,i,n){t[n]=Vt(e)});function e1(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function i1(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function uc(e,t){return e.slice(t,7).concat(e.slice(0,t))}var n1="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Op="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),r1="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),s1=Is,o1=Is,a1=Is;function l1(e,t){var i=yi(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?uc(i,this._week.dow):e?i[e.day()]:i}function h1(e){return e===!0?uc(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function c1(e){return e===!0?uc(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function u1(e,t,i){var n,r,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Pi([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?t==="dddd"?(r=Ee.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=Ee.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=Ee.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=Ee.call(this._weekdaysParse,o),r!==-1||(r=Ee.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=Ee.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=Ee.call(this._shortWeekdaysParse,o),r!==-1||(r=Ee.call(this._weekdaysParse,o),r!==-1)?r:(r=Ee.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=Ee.call(this._minWeekdaysParse,o),r!==-1||(r=Ee.call(this._weekdaysParse,o),r!==-1)?r:(r=Ee.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function f1(e,t,i){var n,r,s;if(this._weekdaysParseExact)return u1.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=Pi([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(i&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(i&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function d1(e){if(!this.isValid())return e!=null?this:NaN;var t=_s(this,"Day");return e!=null?(e=e1(e,this.localeData()),this.add(e-t,"d")):t}function p1(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function g1(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=i1(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function m1(e){return this._weekdaysParseExact?(Gt(this,"_weekdaysRegex")||fc.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Gt(this,"_weekdaysRegex")||(this._weekdaysRegex=s1),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function b1(e){return this._weekdaysParseExact?(Gt(this,"_weekdaysRegex")||fc.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Gt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=o1),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function y1(e){return this._weekdaysParseExact?(Gt(this,"_weekdaysRegex")||fc.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Gt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=a1),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fc(){function e(c,u){return u.length-c.length}var t=[],i=[],n=[],r=[],s,o,a,l,h;for(s=0;s<7;s++)o=Pi([2e3,1]).day(s),a=Zi(this.weekdaysMin(o,"")),l=Zi(this.weekdaysShort(o,"")),h=Zi(this.weekdays(o,"")),t.push(a),i.push(l),n.push(h),r.push(a),r.push(l),r.push(h);t.sort(e),i.sort(e),n.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function dc(){return this.hours()%12||12}function _1(){return this.hours()||24}Ct("H",["HH",2],0,"hour");Ct("h",["hh",2],0,dc);Ct("k",["kk",2],0,_1);Ct("hmm",0,0,function(){return""+dc.apply(this)+Oi(this.minutes(),2)});Ct("hmmss",0,0,function(){return""+dc.apply(this)+Oi(this.minutes(),2)+Oi(this.seconds(),2)});Ct("Hmm",0,0,function(){return""+this.hours()+Oi(this.minutes(),2)});Ct("Hmmss",0,0,function(){return""+this.hours()+Oi(this.minutes(),2)+Oi(this.seconds(),2)});function Pp(e,t){Ct(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Pp("a",!0);Pp("A",!1);function Ip(e,t){return t._meridiemParse}At("a",Ip);At("A",Ip);At("H",de,hc);At("h",de,Pr);At("k",de,Pr);At("HH",de,ii);At("hh",de,ii);At("kk",de,ii);At("hmm",_p);At("hmmss",wp);At("Hmm",_p);At("Hmmss",wp);ee(["H","HH"],Ce);ee(["k","kk"],function(e,t,i){var n=Vt(e);t[Ce]=n===24?0:n});ee(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e});ee(["h","hh"],function(e,t,i){t[Ce]=Vt(e),Yt(i).bigHour=!0});ee("hmm",function(e,t,i){var n=e.length-2;t[Ce]=Vt(e.substr(0,n)),t[gi]=Vt(e.substr(n)),Yt(i).bigHour=!0});ee("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[Ce]=Vt(e.substr(0,n)),t[gi]=Vt(e.substr(n,2)),t[Ki]=Vt(e.substr(r)),Yt(i).bigHour=!0});ee("Hmm",function(e,t,i){var n=e.length-2;t[Ce]=Vt(e.substr(0,n)),t[gi]=Vt(e.substr(n))});ee("Hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[Ce]=Vt(e.substr(0,n)),t[gi]=Vt(e.substr(n,2)),t[Ki]=Vt(e.substr(r))});function w1(e){return(e+"").toLowerCase().charAt(0)==="p"}var v1=/[ap]\.?m?\.?/i,S1=Ir("Hours",!0);function x1(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var Cp={calendar:uv,longDateFormat:gv,invalidDate:bv,ordinal:_v,dayOfMonthOrdinalParse:wv,relativeTime:Sv,months:Fv,monthsShort:xp,week:Qv,weekdays:n1,weekdaysMin:r1,weekdaysShort:Op,meridiemParse:v1},be={},jr={},Ss;function k1(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function _f(e){return e&&e.toLowerCase().replace("_","-")}function E1(e){for(var t=0,i,n,r,s;t<e.length;){for(s=_f(e[t]).split("-"),i=s.length,n=_f(e[t+1]),n=n?n.split("-"):null;i>0;){if(r=ea(s.slice(0,i).join("-")),r)return r;if(n&&n.length>=i&&k1(s,n)>=i-1)break;i--}t++}return Ss}function M1(e){return!!(e&&e.match("^[^/\\\\]*$"))}function ea(e){var t=null,i;if(be[e]===void 0&&typeof module<"u"&&module&&module.exports&&M1(e))try{t=Ss._abbr,i=require,i("./locale/"+e),xn(t)}catch{be[e]=null}return be[e]}function xn(e,t){var i;return e&&(Ke(t)?i=sn(e):i=pc(e,t),i?Ss=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ss._abbr}function pc(e,t){if(t!==null){var i,n=Cp;if(t.abbr=e,be[e]!=null)gp("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=be[e]._config;else if(t.parentLocale!=null)if(be[t.parentLocale]!=null)n=be[t.parentLocale]._config;else if(i=ea(t.parentLocale),i!=null)n=i._config;else return jr[t.parentLocale]||(jr[t.parentLocale]=[]),jr[t.parentLocale].push({name:e,config:t}),null;return be[e]=new rc(al(n,t)),jr[e]&&jr[e].forEach(function(r){pc(r.name,r.config)}),xn(e),be[e]}else return delete be[e],null}function A1(e,t){if(t!=null){var i,n,r=Cp;be[e]!=null&&be[e].parentLocale!=null?be[e].set(al(be[e]._config,t)):(n=ea(e),n!=null&&(r=n._config),t=al(r,t),n==null&&(t.abbr=e),i=new rc(t),i.parentLocale=be[e],be[e]=i),xn(e)}else be[e]!=null&&(be[e].parentLocale!=null?(be[e]=be[e].parentLocale,e===xn()&&xn(e)):be[e]!=null&&delete be[e]);return be[e]}function sn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ss;if(!yi(e)){if(t=ea(e),t)return t;e=[e]}return E1(e)}function T1(){return ll(be)}function gc(e){var t,i=e._a;return i&&Yt(e).overflow===-2&&(t=i[Gi]<0||i[Gi]>11?Gi:i[Ei]<1||i[Ei]>cc(i[Ve],i[Gi])?Ei:i[Ce]<0||i[Ce]>24||i[Ce]===24&&(i[gi]!==0||i[Ki]!==0||i[Qn]!==0)?Ce:i[gi]<0||i[gi]>59?gi:i[Ki]<0||i[Ki]>59?Ki:i[Qn]<0||i[Qn]>999?Qn:-1,Yt(e)._overflowDayOfYear&&(t<Ve||t>Ei)&&(t=Ei),Yt(e)._overflowWeeks&&t===-1&&(t=Cv),Yt(e)._overflowWeekday&&t===-1&&(t=Rv),Yt(e).overflow=t),e}var O1=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,P1=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,I1=/Z|[+-]\d\d(?::?\d\d)?/,Qs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Aa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],C1=/^\/?Date\((-?\d+)/i,R1=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,D1={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Rp(e){var t,i,n=e._i,r=O1.exec(n)||P1.exec(n),s,o,a,l,h=Qs.length,c=Aa.length;if(r){for(Yt(e).iso=!0,t=0,i=h;t<i;t++)if(Qs[t][1].exec(r[1])){o=Qs[t][0],s=Qs[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(r[3]){for(t=0,i=c;t<i;t++)if(Aa[t][1].exec(r[3])){a=(r[2]||" ")+Aa[t][0];break}if(a==null){e._isValid=!1;return}}if(!s&&a!=null){e._isValid=!1;return}if(r[4])if(I1.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),bc(e)}else e._isValid=!1}function L1(e,t,i,n,r,s){var o=[B1(e),xp.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function B1(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function N1(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function F1(e,t,i){if(e){var n=Op.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(n!==r)return Yt(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function U1(e,t,i){if(e)return D1[e];if(t)return 0;var n=parseInt(i,10),r=n%100,s=(n-r)/100;return s*60+r}function Dp(e){var t=R1.exec(N1(e._i)),i;if(t){if(i=L1(t[4],t[3],t[2],t[5],t[6],t[7]),!F1(t[1],i,e))return;e._a=i,e._tzm=U1(t[8],t[9],t[10]),e._d=ws.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Yt(e).rfc2822=!0}else e._isValid=!1}function j1(e){var t=C1.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Rp(e),e._isValid===!1)delete e._isValid;else return;if(Dp(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:kt.createFromInputFallback(e)}kt.createFromInputFallback=ai("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function yr(e,t,i){return e??t??i}function W1(e){var t=new Date(kt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function mc(e){var t,i,n=[],r,s,o;if(!e._d){for(r=W1(e),e._w&&e._a[Ei]==null&&e._a[Gi]==null&&Y1(e),e._dayOfYear!=null&&(o=yr(e._a[Ve],r[Ve]),(e._dayOfYear>os(o)||e._dayOfYear===0)&&(Yt(e)._overflowDayOfYear=!0),i=ws(o,0,e._dayOfYear),e._a[Gi]=i.getUTCMonth(),e._a[Ei]=i.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=r[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ce]===24&&e._a[gi]===0&&e._a[Ki]===0&&e._a[Qn]===0&&(e._nextDay=!0,e._a[Ce]=0),e._d=(e._useUTC?ws:Gv).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ce]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(Yt(e).weekdayMismatch=!0)}}function Y1(e){var t,i,n,r,s,o,a,l,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,i=yr(t.GG,e._a[Ve],vs(fe(),1,4).year),n=yr(t.W,1),r=yr(t.E,1),(r<1||r>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,h=vs(fe(),s,o),i=yr(t.gg,e._a[Ve],h.year),n=yr(t.w,h.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s),n<1||n>Ji(i,s,o)?Yt(e)._overflowWeeks=!0:l!=null?Yt(e)._overflowWeekday=!0:(a=Tp(i,n,r,s,o),e._a[Ve]=a.year,e._dayOfYear=a.dayOfYear)}kt.ISO_8601=function(){};kt.RFC_2822=function(){};function bc(e){if(e._f===kt.ISO_8601){Rp(e);return}if(e._f===kt.RFC_2822){Dp(e);return}e._a=[],Yt(e).empty=!0;var t=""+e._i,i,n,r,s,o,a=t.length,l=0,h,c;for(r=mp(e._f,e._locale).match(sc)||[],c=r.length,i=0;i<c;i++)s=r[i],n=(t.match(Ov(s,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&Yt(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),l+=n.length),xr[s]?(n?Yt(e).empty=!1:Yt(e).unusedTokens.push(s),Iv(s,n,e)):e._strict&&!n&&Yt(e).unusedTokens.push(s);Yt(e).charsLeftOver=a-l,t.length>0&&Yt(e).unusedInput.push(t),e._a[Ce]<=12&&Yt(e).bigHour===!0&&e._a[Ce]>0&&(Yt(e).bigHour=void 0),Yt(e).parsedDateParts=e._a.slice(0),Yt(e).meridiem=e._meridiem,e._a[Ce]=z1(e._locale,e._a[Ce],e._meridiem),h=Yt(e).era,h!==null&&(e._a[Ve]=e._locale.erasConvertYear(h,e._a[Ve])),mc(e),gc(e)}function z1(e,t,i){var n;return i==null?t:e.meridiemHour!=null?e.meridiemHour(t,i):(e.isPM!=null&&(n=e.isPM(i),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function V1(e){var t,i,n,r,s,o,a=!1,l=e._f.length;if(l===0){Yt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,t=nc({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],bc(t),ic(t)&&(o=!0),s+=Yt(t).charsLeftOver,s+=Yt(t).unusedTokens.length*10,Yt(t).score=s,a?s<n&&(n=s,i=t):(n==null||s<n||o)&&(n=s,i=t,o&&(a=!0));wn(e,i||t)}function H1(e){if(!e._d){var t=oc(e._i),i=t.day===void 0?t.date:t.day;e._a=dp([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),mc(e)}}function $1(e){var t=new Ps(gc(Lp(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Lp(e){var t=e._i,i=e._f;return e._locale=e._locale||sn(e._l),t===null||i===void 0&&t===""?Go({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),_i(t)?new Ps(gc(t)):(Os(t)?e._d=t:yi(i)?V1(e):i?bc(e):q1(e),ic(e)||(e._d=null),e))}function q1(e){var t=e._i;Ke(t)?e._d=new Date(kt.now()):Os(t)?e._d=new Date(t.valueOf()):typeof t=="string"?j1(e):yi(t)?(e._a=dp(t.slice(0),function(i){return parseInt(i,10)}),mc(e)):er(t)?H1(e):tn(t)?e._d=new Date(t):kt.createFromInputFallback(e)}function Bp(e,t,i,n,r){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(i===!0||i===!1)&&(n=i,i=void 0),(er(e)&&ec(e)||yi(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=i,s._i=e,s._f=t,s._strict=n,$1(s)}function fe(e,t,i,n){return Bp(e,t,i,n,!1)}var G1=ai("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=fe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Go()}),K1=ai("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=fe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Go()});function Np(e,t){var i,n;if(t.length===1&&yi(t[0])&&(t=t[0]),!t.length)return fe();for(i=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](i))&&(i=t[n]);return i}function Q1(){var e=[].slice.call(arguments,0);return Np("isBefore",e)}function X1(){var e=[].slice.call(arguments,0);return Np("isAfter",e)}var Z1=function(){return Date.now?Date.now():+new Date},Wr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function J1(e){var t,i=!1,n,r=Wr.length;for(t in e)if(Gt(e,t)&&!(Ee.call(Wr,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<r;++n)if(e[Wr[n]]){if(i)return!1;parseFloat(e[Wr[n]])!==Vt(e[Wr[n]])&&(i=!0)}return!0}function tS(){return this._isValid}function eS(){return wi(NaN)}function ia(e){var t=oc(e),i=t.year||0,n=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,h=t.second||0,c=t.millisecond||0;this._isValid=J1(t),this._milliseconds=+c+h*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+n*3+i*12,this._data={},this._locale=sn(),this._bubble()}function po(e){return e instanceof ia}function cl(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function iS(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0,o;for(o=0;o<n;o++)(i&&e[o]!==t[o]||!i&&Vt(e[o])!==Vt(t[o]))&&s++;return s+r}function Fp(e,t){Ct(e,0,0,function(){var i=this.utcOffset(),n="+";return i<0&&(i=-i,n="-"),n+Oi(~~(i/60),2)+t+Oi(~~i%60,2)})}Fp("Z",":");Fp("ZZ","");At("Z",Jo);At("ZZ",Jo);ee(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=yc(Jo,e)});var nS=/([\+\-]|\d\d)/gi;function yc(e,t){var i=(t||"").match(e),n,r,s;return i===null?null:(n=i[i.length-1]||[],r=(n+"").match(nS)||["-",0,0],s=+(r[1]*60)+Vt(r[2]),s===0?0:r[0]==="+"?s:-s)}function _c(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(_i(e)||Os(e)?e.valueOf():fe(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),kt.updateOffset(i,!1),i):fe(e).local()}function ul(e){return-Math.round(e._d.getTimezoneOffset())}kt.updateOffset=function(){};function rS(e,t,i){var n=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=yc(Jo,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&t&&(r=ul(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==e&&(!t||this._changeInProgress?Wp(this,wi(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,kt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ul(this)}function sS(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function oS(e){return this.utcOffset(0,e)}function aS(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ul(this),"m")),this}function lS(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=yc(Av,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hS(e){return this.isValid()?(e=e?fe(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function cS(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function uS(){if(!Ke(this._isDSTShifted))return this._isDSTShifted;var e={},t;return nc(e,this),e=Lp(e),e._a?(t=e._isUTC?Pi(e._a):fe(e._a),this._isDSTShifted=this.isValid()&&iS(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function fS(){return this.isValid()?!this._isUTC:!1}function dS(){return this.isValid()?this._isUTC:!1}function Up(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,gS=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function wi(e,t){var i=e,n=null,r,s,o;return po(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:tn(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(n=pS.exec(e))?(r=n[1]==="-"?-1:1,i={y:0,d:Vt(n[Ei])*r,h:Vt(n[Ce])*r,m:Vt(n[gi])*r,s:Vt(n[Ki])*r,ms:Vt(cl(n[Qn]*1e3))*r}):(n=gS.exec(e))?(r=n[1]==="-"?-1:1,i={y:Fn(n[2],r),M:Fn(n[3],r),w:Fn(n[4],r),d:Fn(n[5],r),h:Fn(n[6],r),m:Fn(n[7],r),s:Fn(n[8],r)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(o=mS(fe(i.from),fe(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),s=new ia(i),po(e)&&Gt(e,"_locale")&&(s._locale=e._locale),po(e)&&Gt(e,"_isValid")&&(s._isValid=e._isValid),s}wi.fn=ia.prototype;wi.invalid=eS;function Fn(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function wf(e,t){var i={};return i.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function mS(e,t){var i;return e.isValid()&&t.isValid()?(t=_c(t,e),e.isBefore(t)?i=wf(e,t):(i=wf(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function jp(e,t){return function(i,n){var r,s;return n!==null&&!isNaN(+n)&&(gp(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),r=wi(i,n),Wp(this,r,e),this}}function Wp(e,t,i,n){var r=t._milliseconds,s=cl(t._days),o=cl(t._months);e.isValid()&&(n=n??!0,o&&Ep(e,_s(e,"Month")+o*i),s&&Sp(e,"Date",_s(e,"Date")+s*i),r&&e._d.setTime(e._d.valueOf()+r*i),n&&kt.updateOffset(e,s||o))}var bS=jp(1,"add"),yS=jp(-1,"subtract");function Yp(e){return typeof e=="string"||e instanceof String}function _S(e){return _i(e)||Os(e)||Yp(e)||tn(e)||vS(e)||wS(e)||e===null||e===void 0}function wS(e){var t=er(e)&&!ec(e),i=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=n.length;for(r=0;r<o;r+=1)s=n[r],i=i||Gt(e,s);return t&&i}function vS(e){var t=yi(e),i=!1;return t&&(i=e.filter(function(n){return!tn(n)&&Yp(e)}).length===0),t&&i}function SS(e){var t=er(e)&&!ec(e),i=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<n.length;r+=1)s=n[r],i=i||Gt(e,s);return t&&i}function xS(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function kS(e,t){arguments.length===1&&(arguments[0]?_S(arguments[0])?(e=arguments[0],t=void 0):SS(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||fe(),n=_c(i,this).startOf("day"),r=kt.calendarFormat(this,n)||"sameElse",s=t&&(Ii(t[r])?t[r].call(this,i):t[r]);return this.format(s||this.localeData().calendar(r,this,fe(i)))}function ES(){return new Ps(this)}function MS(e,t){var i=_i(e)?e:fe(e);return this.isValid()&&i.isValid()?(t=li(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function AS(e,t){var i=_i(e)?e:fe(e);return this.isValid()&&i.isValid()?(t=li(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function TS(e,t,i,n){var r=_i(e)?e:fe(e),s=_i(t)?t:fe(t);return this.isValid()&&r.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,i):!this.isBefore(r,i))&&(n[1]===")"?this.isBefore(s,i):!this.isAfter(s,i))):!1}function OS(e,t){var i=_i(e)?e:fe(e),n;return this.isValid()&&i.isValid()?(t=li(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function PS(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function IS(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function CS(e,t,i){var n,r,s;if(!this.isValid())return NaN;if(n=_c(e,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,t=li(t),t){case"year":s=go(this,n)/12;break;case"month":s=go(this,n);break;case"quarter":s=go(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:oi(s)}function go(e,t){if(e.date()<t.date())return-go(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(i,"months"),r,s;return t-n<0?(r=e.clone().add(i-1,"months"),s=(t-n)/(n-r)):(r=e.clone().add(i+1,"months"),s=(t-n)/(r-n)),-(i+s)||0}kt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";kt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function RS(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function DS(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?fo(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ii(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",fo(i,"Z")):fo(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function LS(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",i,n,r,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(i+n+r+s)}function BS(e){e||(e=this.isUtc()?kt.defaultFormatUtc:kt.defaultFormat);var t=fo(this,e);return this.localeData().postformat(t)}function NS(e,t){return this.isValid()&&(_i(e)&&e.isValid()||fe(e).isValid())?wi({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function FS(e){return this.from(fe(),e)}function US(e,t){return this.isValid()&&(_i(e)&&e.isValid()||fe(e).isValid())?wi({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function jS(e){return this.to(fe(),e)}function zp(e){var t;return e===void 0?this._locale._abbr:(t=sn(e),t!=null&&(this._locale=t),this)}var Vp=ai("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Hp(){return this._locale}var Do=1e3,kr=60*Do,Lo=60*kr,$p=(365*400+97)*24*Lo;function Er(e,t){return(e%t+t)%t}function qp(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-$p:new Date(e,t,i).valueOf()}function Gp(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-$p:Date.UTC(e,t,i)}function WS(e){var t,i;if(e=li(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Gp:qp,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Er(t+(this._isUTC?0:this.utcOffset()*kr),Lo);break;case"minute":t=this._d.valueOf(),t-=Er(t,kr);break;case"second":t=this._d.valueOf(),t-=Er(t,Do);break}return this._d.setTime(t),kt.updateOffset(this,!0),this}function YS(e){var t,i;if(e=li(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Gp:qp,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Lo-Er(t+(this._isUTC?0:this.utcOffset()*kr),Lo)-1;break;case"minute":t=this._d.valueOf(),t+=kr-Er(t,kr)-1;break;case"second":t=this._d.valueOf(),t+=Do-Er(t,Do)-1;break}return this._d.setTime(t),kt.updateOffset(this,!0),this}function zS(){return this._d.valueOf()-(this._offset||0)*6e4}function VS(){return Math.floor(this.valueOf()/1e3)}function HS(){return new Date(this.valueOf())}function $S(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function qS(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function GS(){return this.isValid()?this.toISOString():null}function KS(){return ic(this)}function QS(){return wn({},Yt(this))}function XS(){return Yt(this).overflow}function ZS(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ct("N",0,0,"eraAbbr");Ct("NN",0,0,"eraAbbr");Ct("NNN",0,0,"eraAbbr");Ct("NNNN",0,0,"eraName");Ct("NNNNN",0,0,"eraNarrow");Ct("y",["y",1],"yo","eraYear");Ct("y",["yy",2],0,"eraYear");Ct("y",["yyy",3],0,"eraYear");Ct("y",["yyyy",4],0,"eraYear");At("N",wc);At("NN",wc);At("NNN",wc);At("NNNN",hx);At("NNNNN",cx);ee(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,n){var r=i._locale.erasParse(e,n,i._strict);r?Yt(i).era=r:Yt(i).invalidEra=e});At("y",Or);At("yy",Or);At("yyy",Or);At("yyyy",Or);At("yo",ux);ee(["y","yy","yyy","yyyy"],Ve);ee(["yo"],function(e,t,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[Ve]=i._locale.eraYearOrdinalParse(e,r):t[Ve]=parseInt(e,10)});function JS(e,t){var i,n,r,s=this._eras||sn("en")._eras;for(i=0,n=s.length;i<n;++i){switch(typeof s[i].since){case"string":r=kt(s[i].since).startOf("day"),s[i].since=r.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":r=kt(s[i].until).startOf("day").valueOf(),s[i].until=r.valueOf();break}}return s}function tx(e,t,i){var n,r,s=this.eras(),o,a,l;for(e=e.toUpperCase(),n=0,r=s.length;n<r;++n)if(o=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[n];break;case"NNNN":if(o===e)return s[n];break;case"NNNNN":if(l===e)return s[n];break}else if([o,a,l].indexOf(e)>=0)return s[n]}function ex(e,t){var i=e.since<=e.until?1:-1;return t===void 0?kt(e.since).year():kt(e.since).year()+(t-e.offset)*i}function ix(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until||n[e].until<=i&&i<=n[e].since)return n[e].name;return""}function nx(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until||n[e].until<=i&&i<=n[e].since)return n[e].narrow;return""}function rx(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until||n[e].until<=i&&i<=n[e].since)return n[e].abbr;return""}function sx(){var e,t,i,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=r[e].since<=r[e].until?1:-1,n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return(this.year()-kt(r[e].since).year())*i+r[e].offset;return this.year()}function ox(e){return Gt(this,"_erasNameRegex")||vc.call(this),e?this._erasNameRegex:this._erasRegex}function ax(e){return Gt(this,"_erasAbbrRegex")||vc.call(this),e?this._erasAbbrRegex:this._erasRegex}function lx(e){return Gt(this,"_erasNarrowRegex")||vc.call(this),e?this._erasNarrowRegex:this._erasRegex}function wc(e,t){return t.erasAbbrRegex(e)}function hx(e,t){return t.erasNameRegex(e)}function cx(e,t){return t.erasNarrowRegex(e)}function ux(e,t){return t._eraYearOrdinalRegex||Or}function vc(){var e=[],t=[],i=[],n=[],r,s,o,a,l,h=this.eras();for(r=0,s=h.length;r<s;++r)o=Zi(h[r].name),a=Zi(h[r].abbr),l=Zi(h[r].narrow),t.push(o),e.push(a),i.push(l),n.push(o),n.push(a),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}Ct(0,["gg",2],0,function(){return this.weekYear()%100});Ct(0,["GG",2],0,function(){return this.isoWeekYear()%100});function na(e,t){Ct(0,[e,e.length],0,t)}na("gggg","weekYear");na("ggggg","weekYear");na("GGGG","isoWeekYear");na("GGGGG","isoWeekYear");At("G",Zo);At("g",Zo);At("GG",de,ii);At("gg",de,ii);At("GGGG",lc,ac);At("gggg",lc,ac);At("GGGGG",Xo,Ko);At("ggggg",Xo,Ko);Cs(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=Vt(e)});Cs(["gg","GG"],function(e,t,i,n){t[n]=kt.parseTwoDigitYear(e)});function fx(e){return Kp.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function dx(e){return Kp.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function px(){return Ji(this.year(),1,4)}function gx(){return Ji(this.isoWeekYear(),1,4)}function mx(){var e=this.localeData()._week;return Ji(this.year(),e.dow,e.doy)}function bx(){var e=this.localeData()._week;return Ji(this.weekYear(),e.dow,e.doy)}function Kp(e,t,i,n,r){var s;return e==null?vs(this,n,r).year:(s=Ji(e,n,r),t>s&&(t=s),yx.call(this,e,t,i,n,r))}function yx(e,t,i,n,r){var s=Tp(e,t,i,n,r),o=ws(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ct("Q",0,"Qo","quarter");At("Q",bp);ee("Q",function(e,t){t[Gi]=(Vt(e)-1)*3});function _x(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Ct("D",["DD",2],"Do","date");At("D",de,Pr);At("DD",de,ii);At("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ee(["D","DD"],Ei);ee("Do",function(e,t){t[Ei]=Vt(e.match(de)[0])});var Qp=Ir("Date",!0);Ct("DDD",["DDDD",3],"DDDo","dayOfYear");At("DDD",Qo);At("DDDD",yp);ee(["DDD","DDDD"],function(e,t,i){i._dayOfYear=Vt(e)});function vx(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Ct("m",["mm",2],0,"minute");At("m",de,hc);At("mm",de,ii);ee(["m","mm"],gi);var Sx=Ir("Minutes",!1);Ct("s",["ss",2],0,"second");At("s",de,hc);At("ss",de,ii);ee(["s","ss"],Ki);var xx=Ir("Seconds",!1);Ct("S",0,0,function(){return~~(this.millisecond()/100)});Ct(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ct(0,["SSS",3],0,"millisecond");Ct(0,["SSSS",4],0,function(){return this.millisecond()*10});Ct(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ct(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ct(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ct(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ct(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});At("S",Qo,bp);At("SS",Qo,ii);At("SSS",Qo,yp);var vn,Xp;for(vn="SSSS";vn.length<=9;vn+="S")At(vn,Or);function kx(e,t){t[Qn]=Vt(("0."+e)*1e3)}for(vn="S";vn.length<=9;vn+="S")ee(vn,kx);Xp=Ir("Milliseconds",!1);Ct("z",0,0,"zoneAbbr");Ct("zz",0,0,"zoneName");function Ex(){return this._isUTC?"UTC":""}function Mx(){return this._isUTC?"Coordinated Universal Time":""}var St=Ps.prototype;St.add=bS;St.calendar=kS;St.clone=ES;St.diff=CS;St.endOf=YS;St.format=BS;St.from=NS;St.fromNow=FS;St.to=US;St.toNow=jS;St.get=Lv;St.invalidAt=XS;St.isAfter=MS;St.isBefore=AS;St.isBetween=TS;St.isSame=OS;St.isSameOrAfter=PS;St.isSameOrBefore=IS;St.isValid=KS;St.lang=Vp;St.locale=zp;St.localeData=Hp;St.max=K1;St.min=G1;St.parsingFlags=QS;St.set=Bv;St.startOf=WS;St.subtract=yS;St.toArray=$S;St.toObject=qS;St.toDate=HS;St.toISOString=DS;St.inspect=LS;typeof Symbol<"u"&&Symbol.for!=null&&(St[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});St.toJSON=GS;St.toString=RS;St.unix=VS;St.valueOf=zS;St.creationData=ZS;St.eraName=ix;St.eraNarrow=nx;St.eraAbbr=rx;St.eraYear=sx;St.year=vp;St.isLeapYear=Dv;St.weekYear=fx;St.isoWeekYear=dx;St.quarter=St.quarters=_x;St.month=Mp;St.daysInMonth=Hv;St.week=St.weeks=Jv;St.isoWeek=St.isoWeeks=t1;St.weeksInYear=mx;St.weeksInWeekYear=bx;St.isoWeeksInYear=px;St.isoWeeksInISOWeekYear=gx;St.date=Qp;St.day=St.days=d1;St.weekday=p1;St.isoWeekday=g1;St.dayOfYear=vx;St.hour=St.hours=S1;St.minute=St.minutes=Sx;St.second=St.seconds=xx;St.millisecond=St.milliseconds=Xp;St.utcOffset=rS;St.utc=oS;St.local=aS;St.parseZone=lS;St.hasAlignedHourOffset=hS;St.isDST=cS;St.isLocal=fS;St.isUtcOffset=dS;St.isUtc=Up;St.isUTC=Up;St.zoneAbbr=Ex;St.zoneName=Mx;St.dates=ai("dates accessor is deprecated. Use date instead.",Qp);St.months=ai("months accessor is deprecated. Use month instead",Mp);St.years=ai("years accessor is deprecated. Use year instead",vp);St.zone=ai("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sS);St.isDSTShifted=ai("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",uS);function Ax(e){return fe(e*1e3)}function Tx(){return fe.apply(null,arguments).parseZone()}function Zp(e){return e}var Kt=rc.prototype;Kt.calendar=fv;Kt.longDateFormat=mv;Kt.invalidDate=yv;Kt.ordinal=vv;Kt.preparse=Zp;Kt.postformat=Zp;Kt.relativeTime=xv;Kt.pastFuture=kv;Kt.set=cv;Kt.eras=JS;Kt.erasParse=tx;Kt.erasConvertYear=ex;Kt.erasAbbrRegex=ax;Kt.erasNameRegex=ox;Kt.erasNarrowRegex=lx;Kt.months=Wv;Kt.monthsShort=Yv;Kt.monthsParse=Vv;Kt.monthsRegex=qv;Kt.monthsShortRegex=$v;Kt.week=Kv;Kt.firstDayOfYear=Zv;Kt.firstDayOfWeek=Xv;Kt.weekdays=l1;Kt.weekdaysMin=c1;Kt.weekdaysShort=h1;Kt.weekdaysParse=f1;Kt.weekdaysRegex=m1;Kt.weekdaysShortRegex=b1;Kt.weekdaysMinRegex=y1;Kt.isPM=w1;Kt.meridiem=x1;function Bo(e,t,i,n){var r=sn(),s=Pi().set(n,t);return r[i](s,e)}function Jp(e,t,i){if(tn(e)&&(t=e,e=void 0),e=e||"",t!=null)return Bo(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=Bo(e,n,i,"month");return r}function Sc(e,t,i,n){typeof e=="boolean"?(tn(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,tn(t)&&(i=t,t=void 0),t=t||"");var r=sn(),s=e?r._week.dow:0,o,a=[];if(i!=null)return Bo(t,(i+s)%7,n,"day");for(o=0;o<7;o++)a[o]=Bo(t,(o+s)%7,n,"day");return a}function Ox(e,t){return Jp(e,t,"months")}function Px(e,t){return Jp(e,t,"monthsShort")}function Ix(e,t,i){return Sc(e,t,i,"weekdays")}function Cx(e,t,i){return Sc(e,t,i,"weekdaysShort")}function Rx(e,t,i){return Sc(e,t,i,"weekdaysMin")}xn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=Vt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});kt.lang=ai("moment.lang is deprecated. Use moment.locale instead.",xn);kt.langData=ai("moment.langData is deprecated. Use moment.localeData instead.",sn);var Ri=Math.abs;function Dx(){var e=this._data;return this._milliseconds=Ri(this._milliseconds),this._days=Ri(this._days),this._months=Ri(this._months),e.milliseconds=Ri(e.milliseconds),e.seconds=Ri(e.seconds),e.minutes=Ri(e.minutes),e.hours=Ri(e.hours),e.months=Ri(e.months),e.years=Ri(e.years),this}function tg(e,t,i,n){var r=wi(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function Lx(e,t){return tg(this,e,t,1)}function Bx(e,t){return tg(this,e,t,-1)}function vf(e){return e<0?Math.floor(e):Math.ceil(e)}function Nx(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data,r,s,o,a,l;return e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=vf(fl(i)+t)*864e5,t=0,i=0),n.milliseconds=e%1e3,r=oi(e/1e3),n.seconds=r%60,s=oi(r/60),n.minutes=s%60,o=oi(s/60),n.hours=o%24,t+=oi(o/24),l=oi(eg(t)),i+=l,t-=vf(fl(l)),a=oi(i/12),i%=12,n.days=t,n.months=i,n.years=a,this}function eg(e){return e*4800/146097}function fl(e){return e*146097/4800}function Fx(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if(e=li(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,i=this._months+eg(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(fl(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function on(e){return function(){return this.as(e)}}var ig=on("ms"),Ux=on("s"),jx=on("m"),Wx=on("h"),Yx=on("d"),zx=on("w"),Vx=on("M"),Hx=on("Q"),$x=on("y"),qx=ig;function Gx(){return wi(this)}function Kx(e){return e=li(e),this.isValid()?this[e+"s"]():NaN}function hr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Qx=hr("milliseconds"),Xx=hr("seconds"),Zx=hr("minutes"),Jx=hr("hours"),tk=hr("days"),ek=hr("months"),ik=hr("years");function nk(){return oi(this.days()/7)}var Ui=Math.round,wr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rk(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function sk(e,t,i,n){var r=wi(e).abs(),s=Ui(r.as("s")),o=Ui(r.as("m")),a=Ui(r.as("h")),l=Ui(r.as("d")),h=Ui(r.as("M")),c=Ui(r.as("w")),u=Ui(r.as("y")),f=s<=i.ss&&["s",s]||s<i.s&&["ss",s]||o<=1&&["m"]||o<i.m&&["mm",o]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return i.w!=null&&(f=f||c<=1&&["w"]||c<i.w&&["ww",c]),f=f||h<=1&&["M"]||h<i.M&&["MM",h]||u<=1&&["y"]||["yy",u],f[2]=t,f[3]=+e>0,f[4]=n,rk.apply(null,f)}function ok(e){return e===void 0?Ui:typeof e=="function"?(Ui=e,!0):!1}function ak(e,t){return wr[e]===void 0?!1:t===void 0?wr[e]:(wr[e]=t,e==="s"&&(wr.ss=t-1),!0)}function lk(e,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,n=wr,r,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(i=e),typeof t=="object"&&(n=Object.assign({},wr,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),r=this.localeData(),s=sk(this,!i,n,r),i&&(s=r.pastFuture(+this,s)),r.postformat(s)}var Ta=Math.abs;function mr(e){return(e>0)-(e<0)||+e}function ra(){if(!this.isValid())return this.localeData().invalidDate();var e=Ta(this._milliseconds)/1e3,t=Ta(this._days),i=Ta(this._months),n,r,s,o,a=this.asSeconds(),l,h,c,u;return a?(n=oi(e/60),r=oi(n/60),e%=60,n%=60,s=oi(i/12),i%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",h=mr(this._months)!==mr(a)?"-":"",c=mr(this._days)!==mr(a)?"-":"",u=mr(this._milliseconds)!==mr(a)?"-":"",l+"P"+(s?h+s+"Y":"")+(i?h+i+"M":"")+(t?c+t+"D":"")+(r||n||e?"T":"")+(r?u+r+"H":"")+(n?u+n+"M":"")+(e?u+o+"S":"")):"P0D"}var Ht=ia.prototype;Ht.isValid=tS;Ht.abs=Dx;Ht.add=Lx;Ht.subtract=Bx;Ht.as=Fx;Ht.asMilliseconds=ig;Ht.asSeconds=Ux;Ht.asMinutes=jx;Ht.asHours=Wx;Ht.asDays=Yx;Ht.asWeeks=zx;Ht.asMonths=Vx;Ht.asQuarters=Hx;Ht.asYears=$x;Ht.valueOf=qx;Ht._bubble=Nx;Ht.clone=Gx;Ht.get=Kx;Ht.milliseconds=Qx;Ht.seconds=Xx;Ht.minutes=Zx;Ht.hours=Jx;Ht.days=tk;Ht.weeks=nk;Ht.months=ek;Ht.years=ik;Ht.humanize=lk;Ht.toISOString=ra;Ht.toString=ra;Ht.toJSON=ra;Ht.locale=zp;Ht.localeData=Hp;Ht.toIsoString=ai("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ra);Ht.lang=Vp;Ct("X",0,0,"unix");Ct("x",0,0,"valueOf");At("x",Zo);At("X",Tv);ee("X",function(e,t,i){i._d=new Date(parseFloat(e)*1e3)});ee("x",function(e,t,i){i._d=new Date(Vt(e))});//! moment.js
kt.version="2.30.1";lv(fe);kt.fn=St;kt.min=Q1;kt.max=X1;kt.now=Z1;kt.utc=Pi;kt.unix=Ax;kt.months=Ox;kt.isDate=Os;kt.locale=xn;kt.invalid=Go;kt.duration=wi;kt.isMoment=_i;kt.weekdays=Ix;kt.parseZone=Tx;kt.localeData=sn;kt.isDuration=po;kt.monthsShort=Px;kt.weekdaysMin=Rx;kt.defineLocale=pc;kt.updateLocale=A1;kt.locales=T1;kt.weekdaysShort=Cx;kt.normalizeUnits=li;kt.relativeTimeRounding=ok;kt.relativeTimeThreshold=ak;kt.calendarFormat=xS;kt.prototype=St;kt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const hk={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Hd._date.override(typeof kt=="function"?{_id:"moment",formats:function(){return hk},parse:function(e,t){return typeof e=="string"&&typeof t=="string"?e=kt(e,t):e instanceof kt||(e=kt(e)),e.isValid()?e.valueOf():null},format:function(e,t){return kt(e).format(t)},add:function(e,t,i){return kt(e).add(t,i).valueOf()},diff:function(e,t,i){return kt(e).diff(kt(t),i)},startOf:function(e,t,i){return e=kt(e),t==="isoWeek"?(i=Math.trunc(Math.min(Math.max(0,i),6)),e.isoWeekday(i).startOf("day").valueOf()):e.startOf(t).valueOf()},endOf:function(e,t){return kt(e).endOf(t).valueOf()}}:{});function ck(e){let t;return{c(){t=Dt("canvas"),this.h()},l(i){t=Lt(i,"CANVAS",{class:!0}),le(t).forEach(Ft),this.h()},h(){Ot(t,"class","svelte-yv99jr")},m(i,n){Te(i,t,n),e[1](t)},p:Ae,i:Ae,o:Ae,d(i){i&&Ft(t),e[1](null)}}}function uk(){const e=[{timestamp:new Date().getTime()-2592e5,sensor1:{temperatur:18},sensor2:{temperatur:18}}],t=new Date(new Date().getTime()-3*24*60*60*1e3);for(let i=0;i<140;i++){const n=new Date(t.getTime()+i*.5*60*60*1e3),r=((.5-Math.random())*.3+parseFloat(e[i].sensor1.temperatur)).toFixed(1),s=((.5-Math.random())*.3+parseFloat(e[i].sensor2.temperatur)).toFixed(1);e.push({timestamp:n.getTime(),sensor1:{temperatur:r},sensor2:{temperatur:s}})}for(let i=50;i<80;i++)i%4&&(e[i].sensor2.temperatur=NaN);return e}function fk(e,t,i){let n,r,s=uk();s=s.sort((c,u)=>c.timestamp-u.timestamp);const o=new Date,a={datasets:[{label:"Sensor 1",data:s.map(c=>({x:c.timestamp,y:parseFloat(c.sensor1.temperatur)}))},{label:"Sensor 2",data:s.map(c=>({x:c.timestamp,y:parseFloat(c.sensor2.temperatur)}))}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{text:"Temperatur 72h",display:!0},tooltip:{callbacks:{label(c){let u=c.dataset.label||"";return u=c.parsed.y+" °C",u},title(c){return new Date(c[0].label).toLocaleString("se-sw")}}}},interaction:{mode:"nearest",intersect:!1,axis:"x"},elements:{line:{tension:.2},point:{radius:1}},scales:{y:{suggestedMin:0,suggestedMax:20},x:{display:!0,type:"time",time:{unit:"day",displayFormats:{day:"DD MMM"}},min:new Date(o.getTime()-72*60*60*1e3).toISOString(),max:new Date().toISOString()}}};fd(()=>(n=new zi(r,{type:"line",data:a,options:l}),()=>{n.destroy()}));function h(c){dd[c?"unshift":"push"](()=>{r=c,i(0,r)})}return[r,h]}class dk extends Bh{constructor(t){super(),Nh(this,t,fk,ck,sr,{})}}let Sf=localStorage.getItem("token")||"",pk=pd(Sf||"");pk.subscribe(e=>localStorage.token=e);let gn={temp:20,tenDegreeMode:!1,highPower:!1,mode:1,fan:0,power:1},xf=JSON.parse(localStorage.getItem("settings"))||gn,dl=pd(xf||gn);dl.subscribe(e=>localStorage.settings=e);var xc=Object.defineProperty,gk=Object.getOwnPropertyDescriptor,mk=Object.getOwnPropertyNames,bk=Object.prototype.hasOwnProperty,Fe=(e,t)=>()=>(e&&(t=e(e=0)),t),wt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cr=(e,t)=>{for(var i in t)xc(e,i,{get:t[i],enumerable:!0})},yk=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of mk(t))!bk.call(e,r)&&r!==i&&xc(e,r,{get:()=>t[r],enumerable:!(n=gk(t,r))||n.enumerable});return e},ne=e=>yk(xc({},"__esModule",{value:!0}),e),ut=Fe(()=>{}),Qt={};cr(Qt,{_debugEnd:()=>$l,_debugProcess:()=>Hl,_events:()=>ah,_eventsCount:()=>lh,_exiting:()=>Il,_fatalExceptions:()=>Yl,_getActiveHandles:()=>hg,_getActiveRequests:()=>lg,_kill:()=>Dl,_linkedBinding:()=>og,_maxListeners:()=>oh,_preload_modules:()=>rh,_rawDebug:()=>Tl,_startProfilerIdleNotifier:()=>ql,_stopProfilerIdleNotifier:()=>Gl,_tickCallback:()=>Vl,abort:()=>Zl,addListener:()=>hh,allowedNodeEnvironmentFlags:()=>jl,arch:()=>gl,argv:()=>yl,argv0:()=>nh,assert:()=>cg,binding:()=>xl,chdir:()=>Ml,config:()=>Cl,cpuUsage:()=>Zr,cwd:()=>El,debugPort:()=>ih,default:()=>Ec,dlopen:()=>ag,domain:()=>Pl,emit:()=>ph,emitWarning:()=>Sl,env:()=>bl,execArgv:()=>_l,execPath:()=>eh,exit:()=>Fl,features:()=>Wl,hasUncaughtExceptionCaptureCallback:()=>ug,hrtime:()=>mo,kill:()=>Nl,listeners:()=>dg,memoryUsage:()=>Bl,moduleLoadList:()=>Ol,nextTick:()=>rg,off:()=>uh,on:()=>Ni,once:()=>ch,openStdin:()=>Ul,pid:()=>Jl,platform:()=>ml,ppid:()=>th,prependListener:()=>gh,prependOnceListener:()=>mh,reallyExit:()=>Rl,release:()=>Al,removeAllListeners:()=>dh,removeListener:()=>fh,resourceUsage:()=>Ll,setSourceMapsEnabled:()=>sh,setUncaughtExceptionCaptureCallback:()=>zl,stderr:()=>Ql,stdin:()=>Xl,stdout:()=>Kl,title:()=>pl,umask:()=>kl,uptime:()=>fg,version:()=>wl,versions:()=>vl});function kc(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function _k(){!ir||!Xn||(ir=!1,Xn.length?Mi=Xn.concat(Mi):as=-1,Mi.length&&ng())}function ng(){if(!ir){var e=setTimeout(_k,0);ir=!0;for(var t=Mi.length;t;){for(Xn=Mi,Mi=[];++as<t;)Xn&&Xn[as].run();as=-1,t=Mi.length}Xn=null,ir=!1,clearTimeout(e)}}function rg(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];Mi.push(new sg(e,t)),Mi.length===1&&!ir&&setTimeout(ng,0)}function sg(e,t){this.fun=e,this.array=t}function We(){}function og(e){kc("_linkedBinding")}function ag(e){kc("dlopen")}function lg(){return[]}function hg(){return[]}function cg(e,t){if(!e)throw new Error(t||"assertion error")}function ug(){return!1}function fg(){return Vi.now()/1e3}function mo(e){var t=Math.floor((Date.now()-Vi.now())*.001),i=Vi.now()*.001,n=Math.floor(i)+t,r=Math.floor(i%1*1e9);return e&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=bo)),[n,r]}function Ni(){return Ec}function dg(e){return[]}var Mi,ir,Xn,as,pl,gl,ml,bl,yl,_l,wl,vl,Sl,xl,kl,El,Ml,Al,Tl,Ol,Pl,Il,Cl,Rl,Dl,Zr,Ll,Bl,Nl,Fl,Ul,jl,Wl,Yl,zl,Vl,Hl,$l,ql,Gl,Kl,Ql,Xl,Zl,Jl,th,eh,ih,nh,rh,sh,Vi,Oa,bo,oh,ah,lh,hh,ch,uh,fh,dh,ph,gh,mh,Ec,wk=Fe(()=>{ut(),dt(),ft(),Mi=[],ir=!1,as=-1,sg.prototype.run=function(){this.fun.apply(null,this.array)},pl="browser",gl="x64",ml="browser",bl={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},yl=["/usr/bin/node"],_l=[],wl="v16.8.0",vl={},Sl=function(e,t){console.warn((t?t+": ":"")+e)},xl=function(e){kc("binding")},kl=function(e){return 0},El=function(){return"/"},Ml=function(e){},Al={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Tl=We,Ol=[],Pl={},Il=!1,Cl={},Rl=We,Dl=We,Zr=function(){return{}},Ll=Zr,Bl=Zr,Nl=We,Fl=We,Ul=We,jl={},Wl={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Yl=We,zl=We,Vl=We,Hl=We,$l=We,ql=We,Gl=We,Kl=void 0,Ql=void 0,Xl=void 0,Zl=We,Jl=2,th=1,eh="/bin/usr/node",ih=9229,nh="node",rh=[],sh=We,Vi={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Vi.now===void 0&&(Oa=Date.now(),Vi.timing&&Vi.timing.navigationStart&&(Oa=Vi.timing.navigationStart),Vi.now=()=>Date.now()-Oa),bo=1e9,mo.bigint=function(e){var t=mo(e);return typeof BigInt>"u"?t[0]*bo+t[1]:BigInt(t[0]*bo)+BigInt(t[1])},oh=10,ah={},lh=0,hh=Ni,ch=Ni,uh=Ni,fh=Ni,dh=Ni,ph=We,gh=Ni,mh=Ni,Ec={version:wl,versions:vl,arch:gl,platform:ml,release:Al,_rawDebug:Tl,moduleLoadList:Ol,binding:xl,_linkedBinding:og,_events:ah,_eventsCount:lh,_maxListeners:oh,on:Ni,addListener:hh,once:ch,off:uh,removeListener:fh,removeAllListeners:dh,emit:ph,prependListener:gh,prependOnceListener:mh,listeners:dg,domain:Pl,_exiting:Il,config:Cl,dlopen:ag,uptime:fg,_getActiveRequests:lg,_getActiveHandles:hg,reallyExit:Rl,_kill:Dl,cpuUsage:Zr,resourceUsage:Ll,memoryUsage:Bl,kill:Nl,exit:Fl,openStdin:Ul,allowedNodeEnvironmentFlags:jl,assert:cg,features:Wl,_fatalExceptions:Yl,setUncaughtExceptionCaptureCallback:zl,hasUncaughtExceptionCaptureCallback:ug,emitWarning:Sl,nextTick:rg,_tickCallback:Vl,_debugProcess:Hl,_debugEnd:$l,_startProfilerIdleNotifier:ql,_stopProfilerIdleNotifier:Gl,stdout:Kl,stdin:Xl,stderr:Ql,abort:Zl,umask:kl,chdir:Ml,cwd:El,env:bl,title:pl,argv:yl,execArgv:_l,pid:Jl,ppid:th,execPath:eh,debugPort:ih,hrtime:mo,argv0:nh,_preload_modules:rh,setSourceMapsEnabled:sh}}),ft=Fe(()=>{wk()}),Ue={};cr(Ue,{Buffer:()=>No,INSPECT_MAX_BYTES:()=>pg,default:()=>Fi,kMaxLength:()=>gg});function vk(){if(bh)return _r;bh=!0,_r.byteLength=a,_r.toByteArray=h,_r.fromByteArray=f;for(var e=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)e[r]=n[r],t[n.charCodeAt(r)]=r;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function o(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=d.indexOf("=");y===-1&&(y=g);var _=y===g?0:4-y%4;return[y,_]}function a(d){var g=o(d),y=g[0],_=g[1];return(y+_)*3/4-_}function l(d,g,y){return(g+y)*3/4-y}function h(d){var g,y=o(d),_=y[0],v=y[1],w=new i(l(d,_,v)),S=0,M=v>0?_-4:_,T;for(T=0;T<M;T+=4)g=t[d.charCodeAt(T)]<<18|t[d.charCodeAt(T+1)]<<12|t[d.charCodeAt(T+2)]<<6|t[d.charCodeAt(T+3)],w[S++]=g>>16&255,w[S++]=g>>8&255,w[S++]=g&255;return v===2&&(g=t[d.charCodeAt(T)]<<2|t[d.charCodeAt(T+1)]>>4,w[S++]=g&255),v===1&&(g=t[d.charCodeAt(T)]<<10|t[d.charCodeAt(T+1)]<<4|t[d.charCodeAt(T+2)]>>2,w[S++]=g>>8&255,w[S++]=g&255),w}function c(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function u(d,g,y){for(var _,v=[],w=g;w<y;w+=3)_=(d[w]<<16&16711680)+(d[w+1]<<8&65280)+(d[w+2]&255),v.push(c(_));return v.join("")}function f(d){for(var g,y=d.length,_=y%3,v=[],w=16383,S=0,M=y-_;S<M;S+=w)v.push(u(d,S,S+w>M?M:S+w));return _===1?(g=d[y-1],v.push(e[g>>2]+e[g<<4&63]+"==")):_===2&&(g=(d[y-2]<<8)+d[y-1],v.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),v.join("")}return _r}function Sk(){return yh?Jr:(yh=!0,Jr.read=function(e,t,i,n,r){var s,o,a=r*8-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?r-1:0,f=i?-1:1,d=e[t+u];for(u+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=s*256+e[t+u],u+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+e[t+u],u+=f,c-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(d?-1:1)*o*Math.pow(2,s-n)},Jr.write=function(e,t,i,n,r,s){var o,a,l,h=s*8-r-1,c=(1<<h)-1,u=c>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,g=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?t+=f/l:t+=f*Math.pow(2,1-u),t*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(t*l-1)*Math.pow(2,r),o=o+u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;e[i+d]=a&255,d+=g,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;e[i+d]=o&255,d+=g,o/=256,h-=8);e[i+d-g]|=y*128},Jr)}function xk(){if(_h)return un;_h=!0;let e=vk(),t=Sk(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;un.Buffer=o,un.SlowBuffer=v,un.INSPECT_MAX_BYTES=50;let n=2147483647;un.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=r(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{let m=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(m,p),m.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(m){if(m>n)throw new RangeError('The value "'+m+'" is invalid for option "size"');let p=new Uint8Array(m);return Object.setPrototypeOf(p,o.prototype),p}function o(m,p,b){if(typeof m=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(m)}return a(m,p,b)}o.poolSize=8192;function a(m,p,b){if(typeof m=="string")return u(m,p);if(ArrayBuffer.isView(m))return d(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(G(m,ArrayBuffer)||m&&G(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(G(m,SharedArrayBuffer)||m&&G(m.buffer,SharedArrayBuffer)))return g(m,p,b);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let P=m.valueOf&&m.valueOf();if(P!=null&&P!==m)return o.from(P,p,b);let D=y(m);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return o.from(m[Symbol.toPrimitive]("string"),p,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o.from=function(m,p,b){return a(m,p,b)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function h(m,p,b){return l(m),m<=0?s(m):p!==void 0?typeof b=="string"?s(m).fill(p,b):s(m).fill(p):s(m)}o.alloc=function(m,p,b){return h(m,p,b)};function c(m){return l(m),s(m<0?0:_(m)|0)}o.allocUnsafe=function(m){return c(m)},o.allocUnsafeSlow=function(m){return c(m)};function u(m,p){if((typeof p!="string"||p==="")&&(p="utf8"),!o.isEncoding(p))throw new TypeError("Unknown encoding: "+p);let b=w(m,p)|0,P=s(b),D=P.write(m,p);return D!==b&&(P=P.slice(0,D)),P}function f(m){let p=m.length<0?0:_(m.length)|0,b=s(p);for(let P=0;P<p;P+=1)b[P]=m[P]&255;return b}function d(m){if(G(m,Uint8Array)){let p=new Uint8Array(m);return g(p.buffer,p.byteOffset,p.byteLength)}return f(m)}function g(m,p,b){if(p<0||m.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<p+(b||0))throw new RangeError('"length" is outside of buffer bounds');let P;return p===void 0&&b===void 0?P=new Uint8Array(m):b===void 0?P=new Uint8Array(m,p):P=new Uint8Array(m,p,b),Object.setPrototypeOf(P,o.prototype),P}function y(m){if(o.isBuffer(m)){let p=_(m.length)|0,b=s(p);return b.length===0||m.copy(b,0,0,p),b}if(m.length!==void 0)return typeof m.length!="number"||vt(m.length)?s(0):f(m);if(m.type==="Buffer"&&Array.isArray(m.data))return f(m.data)}function _(m){if(m>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return m|0}function v(m){return+m!=m&&(m=0),o.alloc(+m)}o.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==o.prototype},o.compare=function(m,p){if(G(m,Uint8Array)&&(m=o.from(m,m.offset,m.byteLength)),G(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),!o.isBuffer(m)||!o.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===p)return 0;let b=m.length,P=p.length;for(let D=0,x=Math.min(b,P);D<x;++D)if(m[D]!==p[D]){b=m[D],P=p[D];break}return b<P?-1:P<b?1:0},o.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(m,p){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return o.alloc(0);let b;if(p===void 0)for(p=0,b=0;b<m.length;++b)p+=m[b].length;let P=o.allocUnsafe(p),D=0;for(b=0;b<m.length;++b){let x=m[b];if(G(x,Uint8Array))D+x.length>P.length?(o.isBuffer(x)||(x=o.from(x)),x.copy(P,D)):Uint8Array.prototype.set.call(P,x,D);else if(o.isBuffer(x))x.copy(P,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=x.length}return P};function w(m,p){if(o.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||G(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);let b=m.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&b===0)return 0;let D=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return j(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return J(m).length;default:if(D)return P?-1:j(m).length;p=(""+p).toLowerCase(),D=!0}}o.byteLength=w;function S(m,p,b){let P=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,p>>>=0,b<=p))return"";for(m||(m="utf8");;)switch(m){case"hex":return z(this,p,b);case"utf8":case"utf-8":return Y(this,p,b);case"ascii":return tt(this,p,b);case"latin1":case"binary":return X(this,p,b);case"base64":return A(this,p,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,p,b);default:if(P)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),P=!0}}o.prototype._isBuffer=!0;function M(m,p,b){let P=m[p];m[p]=m[b],m[b]=P}o.prototype.swap16=function(){let m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<m;p+=2)M(this,p,p+1);return this},o.prototype.swap32=function(){let m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<m;p+=4)M(this,p,p+3),M(this,p+1,p+2);return this},o.prototype.swap64=function(){let m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<m;p+=8)M(this,p,p+7),M(this,p+1,p+6),M(this,p+2,p+5),M(this,p+3,p+4);return this},o.prototype.toString=function(){let m=this.length;return m===0?"":arguments.length===0?Y(this,0,m):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(m){if(!o.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:o.compare(this,m)===0},o.prototype.inspect=function(){let m="",p=un.INSPECT_MAX_BYTES;return m=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(m+=" ... "),"<Buffer "+m+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(m,p,b,P,D){if(G(m,Uint8Array)&&(m=o.from(m,m.offset,m.byteLength)),!o.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(p===void 0&&(p=0),b===void 0&&(b=m?m.length:0),P===void 0&&(P=0),D===void 0&&(D=this.length),p<0||b>m.length||P<0||D>this.length)throw new RangeError("out of range index");if(P>=D&&p>=b)return 0;if(P>=D)return-1;if(p>=b)return 1;if(p>>>=0,b>>>=0,P>>>=0,D>>>=0,this===m)return 0;let x=D-P,R=b-p,$=Math.min(x,R),pt=this.slice(P,D),ct=m.slice(p,b);for(let _t=0;_t<$;++_t)if(pt[_t]!==ct[_t]){x=pt[_t],R=ct[_t];break}return x<R?-1:R<x?1:0};function T(m,p,b,P,D){if(m.length===0)return-1;if(typeof b=="string"?(P=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,vt(b)&&(b=D?0:m.length-1),b<0&&(b=m.length+b),b>=m.length){if(D)return-1;b=m.length-1}else if(b<0)if(D)b=0;else return-1;if(typeof p=="string"&&(p=o.from(p,P)),o.isBuffer(p))return p.length===0?-1:E(m,p,b,P,D);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(m,p,b):Uint8Array.prototype.lastIndexOf.call(m,p,b):E(m,[p],b,P,D);throw new TypeError("val must be string, number or Buffer")}function E(m,p,b,P,D){let x=1,R=m.length,$=p.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(m.length<2||p.length<2)return-1;x=2,R/=2,$/=2,b/=2}function pt(_t,Mt){return x===1?_t[Mt]:_t.readUInt16BE(Mt*x)}let ct;if(D){let _t=-1;for(ct=b;ct<R;ct++)if(pt(m,ct)===pt(p,_t===-1?0:ct-_t)){if(_t===-1&&(_t=ct),ct-_t+1===$)return _t*x}else _t!==-1&&(ct-=ct-_t),_t=-1}else for(b+$>R&&(b=R-$),ct=b;ct>=0;ct--){let _t=!0;for(let Mt=0;Mt<$;Mt++)if(pt(m,ct+Mt)!==pt(p,Mt)){_t=!1;break}if(_t)return ct}return-1}o.prototype.includes=function(m,p,b){return this.indexOf(m,p,b)!==-1},o.prototype.indexOf=function(m,p,b){return T(this,m,p,b,!0)},o.prototype.lastIndexOf=function(m,p,b){return T(this,m,p,b,!1)};function k(m,p,b,P){b=Number(b)||0;let D=m.length-b;P?(P=Number(P),P>D&&(P=D)):P=D;let x=p.length;P>x/2&&(P=x/2);let R;for(R=0;R<P;++R){let $=parseInt(p.substr(R*2,2),16);if(vt($))return R;m[b+R]=$}return R}function O(m,p,b,P){return U(j(p,m.length-b),m,b,P)}function F(m,p,b,P){return U(W(p),m,b,P)}function V(m,p,b,P){return U(J(p),m,b,P)}function q(m,p,b,P){return U(at(p,m.length-b),m,b,P)}o.prototype.write=function(m,p,b,P){if(p===void 0)P="utf8",b=this.length,p=0;else if(b===void 0&&typeof p=="string")P=p,b=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(b)?(b=b>>>0,P===void 0&&(P="utf8")):(P=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let D=this.length-p;if((b===void 0||b>D)&&(b=D),m.length>0&&(b<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let x=!1;for(;;)switch(P){case"hex":return k(this,m,p,b);case"utf8":case"utf-8":return O(this,m,p,b);case"ascii":case"latin1":case"binary":return F(this,m,p,b);case"base64":return V(this,m,p,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,m,p,b);default:if(x)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),x=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(m,p,b){return p===0&&b===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(p,b))}function Y(m,p,b){b=Math.min(m.length,b);let P=[],D=p;for(;D<b;){let x=m[D],R=null,$=x>239?4:x>223?3:x>191?2:1;if(D+$<=b){let pt,ct,_t,Mt;switch($){case 1:x<128&&(R=x);break;case 2:pt=m[D+1],(pt&192)===128&&(Mt=(x&31)<<6|pt&63,Mt>127&&(R=Mt));break;case 3:pt=m[D+1],ct=m[D+2],(pt&192)===128&&(ct&192)===128&&(Mt=(x&15)<<12|(pt&63)<<6|ct&63,Mt>2047&&(Mt<55296||Mt>57343)&&(R=Mt));break;case 4:pt=m[D+1],ct=m[D+2],_t=m[D+3],(pt&192)===128&&(ct&192)===128&&(_t&192)===128&&(Mt=(x&15)<<18|(pt&63)<<12|(ct&63)<<6|_t&63,Mt>65535&&Mt<1114112&&(R=Mt))}}R===null?(R=65533,$=1):R>65535&&(R-=65536,P.push(R>>>10&1023|55296),R=56320|R&1023),P.push(R),D+=$}return H(P)}let Z=4096;function H(m){let p=m.length;if(p<=Z)return String.fromCharCode.apply(String,m);let b="",P=0;for(;P<p;)b+=String.fromCharCode.apply(String,m.slice(P,P+=Z));return b}function tt(m,p,b){let P="";b=Math.min(m.length,b);for(let D=p;D<b;++D)P+=String.fromCharCode(m[D]&127);return P}function X(m,p,b){let P="";b=Math.min(m.length,b);for(let D=p;D<b;++D)P+=String.fromCharCode(m[D]);return P}function z(m,p,b){let P=m.length;(!p||p<0)&&(p=0),(!b||b<0||b>P)&&(b=P);let D="";for(let x=p;x<b;++x)D+=Et[m[x]];return D}function it(m,p,b){let P=m.slice(p,b),D="";for(let x=0;x<P.length-1;x+=2)D+=String.fromCharCode(P[x]+P[x+1]*256);return D}o.prototype.slice=function(m,p){let b=this.length;m=~~m,p=p===void 0?b:~~p,m<0?(m+=b,m<0&&(m=0)):m>b&&(m=b),p<0?(p+=b,p<0&&(p=0)):p>b&&(p=b),p<m&&(p=m);let P=this.subarray(m,p);return Object.setPrototypeOf(P,o.prototype),P};function rt(m,p,b){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+p>b)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(m,p,b){m=m>>>0,p=p>>>0,b||rt(m,p,this.length);let P=this[m],D=1,x=0;for(;++x<p&&(D*=256);)P+=this[m+x]*D;return P},o.prototype.readUintBE=o.prototype.readUIntBE=function(m,p,b){m=m>>>0,p=p>>>0,b||rt(m,p,this.length);let P=this[m+--p],D=1;for(;p>0&&(D*=256);)P+=this[m+--p]*D;return P},o.prototype.readUint8=o.prototype.readUInt8=function(m,p){return m=m>>>0,p||rt(m,1,this.length),this[m]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(m,p){return m=m>>>0,p||rt(m,2,this.length),this[m]|this[m+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(m,p){return m=m>>>0,p||rt(m,2,this.length),this[m]<<8|this[m+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(m,p){return m=m>>>0,p||rt(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(m,p){return m=m>>>0,p||rt(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},o.prototype.readBigUInt64LE=Tt(function(m){m=m>>>0,nt(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&ht(m,this.length-8);let P=p+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,D=this[++m]+this[++m]*2**8+this[++m]*2**16+b*2**24;return BigInt(P)+(BigInt(D)<<BigInt(32))}),o.prototype.readBigUInt64BE=Tt(function(m){m=m>>>0,nt(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&ht(m,this.length-8);let P=p*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],D=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+b;return(BigInt(P)<<BigInt(32))+BigInt(D)}),o.prototype.readIntLE=function(m,p,b){m=m>>>0,p=p>>>0,b||rt(m,p,this.length);let P=this[m],D=1,x=0;for(;++x<p&&(D*=256);)P+=this[m+x]*D;return D*=128,P>=D&&(P-=Math.pow(2,8*p)),P},o.prototype.readIntBE=function(m,p,b){m=m>>>0,p=p>>>0,b||rt(m,p,this.length);let P=p,D=1,x=this[m+--P];for(;P>0&&(D*=256);)x+=this[m+--P]*D;return D*=128,x>=D&&(x-=Math.pow(2,8*p)),x},o.prototype.readInt8=function(m,p){return m=m>>>0,p||rt(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},o.prototype.readInt16LE=function(m,p){m=m>>>0,p||rt(m,2,this.length);let b=this[m]|this[m+1]<<8;return b&32768?b|4294901760:b},o.prototype.readInt16BE=function(m,p){m=m>>>0,p||rt(m,2,this.length);let b=this[m+1]|this[m]<<8;return b&32768?b|4294901760:b},o.prototype.readInt32LE=function(m,p){return m=m>>>0,p||rt(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},o.prototype.readInt32BE=function(m,p){return m=m>>>0,p||rt(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},o.prototype.readBigInt64LE=Tt(function(m){m=m>>>0,nt(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&ht(m,this.length-8);let P=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(b<<24);return(BigInt(P)<<BigInt(32))+BigInt(p+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),o.prototype.readBigInt64BE=Tt(function(m){m=m>>>0,nt(m,"offset");let p=this[m],b=this[m+7];(p===void 0||b===void 0)&&ht(m,this.length-8);let P=(p<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(P)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+b)}),o.prototype.readFloatLE=function(m,p){return m=m>>>0,p||rt(m,4,this.length),t.read(this,m,!0,23,4)},o.prototype.readFloatBE=function(m,p){return m=m>>>0,p||rt(m,4,this.length),t.read(this,m,!1,23,4)},o.prototype.readDoubleLE=function(m,p){return m=m>>>0,p||rt(m,8,this.length),t.read(this,m,!0,52,8)},o.prototype.readDoubleBE=function(m,p){return m=m>>>0,p||rt(m,8,this.length),t.read(this,m,!1,52,8)};function yt(m,p,b,P,D,x){if(!o.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>D||p<x)throw new RangeError('"value" argument is out of bounds');if(b+P>m.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(m,p,b,P){if(m=+m,p=p>>>0,b=b>>>0,!P){let R=Math.pow(2,8*b)-1;yt(this,m,p,b,R,0)}let D=1,x=0;for(this[p]=m&255;++x<b&&(D*=256);)this[p+x]=m/D&255;return p+b},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(m,p,b,P){if(m=+m,p=p>>>0,b=b>>>0,!P){let R=Math.pow(2,8*b)-1;yt(this,m,p,b,R,0)}let D=b-1,x=1;for(this[p+D]=m&255;--D>=0&&(x*=256);)this[p+D]=m/x&255;return p+b},o.prototype.writeUint8=o.prototype.writeUInt8=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,1,255,0),this[p]=m&255,p+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,2,65535,0),this[p]=m&255,this[p+1]=m>>>8,p+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,2,65535,0),this[p]=m>>>8,this[p+1]=m&255,p+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,4,4294967295,0),this[p+3]=m>>>24,this[p+2]=m>>>16,this[p+1]=m>>>8,this[p]=m&255,p+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,4,4294967295,0),this[p]=m>>>24,this[p+1]=m>>>16,this[p+2]=m>>>8,this[p+3]=m&255,p+4};function I(m,p,b,P,D){et(p,P,D,m,b,7);let x=Number(p&BigInt(4294967295));m[b++]=x,x=x>>8,m[b++]=x,x=x>>8,m[b++]=x,x=x>>8,m[b++]=x;let R=Number(p>>BigInt(32)&BigInt(4294967295));return m[b++]=R,R=R>>8,m[b++]=R,R=R>>8,m[b++]=R,R=R>>8,m[b++]=R,b}function K(m,p,b,P,D){et(p,P,D,m,b,7);let x=Number(p&BigInt(4294967295));m[b+7]=x,x=x>>8,m[b+6]=x,x=x>>8,m[b+5]=x,x=x>>8,m[b+4]=x;let R=Number(p>>BigInt(32)&BigInt(4294967295));return m[b+3]=R,R=R>>8,m[b+2]=R,R=R>>8,m[b+1]=R,R=R>>8,m[b]=R,b+8}o.prototype.writeBigUInt64LE=Tt(function(m,p=0){return I(this,m,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Tt(function(m,p=0){return K(this,m,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(m,p,b,P){if(m=+m,p=p>>>0,!P){let $=Math.pow(2,8*b-1);yt(this,m,p,b,$-1,-$)}let D=0,x=1,R=0;for(this[p]=m&255;++D<b&&(x*=256);)m<0&&R===0&&this[p+D-1]!==0&&(R=1),this[p+D]=(m/x>>0)-R&255;return p+b},o.prototype.writeIntBE=function(m,p,b,P){if(m=+m,p=p>>>0,!P){let $=Math.pow(2,8*b-1);yt(this,m,p,b,$-1,-$)}let D=b-1,x=1,R=0;for(this[p+D]=m&255;--D>=0&&(x*=256);)m<0&&R===0&&this[p+D+1]!==0&&(R=1),this[p+D]=(m/x>>0)-R&255;return p+b},o.prototype.writeInt8=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,1,127,-128),m<0&&(m=255+m+1),this[p]=m&255,p+1},o.prototype.writeInt16LE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,2,32767,-32768),this[p]=m&255,this[p+1]=m>>>8,p+2},o.prototype.writeInt16BE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,2,32767,-32768),this[p]=m>>>8,this[p+1]=m&255,p+2},o.prototype.writeInt32LE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,4,2147483647,-2147483648),this[p]=m&255,this[p+1]=m>>>8,this[p+2]=m>>>16,this[p+3]=m>>>24,p+4},o.prototype.writeInt32BE=function(m,p,b){return m=+m,p=p>>>0,b||yt(this,m,p,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[p]=m>>>24,this[p+1]=m>>>16,this[p+2]=m>>>8,this[p+3]=m&255,p+4},o.prototype.writeBigInt64LE=Tt(function(m,p=0){return I(this,m,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Tt(function(m,p=0){return K(this,m,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ot(m,p,b,P,D,x){if(b+P>m.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function xt(m,p,b,P,D){return p=+p,b=b>>>0,D||ot(m,p,b,4),t.write(m,p,b,P,23,4),b+4}o.prototype.writeFloatLE=function(m,p,b){return xt(this,m,p,!0,b)},o.prototype.writeFloatBE=function(m,p,b){return xt(this,m,p,!1,b)};function st(m,p,b,P,D){return p=+p,b=b>>>0,D||ot(m,p,b,8),t.write(m,p,b,P,52,8),b+8}o.prototype.writeDoubleLE=function(m,p,b){return st(this,m,p,!0,b)},o.prototype.writeDoubleBE=function(m,p,b){return st(this,m,p,!1,b)},o.prototype.copy=function(m,p,b,P){if(!o.isBuffer(m))throw new TypeError("argument should be a Buffer");if(b||(b=0),!P&&P!==0&&(P=this.length),p>=m.length&&(p=m.length),p||(p=0),P>0&&P<b&&(P=b),P===b||m.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),m.length-p<P-b&&(P=m.length-p+b);let D=P-b;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,b,P):Uint8Array.prototype.set.call(m,this.subarray(b,P),p),D},o.prototype.fill=function(m,p,b,P){if(typeof m=="string"){if(typeof p=="string"?(P=p,p=0,b=this.length):typeof b=="string"&&(P=b,b=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(m.length===1){let x=m.charCodeAt(0);(P==="utf8"&&x<128||P==="latin1")&&(m=x)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(p<0||this.length<p||this.length<b)throw new RangeError("Out of range index");if(b<=p)return this;p=p>>>0,b=b===void 0?this.length:b>>>0,m||(m=0);let D;if(typeof m=="number")for(D=p;D<b;++D)this[D]=m;else{let x=o.isBuffer(m)?m:o.from(m,P),R=x.length;if(R===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(D=0;D<b-p;++D)this[D+p]=x[D%R]}return this};let B={};function C(m,p,b){B[m]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}C("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(m,p){return`The "${m}" argument must be of type number. Received type ${typeof p}`},TypeError),C("ERR_OUT_OF_RANGE",function(m,p,b){let P=`The value of "${m}" is out of range.`,D=b;return Number.isInteger(b)&&Math.abs(b)>2**32?D=Q(String(b)):typeof b=="bigint"&&(D=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(D=Q(D)),D+="n"),P+=` It must be ${p}. Received ${D}`,P},RangeError);function Q(m){let p="",b=m.length,P=m[0]==="-"?1:0;for(;b>=P+4;b-=3)p=`_${m.slice(b-3,b)}${p}`;return`${m.slice(0,b)}${p}`}function lt(m,p,b){nt(p,"offset"),(m[p]===void 0||m[p+b]===void 0)&&ht(p,m.length-(b+1))}function et(m,p,b,P,D,x){if(m>b||m<p){let R=typeof p=="bigint"?"n":"",$;throw x>3?p===0||p===BigInt(0)?$=`>= 0${R} and < 2${R} ** ${(x+1)*8}${R}`:$=`>= -(2${R} ** ${(x+1)*8-1}${R}) and < 2 ** ${(x+1)*8-1}${R}`:$=`>= ${p}${R} and <= ${b}${R}`,new B.ERR_OUT_OF_RANGE("value",$,m)}lt(P,D,x)}function nt(m,p){if(typeof m!="number")throw new B.ERR_INVALID_ARG_TYPE(p,"number",m)}function ht(m,p,b){throw Math.floor(m)!==m?(nt(m,b),new B.ERR_OUT_OF_RANGE(b||"offset","an integer",m)):p<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${p}`,m)}let gt=/[^+/0-9A-Za-z-_]/g;function L(m){if(m=m.split("=")[0],m=m.trim().replace(gt,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function j(m,p){p=p||1/0;let b,P=m.length,D=null,x=[];for(let R=0;R<P;++R){if(b=m.charCodeAt(R),b>55295&&b<57344){if(!D){if(b>56319){(p-=3)>-1&&x.push(239,191,189);continue}else if(R+1===P){(p-=3)>-1&&x.push(239,191,189);continue}D=b;continue}if(b<56320){(p-=3)>-1&&x.push(239,191,189),D=b;continue}b=(D-55296<<10|b-56320)+65536}else D&&(p-=3)>-1&&x.push(239,191,189);if(D=null,b<128){if((p-=1)<0)break;x.push(b)}else if(b<2048){if((p-=2)<0)break;x.push(b>>6|192,b&63|128)}else if(b<65536){if((p-=3)<0)break;x.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((p-=4)<0)break;x.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return x}function W(m){let p=[];for(let b=0;b<m.length;++b)p.push(m.charCodeAt(b)&255);return p}function at(m,p){let b,P,D,x=[];for(let R=0;R<m.length&&!((p-=2)<0);++R)b=m.charCodeAt(R),P=b>>8,D=b%256,x.push(D),x.push(P);return x}function J(m){return e.toByteArray(L(m))}function U(m,p,b,P){let D;for(D=0;D<P&&!(D+b>=p.length||D>=m.length);++D)p[D+b]=m[D];return D}function G(m,p){return m instanceof p||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===p.name}function vt(m){return m!==m}let Et=function(){let m="0123456789abcdef",p=new Array(256);for(let b=0;b<16;++b){let P=b*16;for(let D=0;D<16;++D)p[P+D]=m[b]+m[D]}return p}();function Tt(m){return typeof BigInt>"u"?Ut:m}function Ut(){throw new Error("BigInt not supported")}return un}var _r,bh,Jr,yh,un,_h,Fi,No,pg,gg,je=Fe(()=>{ut(),dt(),ft(),_r={},bh=!1,Jr={},yh=!1,un={},_h=!1,Fi=xk(),Fi.Buffer,Fi.SlowBuffer,Fi.INSPECT_MAX_BYTES,Fi.kMaxLength,No=Fi.Buffer,pg=Fi.INSPECT_MAX_BYTES,gg=Fi.kMaxLength}),dt=Fe(()=>{je()}),kk=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(i){this.aliasToTopic={},this.max=i}put(i,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=i,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(i){return this.aliasToTopic[i]}clear(){this.aliasToTopic={}}};e.default=t}),Re=wt((e,t)=>{ut(),dt(),ft(),t.exports={ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,n){return i.includes(n)},ArrayPrototypeIndexOf(i,n){return i.indexOf(n)},ArrayPrototypeJoin(i,n){return i.join(n)},ArrayPrototypeMap(i,n){return i.map(n)},ArrayPrototypePop(i,n){return i.pop(n)},ArrayPrototypePush(i,n){return i.push(n)},ArrayPrototypeSlice(i,n,r){return i.slice(n,r)},Error,FunctionPrototypeCall(i,n,...r){return i.call(n,...r)},FunctionPrototypeSymbolHasInstance(i,n){return Function.prototype[Symbol.hasInstance].call(i,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,n){return Object.defineProperties(i,n)},ObjectDefineProperty(i,n,r){return Object.defineProperty(i,n,r)},ObjectGetOwnPropertyDescriptor(i,n){return Object.getOwnPropertyDescriptor(i,n)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,n){return Object.setPrototypeOf(i,n)},Promise,PromisePrototypeCatch(i,n){return i.catch(n)},PromisePrototypeThen(i,n,r){return i.then(n,r)},PromiseReject(i){return Promise.reject(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,n){return i.test(n)},SafeSet:Set,String,StringPrototypeSlice(i,n,r){return i.slice(n,r)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(i,n,r){return i.set(n,r)},Uint8Array}}),en=wt((e,t)=>{ut(),dt(),ft();var i=(je(),ne(Ue)),n=Object.getPrototypeOf(async function(){}).constructor,r=globalThis.Blob||i.Blob,s=typeof r<"u"?function(a){return a instanceof r}:function(a){return!1},o=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let l="";for(let h=0;h<a.length;h++)l+=`    ${a[h].stack}
`;super(l),this.name="AggregateError",this.errors=a}};t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(a){let l=!1;return function(...h){l||(l=!0,a.apply(this,h))}},createDeferredPromise:function(){let a,l;return{promise:new Promise((h,c)=>{a=h,l=c}),resolve:a,reject:l}},promisify(a){return new Promise((l,h)=>{a((c,...u)=>c?h(c):l(...u))})},debuglog(){return function(){}},format(a,...l){return a.replace(/%([sdifj])/g,function(...[h,c]){let u=l.shift();return c==="f"?u.toFixed(6):c==="j"?JSON.stringify(u):c==="s"&&typeof u=="object"?`${u.constructor!==Object?u.constructor.name:""} {}`.trim():u.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}},types:{isAsyncFunction(a){return a instanceof n},isArrayBufferView(a){return ArrayBuffer.isView(a)}},isBlob:s},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Mc=wt((e,t)=>{ut(),dt(),ft();var{AbortController:i,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=i,t.exports.AbortSignal=n,t.exports.default=i}),Xe=wt((e,t)=>{ut(),dt(),ft();var{format:i,inspect:n,AggregateError:r}=en(),s=globalThis.AggregateError||r,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",c={};function u(w,S){if(!w)throw new c.ERR_INTERNAL_ASSERTION(S)}function f(w){let S="",M=w.length,T=w[0]==="-"?1:0;for(;M>=T+4;M-=3)S=`_${w.slice(M-3,M)}${S}`;return`${w.slice(0,M)}${S}`}function d(w,S,M){if(typeof S=="function")return u(S.length<=M.length,`Code: ${w}; The provided arguments length (${M.length}) does not match the required ones (${S.length}).`),S(...M);let T=(S.match(/%[dfijoOs]/g)||[]).length;return u(T===M.length,`Code: ${w}; The provided arguments length (${M.length}) does not match the required ones (${T}).`),M.length===0?S:i(S,...M)}function g(w,S,M){M||(M=Error);class T extends M{constructor(...k){super(d(w,S,k))}toString(){return`${this.name} [${w}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${w}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=w,T.prototype[o]=!0,c[w]=T}function y(w){let S=h+w.name;return Object.defineProperty(w,"name",{value:S}),w}function _(w,S){if(w&&S&&w!==S){if(Array.isArray(S.errors))return S.errors.push(w),S;let M=new s([S,w],S.message);return M.code=S.code,M}return w||S}var v=class extends Error{constructor(w="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",S);super(w,S),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(w,S,M)=>{u(typeof w=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let T="The ";w.endsWith(" argument")?T+=`${w} `:T+=`"${w}" ${w.includes(".")?"property":"argument"} `,T+="must be ";let E=[],k=[],O=[];for(let V of S)u(typeof V=="string","All expected entries have to be of type string"),a.includes(V)?E.push(V.toLowerCase()):l.test(V)?k.push(V):(u(V!=="object",'The value "object" should be written as "Object"'),O.push(V));if(k.length>0){let V=E.indexOf("object");V!==-1&&(E.splice(E,V,1),k.push("Object"))}if(E.length>0){switch(E.length){case 1:T+=`of type ${E[0]}`;break;case 2:T+=`one of type ${E[0]} or ${E[1]}`;break;default:{let V=E.pop();T+=`one of type ${E.join(", ")}, or ${V}`}}(k.length>0||O.length>0)&&(T+=" or ")}if(k.length>0){switch(k.length){case 1:T+=`an instance of ${k[0]}`;break;case 2:T+=`an instance of ${k[0]} or ${k[1]}`;break;default:{let V=k.pop();T+=`an instance of ${k.join(", ")}, or ${V}`}}O.length>0&&(T+=" or ")}switch(O.length){case 0:break;case 1:O[0].toLowerCase()!==O[0]&&(T+="an "),T+=`${O[0]}`;break;case 2:T+=`one of ${O[0]} or ${O[1]}`;break;default:{let V=O.pop();T+=`one of ${O.join(", ")}, or ${V}`}}if(M==null)T+=`. Received ${M}`;else if(typeof M=="function"&&M.name)T+=`. Received function ${M.name}`;else if(typeof M=="object"){var F;if((F=M.constructor)!==null&&F!==void 0&&F.name)T+=`. Received an instance of ${M.constructor.name}`;else{let V=n(M,{depth:-1});T+=`. Received ${V}`}}else{let V=n(M,{colors:!1});V.length>25&&(V=`${V.slice(0,25)}...`),T+=`. Received type ${typeof M} (${V})`}return T},TypeError),g("ERR_INVALID_ARG_VALUE",(w,S,M="is invalid")=>{let T=n(S);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${w.includes(".")?"property":"argument"} '${w}' ${M}. Received ${T}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(w,S,M)=>{var T;let E=M!=null&&(T=M.constructor)!==null&&T!==void 0&&T.name?`instance of ${M.constructor.name}`:`type ${typeof M}`;return`Expected ${w} to be returned from the "${S}" function but got ${E}.`},TypeError),g("ERR_MISSING_ARGS",(...w)=>{u(w.length>0,"At least one arg needs to be specified");let S,M=w.length;switch(w=(Array.isArray(w)?w:[w]).map(T=>`"${T}"`).join(" or "),M){case 1:S+=`The ${w[0]} argument`;break;case 2:S+=`The ${w[0]} and ${w[1]} arguments`;break;default:{let T=w.pop();S+=`The ${w.join(", ")}, and ${T} arguments`}break}return`${S} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(w,S,M)=>{u(S,'Missing "range" argument');let T;return Number.isInteger(M)&&Math.abs(M)>2**32?T=f(String(M)):typeof M=="bigint"?(T=String(M),(M>2n**32n||M<-(2n**32n))&&(T=f(T)),T+="n"):T=n(M),`The value of "${w}" is out of range. It must be ${S}. Received ${T}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:v,aggregateTwoErrors:y(_),hideStackFrames:y,codes:c}}),sa=wt((e,t)=>{ut(),dt(),ft();var{ArrayIsArray:i,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:r,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:h,NumberParseInt:c,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:d,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=Re(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:M,ERR_UNKNOWN_SIGNAL:T}}=Xe(),{normalizeEncoding:E}=en(),{isAsyncFunction:k,isArrayBufferView:O}=en().types,F={};function V(U){return U===(U|0)}function q(U){return U===U>>>0}var A=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function Z(U,G,vt){if(typeof U>"u"&&(U=vt),typeof U=="string"){if(f(A,U)===null)throw new S(G,U,Y);U=c(U,8)}return X(U,G),U}var H=_((U,G,vt=h,Et=l)=>{if(typeof U!="number")throw new w(G,"number",U);if(!o(U))throw new M(G,"an integer",U);if(U<vt||U>Et)throw new M(G,`>= ${vt} && <= ${Et}`,U)}),tt=_((U,G,vt=-2147483648,Et=2147483647)=>{if(typeof U!="number")throw new w(G,"number",U);if(!o(U))throw new M(G,"an integer",U);if(U<vt||U>Et)throw new M(G,`>= ${vt} && <= ${Et}`,U)}),X=_((U,G,vt=!1)=>{if(typeof U!="number")throw new w(G,"number",U);if(!o(U))throw new M(G,"an integer",U);let Et=vt?1:0,Tt=4294967295;if(U<Et||U>Tt)throw new M(G,`>= ${Et} && <= ${Tt}`,U)});function z(U,G){if(typeof U!="string")throw new w(G,"string",U)}function it(U,G,vt=void 0,Et){if(typeof U!="number")throw new w(G,"number",U);if(vt!=null&&U<vt||Et!=null&&U>Et||(vt!=null||Et!=null)&&a(U))throw new M(G,`${vt!=null?`>= ${vt}`:""}${vt!=null&&Et!=null?" && ":""}${Et!=null?`<= ${Et}`:""}`,U)}var rt=_((U,G,vt)=>{if(!n(vt,U)){let Et="must be one of: "+r(s(vt,Tt=>typeof Tt=="string"?`'${Tt}'`:d(Tt)),", ");throw new S(G,U,Et)}});function yt(U,G){if(typeof U!="boolean")throw new w(G,"boolean",U)}function I(U,G,vt){return U==null||!u(U,G)?vt:U[G]}var K=_((U,G,vt=null)=>{let Et=I(vt,"allowArray",!1),Tt=I(vt,"allowFunction",!1);if(!I(vt,"nullable",!1)&&U===null||!Et&&i(U)||typeof U!="object"&&(!Tt||typeof U!="function"))throw new w(G,"Object",U)}),ot=_((U,G)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new w(G,"a dictionary",U)}),xt=_((U,G,vt=0)=>{if(!i(U))throw new w(G,"Array",U);if(U.length<vt){let Et=`must be longer than ${vt}`;throw new S(G,U,Et)}});function st(U,G){xt(U,G);for(let vt=0;vt<U.length;vt++)z(U[vt],`${G}[${vt}]`)}function B(U,G){xt(U,G);for(let vt=0;vt<U.length;vt++)yt(U[vt],`${G}[${vt}]`)}function C(U,G="signal"){if(z(U,G),F[U]===void 0)throw F[g(U)]!==void 0?new T(U+" (signals must use all capital letters)"):new T(U)}var Q=_((U,G="buffer")=>{if(!O(U))throw new w(G,["Buffer","TypedArray","DataView"],U)});function lt(U,G){let vt=E(G),Et=U.length;if(vt==="hex"&&Et%2!==0)throw new S("encoding",G,`is invalid for data of length ${Et}`)}function et(U,G="Port",vt=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&y(U).length===0||+U!==+U>>>0||U>65535||U===0&&!vt)throw new v(G,U,vt);return U|0}var nt=_((U,G)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new w(G,"AbortSignal",U)}),ht=_((U,G)=>{if(typeof U!="function")throw new w(G,"Function",U)}),gt=_((U,G)=>{if(typeof U!="function"||k(U))throw new w(G,"Function",U)}),L=_((U,G)=>{if(U!==void 0)throw new w(G,"undefined",U)});function j(U,G,vt){if(!n(vt,U))throw new w(G,`('${r(vt,"|")}')`,U)}var W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function at(U,G){if(typeof U>"u"||!f(W,U))throw new S(G,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function J(U){if(typeof U=="string")return at(U,"hints"),U;if(i(U)){let G=U.length,vt="";if(G===0)return vt;for(let Et=0;Et<G;Et++){let Tt=U[Et];at(Tt,"hints"),vt+=Tt,Et!==G-1&&(vt+=", ")}return vt}throw new S("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:V,isUint32:q,parseFileMode:Z,validateArray:xt,validateStringArray:st,validateBooleanArray:B,validateBoolean:yt,validateBuffer:Q,validateDictionary:ot,validateEncoding:lt,validateFunction:ht,validateInt32:tt,validateInteger:H,validateNumber:it,validateObject:K,validateOneOf:rt,validatePlainFunction:gt,validatePort:et,validateSignalName:C,validateString:z,validateUint32:X,validateUndefined:L,validateUnion:j,validateAbortSignal:nt,validateLinkHeaderValue:J}}),ur=wt((e,t)=>{ut(),dt(),ft();var i=t.exports={},n,r;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?r=clearTimeout:r=o}catch{r=o}})();function a(v){if(n===setTimeout)return setTimeout(v,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(v,0);try{return n(v,0)}catch{try{return n.call(null,v,0)}catch{return n.call(this,v,0)}}}function l(v){if(r===clearTimeout)return clearTimeout(v);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this,v)}}}var h=[],c=!1,u,f=-1;function d(){!c||!u||(c=!1,u.length?h=u.concat(h):f=-1,h.length&&g())}function g(){if(!c){var v=a(d);c=!0;for(var w=h.length;w;){for(u=h,h=[];++f<w;)u&&u[f].run();f=-1,w=h.length}u=null,c=!1,l(v)}}i.nextTick=function(v){var w=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)w[S-1]=arguments[S];h.push(new y(v,w)),h.length===1&&!c&&a(g)};function y(v,w){this.fun=v,this.array=w}y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function _(){}i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(v){return[]},i.binding=function(v){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(v){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),an=wt((e,t)=>{ut(),dt(),ft();var{Symbol:i,SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:s}=Re(),o=i("kDestroyed"),a=i("kIsErrored"),l=i("kIsReadable"),h=i("kIsDisturbed"),c=s("nodejs.webstream.isClosedPromise"),u=s("nodejs.webstream.controllerErrorFunction");function f(I,K=!1){var ot;return!!(I&&typeof I.pipe=="function"&&typeof I.on=="function"&&(!K||typeof I.pause=="function"&&typeof I.resume=="function")&&(!I._writableState||((ot=I._readableState)===null||ot===void 0?void 0:ot.readable)!==!1)&&(!I._writableState||I._readableState))}function d(I){var K;return!!(I&&typeof I.write=="function"&&typeof I.on=="function"&&(!I._readableState||((K=I._writableState)===null||K===void 0?void 0:K.writable)!==!1))}function g(I){return!!(I&&typeof I.pipe=="function"&&I._readableState&&typeof I.on=="function"&&typeof I.write=="function")}function y(I){return I&&(I._readableState||I._writableState||typeof I.write=="function"&&typeof I.on=="function"||typeof I.pipe=="function"&&typeof I.on=="function")}function _(I){return!!(I&&!y(I)&&typeof I.pipeThrough=="function"&&typeof I.getReader=="function"&&typeof I.cancel=="function")}function v(I){return!!(I&&!y(I)&&typeof I.getWriter=="function"&&typeof I.abort=="function")}function w(I){return!!(I&&!y(I)&&typeof I.readable=="object"&&typeof I.writable=="object")}function S(I){return _(I)||v(I)||w(I)}function M(I,K){return I==null?!1:K===!0?typeof I[n]=="function":K===!1?typeof I[r]=="function":typeof I[n]=="function"||typeof I[r]=="function"}function T(I){if(!y(I))return null;let K=I._writableState,ot=I._readableState,xt=K||ot;return!!(I.destroyed||I[o]||xt!=null&&xt.destroyed)}function E(I){if(!d(I))return null;if(I.writableEnded===!0)return!0;let K=I._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function k(I,K){if(!d(I))return null;if(I.writableFinished===!0)return!0;let ot=I._writableState;return ot!=null&&ot.errored?!1:typeof(ot==null?void 0:ot.finished)!="boolean"?null:!!(ot.finished||K===!1&&ot.ended===!0&&ot.length===0)}function O(I){if(!f(I))return null;if(I.readableEnded===!0)return!0;let K=I._readableState;return!K||K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function F(I,K){if(!f(I))return null;let ot=I._readableState;return ot!=null&&ot.errored?!1:typeof(ot==null?void 0:ot.endEmitted)!="boolean"?null:!!(ot.endEmitted||K===!1&&ot.ended===!0&&ot.length===0)}function V(I){return I&&I[l]!=null?I[l]:typeof(I==null?void 0:I.readable)!="boolean"?null:T(I)?!1:f(I)&&I.readable&&!F(I)}function q(I){return typeof(I==null?void 0:I.writable)!="boolean"?null:T(I)?!1:d(I)&&I.writable&&!E(I)}function A(I,K){return y(I)?T(I)?!0:!((K==null?void 0:K.readable)!==!1&&V(I)||(K==null?void 0:K.writable)!==!1&&q(I)):null}function Y(I){var K,ot;return y(I)?I.writableErrored?I.writableErrored:(K=(ot=I._writableState)===null||ot===void 0?void 0:ot.errored)!==null&&K!==void 0?K:null:null}function Z(I){var K,ot;return y(I)?I.readableErrored?I.readableErrored:(K=(ot=I._readableState)===null||ot===void 0?void 0:ot.errored)!==null&&K!==void 0?K:null:null}function H(I){if(!y(I))return null;if(typeof I.closed=="boolean")return I.closed;let K=I._writableState,ot=I._readableState;return typeof(K==null?void 0:K.closed)=="boolean"||typeof(ot==null?void 0:ot.closed)=="boolean"?(K==null?void 0:K.closed)||(ot==null?void 0:ot.closed):typeof I._closed=="boolean"&&tt(I)?I._closed:null}function tt(I){return typeof I._closed=="boolean"&&typeof I._defaultKeepAlive=="boolean"&&typeof I._removedConnection=="boolean"&&typeof I._removedContLen=="boolean"}function X(I){return typeof I._sent100=="boolean"&&tt(I)}function z(I){var K;return typeof I._consuming=="boolean"&&typeof I._dumped=="boolean"&&((K=I.req)===null||K===void 0?void 0:K.upgradeOrConnect)===void 0}function it(I){if(!y(I))return null;let K=I._writableState,ot=I._readableState,xt=K||ot;return!xt&&X(I)||!!(xt&&xt.autoDestroy&&xt.emitClose&&xt.closed===!1)}function rt(I){var K;return!!(I&&((K=I[h])!==null&&K!==void 0?K:I.readableDidRead||I.readableAborted))}function yt(I){var K,ot,xt,st,B,C,Q,lt,et,nt;return!!(I&&((K=(ot=(xt=(st=(B=(C=I[a])!==null&&C!==void 0?C:I.readableErrored)!==null&&B!==void 0?B:I.writableErrored)!==null&&st!==void 0?st:(Q=I._readableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&xt!==void 0?xt:(lt=I._writableState)===null||lt===void 0?void 0:lt.errorEmitted)!==null&&ot!==void 0?ot:(et=I._readableState)===null||et===void 0?void 0:et.errored)!==null&&K!==void 0?K:!((nt=I._writableState)===null||nt===void 0)&&nt.errored))}t.exports={kDestroyed:o,isDisturbed:rt,kIsDisturbed:h,isErrored:yt,kIsErrored:a,isReadable:V,kIsReadable:l,kIsClosedPromise:c,kControllerErrorFunction:u,isClosed:H,isDestroyed:T,isDuplexNodeStream:g,isFinished:A,isIterable:M,isReadableNodeStream:f,isReadableStream:_,isReadableEnded:O,isReadableFinished:F,isReadableErrored:Z,isNodeStream:y,isWebStream:S,isWritable:q,isWritableNodeStream:d,isWritableStream:v,isWritableEnded:E,isWritableFinished:k,isWritableErrored:Y,isServerRequest:z,isServerResponse:X,willEmitClose:it,isTransformStream:w}}),Cn=wt((e,t)=>{ut(),dt(),ft();var i=ur(),{AbortError:n,codes:r}=Xe(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=r,{kEmptyObject:a,once:l}=en(),{validateAbortSignal:h,validateFunction:c,validateObject:u,validateBoolean:f}=sa(),{Promise:d,PromisePrototypeThen:g}=Re(),{isClosed:y,isReadable:_,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:S,isReadableErrored:M,isWritable:T,isWritableNodeStream:E,isWritableStream:k,isWritableFinished:O,isWritableErrored:F,isNodeStream:V,willEmitClose:q,kIsClosedPromise:A}=an();function Y(z){return z.setHeader&&typeof z.abort=="function"}var Z=()=>{};function H(z,it,rt){var yt,I;if(arguments.length===2?(rt=it,it=a):it==null?it=a:u(it,"options"),c(rt,"callback"),h(it.signal,"options.signal"),rt=l(rt),w(z)||k(z))return tt(z,it,rt);if(!V(z))throw new s("stream",["ReadableStream","WritableStream","Stream"],z);let K=(yt=it.readable)!==null&&yt!==void 0?yt:v(z),ot=(I=it.writable)!==null&&I!==void 0?I:E(z),xt=z._writableState,st=z._readableState,B=()=>{z.writable||lt()},C=q(z)&&v(z)===K&&E(z)===ot,Q=O(z,!1),lt=()=>{Q=!0,z.destroyed&&(C=!1),!(C&&(!z.readable||K))&&(!K||et)&&rt.call(z)},et=S(z,!1),nt=()=>{et=!0,z.destroyed&&(C=!1),!(C&&(!z.writable||ot))&&(!ot||Q)&&rt.call(z)},ht=J=>{rt.call(z,J)},gt=y(z),L=()=>{gt=!0;let J=F(z)||M(z);if(J&&typeof J!="boolean")return rt.call(z,J);if(K&&!et&&v(z,!0)&&!S(z,!1))return rt.call(z,new o);if(ot&&!Q&&!O(z,!1))return rt.call(z,new o);rt.call(z)},j=()=>{gt=!0;let J=F(z)||M(z);if(J&&typeof J!="boolean")return rt.call(z,J);rt.call(z)},W=()=>{z.req.on("finish",lt)};Y(z)?(z.on("complete",lt),C||z.on("abort",L),z.req?W():z.on("request",W)):ot&&!xt&&(z.on("end",B),z.on("close",B)),!C&&typeof z.aborted=="boolean"&&z.on("aborted",L),z.on("end",nt),z.on("finish",lt),it.error!==!1&&z.on("error",ht),z.on("close",L),gt?i.nextTick(L):xt!=null&&xt.errorEmitted||st!=null&&st.errorEmitted?C||i.nextTick(j):(!K&&(!C||_(z))&&(Q||T(z)===!1)||!ot&&(!C||T(z))&&(et||_(z)===!1)||st&&z.req&&z.aborted)&&i.nextTick(j);let at=()=>{rt=Z,z.removeListener("aborted",L),z.removeListener("complete",lt),z.removeListener("abort",L),z.removeListener("request",W),z.req&&z.req.removeListener("finish",lt),z.removeListener("end",B),z.removeListener("close",B),z.removeListener("finish",lt),z.removeListener("end",nt),z.removeListener("error",ht),z.removeListener("close",L)};if(it.signal&&!gt){let J=()=>{let U=rt;at(),U.call(z,new n(void 0,{cause:it.signal.reason}))};if(it.signal.aborted)i.nextTick(J);else{let U=rt;rt=l((...G)=>{it.signal.removeEventListener("abort",J),U.apply(z,G)}),it.signal.addEventListener("abort",J)}}return at}function tt(z,it,rt){let yt=!1,I=Z;if(it.signal)if(I=()=>{yt=!0,rt.call(z,new n(void 0,{cause:it.signal.reason}))},it.signal.aborted)i.nextTick(I);else{let ot=rt;rt=l((...xt)=>{it.signal.removeEventListener("abort",I),ot.apply(z,xt)}),it.signal.addEventListener("abort",I)}let K=(...ot)=>{yt||i.nextTick(()=>rt.apply(z,ot))};return g(z[A].promise,K,K),Z}function X(z,it){var rt;let yt=!1;return it===null&&(it=a),(rt=it)!==null&&rt!==void 0&&rt.cleanup&&(f(it.cleanup,"cleanup"),yt=it.cleanup),new d((I,K)=>{let ot=H(z,it,xt=>{yt&&ot(),xt?K(xt):I()})})}t.exports=H,t.exports.finished=X}),Cr=wt((e,t)=>{ut(),dt(),ft();var i=ur(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:s}=Xe(),{Symbol:o}=Re(),{kDestroyed:a,isDestroyed:l,isFinished:h,isServerRequest:c}=an(),u=o("kDestroy"),f=o("kConstruct");function d(A,Y,Z){A&&(A.stack,Y&&!Y.errored&&(Y.errored=A),Z&&!Z.errored&&(Z.errored=A))}function g(A,Y){let Z=this._readableState,H=this._writableState,tt=H||Z;return H!=null&&H.destroyed||Z!=null&&Z.destroyed?(typeof Y=="function"&&Y(),this):(d(A,H,Z),H&&(H.destroyed=!0),Z&&(Z.destroyed=!0),tt.constructed?y(this,A,Y):this.once(u,function(X){y(this,n(X,A),Y)}),this)}function y(A,Y,Z){let H=!1;function tt(X){if(H)return;H=!0;let z=A._readableState,it=A._writableState;d(X,it,z),it&&(it.closed=!0),z&&(z.closed=!0),typeof Z=="function"&&Z(X),X?i.nextTick(_,A,X):i.nextTick(v,A)}try{A._destroy(Y||null,tt)}catch(X){tt(X)}}function _(A,Y){w(A,Y),v(A)}function v(A){let Y=A._readableState,Z=A._writableState;Z&&(Z.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(Z!=null&&Z.emitClose||Y!=null&&Y.emitClose)&&A.emit("close")}function w(A,Y){let Z=A._readableState,H=A._writableState;H!=null&&H.errorEmitted||Z!=null&&Z.errorEmitted||(H&&(H.errorEmitted=!0),Z&&(Z.errorEmitted=!0),A.emit("error",Y))}function S(){let A=this._readableState,Y=this._writableState;A&&(A.constructed=!0,A.closed=!1,A.closeEmitted=!1,A.destroyed=!1,A.errored=null,A.errorEmitted=!1,A.reading=!1,A.ended=A.readable===!1,A.endEmitted=A.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function M(A,Y,Z){let H=A._readableState,tt=A._writableState;if(tt!=null&&tt.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||tt!=null&&tt.autoDestroy?A.destroy(Y):Y&&(Y.stack,tt&&!tt.errored&&(tt.errored=Y),H&&!H.errored&&(H.errored=Y),Z?i.nextTick(w,A,Y):w(A,Y))}function T(A,Y){if(typeof A._construct!="function")return;let Z=A._readableState,H=A._writableState;Z&&(Z.constructed=!1),H&&(H.constructed=!1),A.once(f,Y),!(A.listenerCount(f)>1)&&i.nextTick(E,A)}function E(A){let Y=!1;function Z(H){if(Y){M(A,H??new r);return}Y=!0;let tt=A._readableState,X=A._writableState,z=X||tt;tt&&(tt.constructed=!0),X&&(X.constructed=!0),z.destroyed?A.emit(u,H):H?M(A,H,!0):i.nextTick(k,A)}try{A._construct(H=>{i.nextTick(Z,H)})}catch(H){i.nextTick(Z,H)}}function k(A){A.emit(f)}function O(A){return(A==null?void 0:A.setHeader)&&typeof A.abort=="function"}function F(A){A.emit("close")}function V(A,Y){A.emit("error",Y),i.nextTick(F,A)}function q(A,Y){!A||l(A)||(!Y&&!h(A)&&(Y=new s),c(A)?(A.socket=null,A.destroy(Y)):O(A)?A.abort():O(A.req)?A.req.abort():typeof A.destroy=="function"?A.destroy(Y):typeof A.close=="function"?A.close():Y?i.nextTick(V,A,Y):i.nextTick(F,A),A.destroyed||(A[a]=!0))}t.exports={construct:T,destroyer:q,destroy:g,undestroy:S,errorOrDestroy:M}});function te(){te.init.call(this)}function yo(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function mg(e){return e._maxListeners===void 0?te.defaultMaxListeners:e._maxListeners}function kf(e,t,i,n){var r,s,o,a;if(yo(i),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),o=s[t]),o===void 0)o=s[t]=i,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=mg(e))>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return e}function Ek(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ef(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=Ek.bind(n);return r.listener=i,n.wrapFn=r,r}function Mf(e,t,i){var n=e._events;if(n===void 0)return[];var r=n[t];return r===void 0?[]:typeof r=="function"?i?[r.listener||r]:[r]:i?function(s){for(var o=new Array(s.length),a=0;a<o.length;++a)o[a]=s[a].listener||s[a];return o}(r):bg(r,r.length)}function Af(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}function bg(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}var Tf,Of,Un,Pa,Ia,Ca,ti,Pf=Fe(()=>{ut(),dt(),ft(),Un=typeof Reflect=="object"?Reflect:null,Pa=Un&&typeof Un.apply=="function"?Un.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},Of=Un&&typeof Un.ownKeys=="function"?Un.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Ia=Number.isNaN||function(e){return e!=e},Tf=te,te.EventEmitter=te,te.prototype._events=void 0,te.prototype._eventsCount=0,te.prototype._maxListeners=void 0,Ca=10,Object.defineProperty(te,"defaultMaxListeners",{enumerable:!0,get:function(){return Ca},set:function(e){if(typeof e!="number"||e<0||Ia(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ca=e}}),te.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},te.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ia(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},te.prototype.getMaxListeners=function(){return mg(this)},te.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=r[e];if(a===void 0)return!1;if(typeof a=="function")Pa(a,this,t);else{var l=a.length,h=bg(a,l);for(i=0;i<l;++i)Pa(h[i],this,t)}return!0},te.prototype.addListener=function(e,t){return kf(this,e,t,!1)},te.prototype.on=te.prototype.addListener,te.prototype.prependListener=function(e,t){return kf(this,e,t,!0)},te.prototype.once=function(e,t){return yo(t),this.on(e,Ef(this,e,t)),this},te.prototype.prependOnceListener=function(e,t){return yo(t),this.prependListener(e,Ef(this,e,t)),this},te.prototype.removeListener=function(e,t){var i,n,r,s,o;if(yo(t),(n=this._events)===void 0)return this;if((i=n[e])===void 0)return this;if(i===t||i.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){o=i[s].listener,r=s;break}if(r<0)return this;r===0?i.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(i,r),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},te.prototype.off=te.prototype.removeListener,te.prototype.removeAllListeners=function(e){var t,i,n;if((i=this._events)===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var r,s=Object.keys(i);for(n=0;n<s.length;++n)(r=s[n])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=i[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},te.prototype.listeners=function(e){return Mf(this,e,!0)},te.prototype.rawListeners=function(e){return Mf(this,e,!1)},te.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Af.call(e,t)},te.prototype.listenerCount=Af,te.prototype.eventNames=function(){return this._eventsCount>0?Of(this._events):[]},ti=Tf,ti.EventEmitter,ti.defaultMaxListeners,ti.init,ti.listenerCount,ti.EventEmitter,ti.defaultMaxListeners,ti.init,ti.listenerCount}),fr={};cr(fr,{EventEmitter:()=>yg,default:()=>ti,defaultMaxListeners:()=>_g,init:()=>wg,listenerCount:()=>vg,on:()=>Sg,once:()=>xg});var yg,_g,wg,vg,Sg,xg,Rr=Fe(()=>{ut(),dt(),ft(),Pf(),Pf(),ti.once=function(e,t){return new Promise((i,n)=>{function r(...o){s!==void 0&&e.removeListener("error",s),i(o)}let s;t!=="error"&&(s=o=>{e.removeListener(name,r),n(o)},e.once("error",s)),e.once(t,r)})},ti.on=function(e,t){let i=[],n=[],r=null,s=!1,o={async next(){let h=i.shift();if(h)return createIterResult(h,!1);if(r){let c=Promise.reject(r);return r=null,c}return s?createIterResult(void 0,!0):new Promise((c,u)=>n.push({resolve:c,reject:u}))},async return(){e.removeListener(t,a),e.removeListener("error",l),s=!0;for(let h of n)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){r=h,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),o;function a(...h){let c=n.shift();c?c.resolve(createIterResult(h,!1)):i.push(h)}function l(h){s=!0;let c=n.shift();c?c.reject(h):r=h,o.return()}},{EventEmitter:yg,defaultMaxListeners:_g,init:wg,listenerCount:vg,on:Sg,once:xg}=ti}),Ac=wt((e,t)=>{ut(),dt(),ft();var{ArrayIsArray:i,ObjectSetPrototypeOf:n}=Re(),{EventEmitter:r}=(Rr(),ne(fr));function s(a){r.call(this,a)}n(s.prototype,r.prototype),n(s,r),s.prototype.pipe=function(a,l){let h=this;function c(v){a.writable&&a.write(v)===!1&&h.pause&&h.pause()}h.on("data",c);function u(){h.readable&&h.resume&&h.resume()}a.on("drain",u),!a._isStdio&&(!l||l.end!==!1)&&(h.on("end",d),h.on("close",g));let f=!1;function d(){f||(f=!0,a.end())}function g(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function y(v){_(),r.listenerCount(this,"error")===0&&this.emit("error",v)}o(h,"error",y),o(a,"error",y);function _(){h.removeListener("data",c),a.removeListener("drain",u),h.removeListener("end",d),h.removeListener("close",g),h.removeListener("error",y),a.removeListener("error",y),h.removeListener("end",_),h.removeListener("close",_),a.removeListener("close",_)}return h.on("end",_),h.on("close",_),a.on("close",_),a.emit("pipe",h),a};function o(a,l,h){if(typeof a.prependListener=="function")return a.prependListener(l,h);!a._events||!a._events[l]?a.on(l,h):i(a._events[l])?a._events[l].unshift(h):a._events[l]=[h,a._events[l]]}t.exports={Stream:s,prependListener:o}}),oa=wt((e,t)=>{ut(),dt(),ft();var{AbortError:i,codes:n}=Xe(),{isNodeStream:r,isWebStream:s,kControllerErrorFunction:o}=an(),a=Cn(),{ERR_INVALID_ARG_TYPE:l}=n,h=(c,u)=>{if(typeof c!="object"||!("aborted"in c))throw new l(u,"AbortSignal",c)};t.exports.addAbortSignal=function(c,u){if(h(c,"signal"),!r(u)&&!s(u))throw new l("stream",["ReadableStream","WritableStream","Stream"],u);return t.exports.addAbortSignalNoValidate(c,u)},t.exports.addAbortSignalNoValidate=function(c,u){if(typeof c!="object"||!("aborted"in c))return u;let f=r(u)?()=>{u.destroy(new i(void 0,{cause:c.reason}))}:()=>{u[o](new i(void 0,{cause:c.reason}))};return c.aborted?f():(c.addEventListener("abort",f),a(u,()=>c.removeEventListener("abort",f))),u}}),Mk=wt((e,t)=>{ut(),dt(),ft();var{StringPrototypeSlice:i,SymbolIterator:n,TypedArrayPrototypeSet:r,Uint8Array:s}=Re(),{Buffer:o}=(je(),ne(Ue)),{inspect:a}=en();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let h={data:l,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(l){let h={data:l,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let h=this.head,c=""+h.data;for(;(h=h.next)!==null;)c+=l+h.data;return c}concat(l){if(this.length===0)return o.alloc(0);let h=o.allocUnsafe(l>>>0),c=this.head,u=0;for(;c;)r(h,c.data,u),u+=c.data.length,c=c.next;return h}consume(l,h){let c=this.head.data;if(l<c.length){let u=c.slice(0,l);return this.head.data=c.slice(l),u}return l===c.length?this.shift():h?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[n](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let h="",c=this.head,u=0;do{let f=c.data;if(l>f.length)h+=f,l-=f.length;else{l===f.length?(h+=f,++u,c.next?this.head=c.next:this.head=this.tail=null):(h+=i(f,0,l),this.head=c,c.data=i(f,l));break}++u}while((c=c.next)!==null);return this.length-=u,h}_getBuffer(l){let h=o.allocUnsafe(l),c=l,u=this.head,f=0;do{let d=u.data;if(l>d.length)r(h,d,c-l),l-=d.length;else{l===d.length?(r(h,d,c-l),++f,u.next?this.head=u.next:this.head=this.tail=null):(r(h,new s(d.buffer,d.byteOffset,l),c-l),this.head=u,u.data=d.slice(l));break}++f}while((u=u.next)!==null);return this.length-=f,h}[Symbol.for("nodejs.util.inspect.custom")](l,h){return a(this,{...h,depth:0,customInspect:!1})}}}),Tc=wt((e,t)=>{ut(),dt(),ft();var{MathFloor:i,NumberIsInteger:n}=Re(),{ERR_INVALID_ARG_VALUE:r}=Xe().codes;function s(l,h,c){return l.highWaterMark!=null?l.highWaterMark:h?l[c]:null}function o(l){return l?16:16*1024}function a(l,h,c,u){let f=s(h,u,c);if(f!=null){if(!n(f)||f<0){let d=u?`options.${c}`:"options.highWaterMark";throw new r(d,f)}return i(f)}return o(l.objectMode)}t.exports={getHighWaterMark:a,getDefaultHighWaterMark:o}});function If(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return i===-1&&(i=t),[i,i===t?0:4-i%4]}function Ak(e,t,i){for(var n,r,s=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(di[(r=n)>>18&63]+di[r>>12&63]+di[r>>6&63]+di[63&r]);return s.join("")}function Qi(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,mt.prototype),t}function mt(e,t,i){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wh(e)}return kg(e,t,i)}function kg(e,t,i){if(typeof e=="string")return function(s,o){if(typeof o=="string"&&o!==""||(o="utf8"),!mt.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var a=0|Mg(s,o),l=Qi(a),h=l.write(s,o);return h!==a&&(l=l.slice(0,h)),l}(e,t);if(ArrayBuffer.isView(e))return Ra(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Xi(e,ArrayBuffer)||e&&Xi(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xi(e,SharedArrayBuffer)||e&&Xi(e.buffer,SharedArrayBuffer)))return Tk(e,t,i);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return mt.from(n,t,i);var r=function(s){if(mt.isBuffer(s)){var o=0|Oc(s.length),a=Qi(o);return a.length===0||s.copy(a,0,0,o),a}if(s.length!==void 0)return typeof s.length!="number"||Pc(s.length)?Qi(0):Ra(s);if(s.type==="Buffer"&&Array.isArray(s.data))return Ra(s.data)}(e);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return mt.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function Eg(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function wh(e){return Eg(e),Qi(e<0?0:0|Oc(e))}function Ra(e){for(var t=e.length<0?0:0|Oc(e.length),i=Qi(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function Tk(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&i===void 0?new Uint8Array(e):i===void 0?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,mt.prototype),n}function Oc(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|e}function Mg(e,t){if(mt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Xi(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&i===0)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return vh(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Pg(e).length;default:if(r)return n?-1:vh(e).length;t=(""+t).toLowerCase(),r=!0}}function Ok(e,t,i){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Fk(this,t,i);case"utf8":case"utf-8":return Tg(this,t,i);case"ascii":return Bk(this,t,i);case"latin1":case"binary":return Nk(this,t,i);case"base64":return Lk(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Uk(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function jn(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function Cf(e,t,i,n,r){if(e.length===0)return-1;if(typeof i=="string"?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Pc(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if(typeof t=="string"&&(t=mt.from(t,n)),mt.isBuffer(t))return t.length===0?-1:Rf(e,t,i,n,r);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):Rf(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function Rf(e,t,i,n,r){var s,o=1,a=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,i/=2}function h(d,g){return o===1?d[g]:d.readUInt16BE(g*o)}if(r){var c=-1;for(s=i;s<a;s++)if(h(e,s)===h(t,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===l)return c*o}else c!==-1&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var u=!0,f=0;f<l;f++)if(h(e,s+f)!==h(t,f)){u=!1;break}if(u)return s}return-1}function Pk(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(Pc(a))return o;e[i+o]=a}return o}function Ik(e,t,i,n){return aa(vh(t,e.length-i),e,i,n)}function Ag(e,t,i,n){return aa(function(r){for(var s=[],o=0;o<r.length;++o)s.push(255&r.charCodeAt(o));return s}(t),e,i,n)}function Ck(e,t,i,n){return Ag(e,t,i,n)}function Rk(e,t,i,n){return aa(Pg(t),e,i,n)}function Dk(e,t,i,n){return aa(function(r,s){for(var o,a,l,h=[],c=0;c<r.length&&!((s-=2)<0);++c)o=r.charCodeAt(c),a=o>>8,l=o%256,h.push(l),h.push(a);return h}(t,e.length-i),e,i,n)}function Lk(e,t,i){return t===0&&i===e.length?Fo.fromByteArray(e):Fo.fromByteArray(e.slice(t,i))}function Tg(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var s,o,a,l,h=e[r],c=null,u=h>239?4:h>223?3:h>191?2:1;if(r+u<=i)switch(u){case 1:h<128&&(c=h);break;case 2:(192&(s=e[r+1]))==128&&(l=(31&h)<<6|63&s)>127&&(c=l);break;case 3:s=e[r+1],o=e[r+2],(192&s)==128&&(192&o)==128&&(l=(15&h)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[r+1],o=e[r+2],a=e[r+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}c===null?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=u}return function(f){var d=f.length;if(d<=4096)return String.fromCharCode.apply(String,f);for(var g="",y=0;y<d;)g+=String.fromCharCode.apply(String,f.slice(y,y+=4096));return g}(n)}function Bk(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function Nk(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function Fk(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=t;s<i;++s)r+=Cg[e[s]];return r}function Uk(e,t,i){for(var n=e.slice(t,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function De(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function Ge(e,t,i,n,r,s){if(!mt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function Og(e,t,i,n,r,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Df(e,t,i,n,r){return t=+t,i>>>=0,r||Og(e,0,i,4),Gn.write(e,t,i,n,23,4),i+4}function Lf(e,t,i,n,r){return t=+t,i>>>=0,r||Og(e,0,i,8),Gn.write(e,t,i,n,52,8),i+8}function vh(e,t){var i;t=t||1/0;for(var n=e.length,r=null,s=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function Pg(e){return Fo.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Ig,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function aa(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function Xi(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Pc(e){return e!=e}function Bf(e,t){for(var i in e)t[i]=e[i]}function Wn(e,t,i){return ui(e,t,i)}function Yr(e){var t;switch(this.encoding=function(i){var n=function(r){if(!r)return"utf8";for(var s;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(s)return;r=(""+r).toLowerCase(),s=!0}}(i);if(typeof n!="string"&&(Uo.isEncoding===Sh||!Sh(i)))throw new Error("Unknown encoding: "+i);return n||i}(e),this.encoding){case"utf16le":this.text=Wk,this.end=Yk,t=4;break;case"utf8":this.fillLast=jk,t=4;break;case"base64":this.text=zk,this.end=Vk,t=3;break;default:return this.write=Hk,this.end=$k,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Uo.allocUnsafe(t)}function Da(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function jk(e){var t=this.lastTotal-this.lastNeed,i=function(n,r,s){if((192&r[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&r.length>1){if((192&r[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&r.length>2&&(192&r[2])!=128)return n.lastNeed=2,"�"}}(this,e);return i!==void 0?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function Wk(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Yk(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function zk(e,t){var i=(e.length-t)%3;return i===0?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function Vk(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Hk(e){return e.toString(this.encoding)}function $k(e){return e&&e.length?this.write(e):""}var Nf,di,Ze,Ff,Xs,Yn,Uf,jf,vi,Fo,Gn,La,Ig,Cg,zr,Vr,ui,Wf,vr,Uo,Sh,Yf=Fe(()=>{for(ut(),dt(),ft(),Nf={byteLength:function(e){var t=If(e),i=t[0],n=t[1];return 3*(i+n)/4-n},toByteArray:function(e){var t,i,n=If(e),r=n[0],s=n[1],o=new Ff(function(h,c,u){return 3*(c+u)/4-u}(0,r,s)),a=0,l=s>0?r-4:r;for(i=0;i<l;i+=4)t=Ze[e.charCodeAt(i)]<<18|Ze[e.charCodeAt(i+1)]<<12|Ze[e.charCodeAt(i+2)]<<6|Ze[e.charCodeAt(i+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return s===2&&(t=Ze[e.charCodeAt(i)]<<2|Ze[e.charCodeAt(i+1)]>>4,o[a++]=255&t),s===1&&(t=Ze[e.charCodeAt(i)]<<10|Ze[e.charCodeAt(i+1)]<<4|Ze[e.charCodeAt(i+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o},fromByteArray:function(e){for(var t,i=e.length,n=i%3,r=[],s=0,o=i-n;s<o;s+=16383)r.push(Ak(e,s,s+16383>o?o:s+16383));return n===1?(t=e[i-1],r.push(di[t>>2]+di[t<<4&63]+"==")):n===2&&(t=(e[i-2]<<8)+e[i-1],r.push(di[t>>10]+di[t>>4&63]+di[t<<2&63]+"=")),r.join("")}},di=[],Ze=[],Ff=typeof Uint8Array<"u"?Uint8Array:Array,Xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yn=0,Uf=Xs.length;Yn<Uf;++Yn)di[Yn]=Xs[Yn],Ze[Xs.charCodeAt(Yn)]=Yn;Ze["-".charCodeAt(0)]=62,Ze["_".charCodeAt(0)]=63,jf={read:function(e,t,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?r-1:0,f=i?-1:1,d=e[t+u];for(u+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+e[t+u],u+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+u],u+=f,c-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},write:function(e,t,i,n,r,s){var o,a,l,h=8*s-r-1,c=(1<<h)-1,u=c>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,g=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(t*l-1)*Math.pow(2,r),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;e[i+d]=255&a,d+=g,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;e[i+d]=255&o,d+=g,o/=256,h-=8);e[i+d-g]|=128*y}},vi={},Fo=Nf,Gn=jf,La=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,vi.Buffer=mt,vi.SlowBuffer=function(e){return+e!=e&&(e=0),mt.alloc(+e)},vi.INSPECT_MAX_BYTES=50,vi.kMaxLength=2147483647,mt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),mt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(mt.prototype,"parent",{enumerable:!0,get:function(){if(mt.isBuffer(this))return this.buffer}}),Object.defineProperty(mt.prototype,"offset",{enumerable:!0,get:function(){if(mt.isBuffer(this))return this.byteOffset}}),mt.poolSize=8192,mt.from=function(e,t,i){return kg(e,t,i)},Object.setPrototypeOf(mt.prototype,Uint8Array.prototype),Object.setPrototypeOf(mt,Uint8Array),mt.alloc=function(e,t,i){return function(n,r,s){return Eg(n),n<=0?Qi(n):r!==void 0?typeof s=="string"?Qi(n).fill(r,s):Qi(n).fill(r):Qi(n)}(e,t,i)},mt.allocUnsafe=function(e){return wh(e)},mt.allocUnsafeSlow=function(e){return wh(e)},mt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==mt.prototype},mt.compare=function(e,t){if(Xi(e,Uint8Array)&&(e=mt.from(e,e.offset,e.byteLength)),Xi(t,Uint8Array)&&(t=mt.from(t,t.offset,t.byteLength)),!mt.isBuffer(e)||!mt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,r=0,s=Math.min(i,n);r<s;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},mt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},mt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return mt.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=mt.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var s=e[i];if(Xi(s,Uint8Array)&&(s=mt.from(s)),!mt.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},mt.byteLength=Mg,mt.prototype._isBuffer=!0,mt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)jn(this,t,t+1);return this},mt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)jn(this,t,t+3),jn(this,t+1,t+2);return this},mt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)jn(this,t,t+7),jn(this,t+1,t+6),jn(this,t+2,t+5),jn(this,t+3,t+4);return this},mt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Tg(this,0,e):Ok.apply(this,arguments)},mt.prototype.toLocaleString=mt.prototype.toString,mt.prototype.equals=function(e){if(!mt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||mt.compare(this,e)===0},mt.prototype.inspect=function(){var e="",t=vi.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},La&&(mt.prototype[La]=mt.prototype.inspect),mt.prototype.compare=function(e,t,i,n,r){if(Xi(e,Uint8Array)&&(e=mt.from(e,e.offset,e.byteLength)),!mt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),r===void 0&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(t>>>=0),a=Math.min(s,o),l=this.slice(n,r),h=e.slice(t,i),c=0;c<a;++c)if(l[c]!==h[c]){s=l[c],o=h[c];break}return s<o?-1:o<s?1:0},mt.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1},mt.prototype.indexOf=function(e,t,i){return Cf(this,e,t,i,!0)},mt.prototype.lastIndexOf=function(e,t,i){return Cf(this,e,t,i,!1)},mt.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,n===void 0&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((i===void 0||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return Pk(this,e,t,i);case"utf8":case"utf-8":return Ik(this,e,t,i);case"ascii":return Ag(this,e,t,i);case"latin1":case"binary":return Ck(this,e,t,i);case"base64":return Rk(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dk(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},mt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},mt.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=t===void 0?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,mt.prototype),n},mt.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||De(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n},mt.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||De(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},mt.prototype.readUInt8=function(e,t){return e>>>=0,t||De(e,1,this.length),this[e]},mt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||De(e,2,this.length),this[e]|this[e+1]<<8},mt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||De(e,2,this.length),this[e]<<8|this[e+1]},mt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||De(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},mt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||De(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},mt.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||De(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},mt.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||De(e,t,this.length);for(var n=t,r=1,s=this[e+--n];n>0&&(r*=256);)s+=this[e+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},mt.prototype.readInt8=function(e,t){return e>>>=0,t||De(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},mt.prototype.readInt16LE=function(e,t){e>>>=0,t||De(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},mt.prototype.readInt16BE=function(e,t){e>>>=0,t||De(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},mt.prototype.readInt32LE=function(e,t){return e>>>=0,t||De(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},mt.prototype.readInt32BE=function(e,t){return e>>>=0,t||De(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},mt.prototype.readFloatLE=function(e,t){return e>>>=0,t||De(e,4,this.length),Gn.read(this,e,!0,23,4)},mt.prototype.readFloatBE=function(e,t){return e>>>=0,t||De(e,4,this.length),Gn.read(this,e,!1,23,4)},mt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||De(e,8,this.length),Gn.read(this,e,!0,52,8)},mt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||De(e,8,this.length),Gn.read(this,e,!1,52,8)},mt.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||Ge(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[t]=255&e;++s<i&&(r*=256);)this[t+s]=e/r&255;return t+i},mt.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||Ge(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+i},mt.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,1,255,0),this[t]=255&e,t+1},mt.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},mt.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},mt.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},mt.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},mt.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);Ge(this,e,t,i,r-1,-r)}var s=0,o=1,a=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},mt.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);Ge(this,e,t,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},mt.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},mt.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},mt.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},mt.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},mt.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||Ge(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},mt.prototype.writeFloatLE=function(e,t,i){return Df(this,e,t,!0,i)},mt.prototype.writeFloatBE=function(e,t,i){return Df(this,e,t,!1,i)},mt.prototype.writeDoubleLE=function(e,t,i){return Lf(this,e,t,!0,i)},mt.prototype.writeDoubleBE=function(e,t,i){return Lf(this,e,t,!1,i)},mt.prototype.copy=function(e,t,i,n){if(!mt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r=n-i;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,i,n);else if(this===e&&i<t&&t<n)for(var s=r-1;s>=0;--s)e[s+t]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),t);return r},mt.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!mt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var r=e.charCodeAt(0);(n==="utf8"&&r<128||n==="latin1")&&(e=r)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=i===void 0?this.length:i>>>0,e||(e=0),typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{var o=mt.isBuffer(e)?e:mt.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this},Ig=/[^+/0-9A-Za-z-_]/g,Cg=function(){for(var e=new Array(256),t=0;t<16;++t)for(var i=16*t,n=0;n<16;++n)e[i+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),vi.Buffer,vi.INSPECT_MAX_BYTES,vi.kMaxLength,zr={},Vr=vi,ui=Vr.Buffer,ui.from&&ui.alloc&&ui.allocUnsafe&&ui.allocUnsafeSlow?zr=Vr:(Bf(Vr,zr),zr.Buffer=Wn),Wn.prototype=Object.create(ui.prototype),Bf(ui,Wn),Wn.from=function(e,t,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ui(e,t,i)},Wn.alloc=function(e,t,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=ui(e);return t!==void 0?typeof i=="string"?n.fill(t,i):n.fill(t):n.fill(0),n},Wn.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ui(e)},Wn.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Vr.SlowBuffer(e)},Wf=zr,vr={},Uo=Wf.Buffer,Sh=Uo.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},vr.StringDecoder=Yr,Yr.prototype.write=function(e){if(e.length===0)return"";var t,i;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},Yr.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},Yr.prototype.text=function(e,t){var i=function(r,s,o){var a=s.length-1;if(a<o)return 0;var l=Da(s[a]);return l>=0?(l>0&&(r.lastNeed=l-1),l):--a<o||l===-2?0:(l=Da(s[a]))>=0?(l>0&&(r.lastNeed=l-2),l):--a<o||l===-2?0:(l=Da(s[a]))>=0?(l>0&&(l===2?l=0:r.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Yr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},vr.StringDecoder,vr.StringDecoder}),Rg={};cr(Rg,{StringDecoder:()=>Dg,default:()=>vr});var Dg,qk=Fe(()=>{ut(),dt(),ft(),Yf(),Yf(),Dg=vr.StringDecoder}),Lg=wt((e,t)=>{ut(),dt(),ft();var i=ur(),{PromisePrototypeThen:n,SymbolAsyncIterator:r,SymbolIterator:s}=Re(),{Buffer:o}=(je(),ne(Ue)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=Xe().codes;function h(c,u,f){let d;if(typeof u=="string"||u instanceof o)return new c({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let g;if(u&&u[r])g=!0,d=u[r]();else if(u&&u[s])g=!1,d=u[s]();else throw new a("iterable",["Iterable"],u);let y=new c({objectMode:!0,highWaterMark:1,...f}),_=!1;y._read=function(){_||(_=!0,w())},y._destroy=function(S,M){n(v(S),()=>i.nextTick(M,S),T=>i.nextTick(M,T||S))};async function v(S){let M=S!=null,T=typeof d.throw=="function";if(M&&T){let{value:E,done:k}=await d.throw(S);if(await E,k)return}if(typeof d.return=="function"){let{value:E}=await d.return();await E}}async function w(){for(;;){try{let{value:S,done:M}=g?await d.next():d.next();if(M)y.push(null);else{let T=S&&typeof S.then=="function"?await S:S;if(T===null)throw _=!1,new l;if(y.push(T))continue;_=!1}}catch(S){y.destroy(S)}break}}return y}t.exports=h}),la=wt((e,t)=>{ut(),dt(),ft();var i=ur(),{ArrayPrototypeIndexOf:n,NumberIsInteger:r,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:h,Promise:c,SafeSet:u,SymbolAsyncIterator:f,Symbol:d}=Re();t.exports=I,I.ReadableState=yt;var{EventEmitter:g}=(Rr(),ne(fr)),{Stream:y,prependListener:_}=Ac(),{Buffer:v}=(je(),ne(Ue)),{addAbortSignal:w}=oa(),S=Cn(),M=en().debuglog("stream",p=>{M=p}),T=Mk(),E=Cr(),{getHighWaterMark:k,getDefaultHighWaterMark:O}=Tc(),{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:V,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:Y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Z}}=Xe(),{validateObject:H}=sa(),tt=d("kPaused"),{StringDecoder:X}=(qk(),ne(Rg)),z=Lg();h(I.prototype,y.prototype),h(I,y);var it=()=>{},{errorOrDestroy:rt}=E;function yt(p,b,P){typeof P!="boolean"&&(P=b instanceof nn()),this.objectMode=!!(p&&p.objectMode),P&&(this.objectMode=this.objectMode||!!(p&&p.readableObjectMode)),this.highWaterMark=p?k(this,p,"readableHighWaterMark",P):O(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[tt]=null,this.errorEmitted=!1,this.emitClose=!p||p.emitClose!==!1,this.autoDestroy=!p||p.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,p&&p.encoding&&(this.decoder=new X(p.encoding),this.encoding=p.encoding)}function I(p){if(!(this instanceof I))return new I(p);let b=this instanceof nn();this._readableState=new yt(p,this,b),p&&(typeof p.read=="function"&&(this._read=p.read),typeof p.destroy=="function"&&(this._destroy=p.destroy),typeof p.construct=="function"&&(this._construct=p.construct),p.signal&&!b&&w(p.signal,this)),y.call(this,p),E.construct(this,()=>{this._readableState.needReadable&&et(this,this._readableState)})}I.prototype.destroy=E.destroy,I.prototype._undestroy=E.undestroy,I.prototype._destroy=function(p,b){b(p)},I.prototype[g.captureRejectionSymbol]=function(p){this.destroy(p)},I.prototype.push=function(p,b){return K(this,p,b,!1)},I.prototype.unshift=function(p,b){return K(this,p,b,!0)};function K(p,b,P,D){M("readableAddChunk",b);let x=p._readableState,R;if(x.objectMode||(typeof b=="string"?(P=P||x.defaultEncoding,x.encoding!==P&&(D&&x.encoding?b=v.from(b,P).toString(x.encoding):(b=v.from(b,P),P=""))):b instanceof v?P="":y._isUint8Array(b)?(b=y._uint8ArrayToBuffer(b),P=""):b!=null&&(R=new V("chunk",["string","Buffer","Uint8Array"],b))),R)rt(p,R);else if(b===null)x.reading=!1,C(p,x);else if(x.objectMode||b&&b.length>0)if(D)if(x.endEmitted)rt(p,new Z);else{if(x.destroyed||x.errored)return!1;ot(p,x,b,!0)}else if(x.ended)rt(p,new Y);else{if(x.destroyed||x.errored)return!1;x.reading=!1,x.decoder&&!P?(b=x.decoder.write(b),x.objectMode||b.length!==0?ot(p,x,b,!1):et(p,x)):ot(p,x,b,!1)}else D||(x.reading=!1,et(p,x));return!x.ended&&(x.length<x.highWaterMark||x.length===0)}function ot(p,b,P,D){b.flowing&&b.length===0&&!b.sync&&p.listenerCount("data")>0?(b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,p.emit("data",P)):(b.length+=b.objectMode?1:P.length,D?b.buffer.unshift(P):b.buffer.push(P),b.needReadable&&Q(p)),et(p,b)}I.prototype.isPaused=function(){let p=this._readableState;return p[tt]===!0||p.flowing===!1},I.prototype.setEncoding=function(p){let b=new X(p);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;let P=this._readableState.buffer,D="";for(let x of P)D+=b.write(x);return P.clear(),D!==""&&P.push(D),this._readableState.length=D.length,this};var xt=1073741824;function st(p){if(p>xt)throw new A("size","<= 1GiB",p);return p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p++,p}function B(p,b){return p<=0||b.length===0&&b.ended?0:b.objectMode?1:s(p)?b.flowing&&b.length?b.buffer.first().length:b.length:p<=b.length?p:b.ended?b.length:0}I.prototype.read=function(p){M("read",p),p===void 0?p=NaN:r(p)||(p=o(p,10));let b=this._readableState,P=p;if(p>b.highWaterMark&&(b.highWaterMark=st(p)),p!==0&&(b.emittedReadable=!1),p===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return M("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?vt(this):Q(this),null;if(p=B(p,b),p===0&&b.ended)return b.length===0&&vt(this),null;let D=b.needReadable;if(M("need readable",D),(b.length===0||b.length-p<b.highWaterMark)&&(D=!0,M("length less than watermark",D)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)D=!1,M("reading, ended or constructing",D);else if(D){M("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0);try{this._read(b.highWaterMark)}catch(R){rt(this,R)}b.sync=!1,b.reading||(p=B(P,b))}let x;return p>0?x=G(p,b):x=null,x===null?(b.needReadable=b.length<=b.highWaterMark,p=0):(b.length-=p,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),P!==p&&b.ended&&vt(this)),x!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",x)),x};function C(p,b){if(M("onEofChunk"),!b.ended){if(b.decoder){let P=b.decoder.end();P&&P.length&&(b.buffer.push(P),b.length+=b.objectMode?1:P.length)}b.ended=!0,b.sync?Q(p):(b.needReadable=!1,b.emittedReadable=!0,lt(p))}}function Q(p){let b=p._readableState;M("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(M("emitReadable",b.flowing),b.emittedReadable=!0,i.nextTick(lt,p))}function lt(p){let b=p._readableState;M("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(p.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,at(p)}function et(p,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,i.nextTick(nt,p,b))}function nt(p,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){let P=b.length;if(M("maybeReadMore read 0"),p.read(0),P===b.length)break}b.readingMore=!1}I.prototype._read=function(p){throw new q("_read()")},I.prototype.pipe=function(p,b){let P=this,D=this._readableState;D.pipes.length===1&&(D.multiAwaitDrain||(D.multiAwaitDrain=!0,D.awaitDrainWriters=new u(D.awaitDrainWriters?[D.awaitDrainWriters]:[]))),D.pipes.push(p),M("pipe count=%d opts=%j",D.pipes.length,b);let x=(!b||b.end!==!1)&&p!==i.stdout&&p!==i.stderr?$:Oe;D.endEmitted?i.nextTick(x):P.once("end",x),p.on("unpipe",R);function R(ie,ae){M("onunpipe"),ie===P&&ae&&ae.hasUnpiped===!1&&(ae.hasUnpiped=!0,_t())}function $(){M("onend"),p.end()}let pt,ct=!1;function _t(){M("cleanup"),p.removeListener("close",Be),p.removeListener("finish",qt),pt&&p.removeListener("drain",pt),p.removeListener("error",pe),p.removeListener("unpipe",R),P.removeListener("end",$),P.removeListener("end",Oe),P.removeListener("data",Rt),ct=!0,pt&&D.awaitDrainWriters&&(!p._writableState||p._writableState.needDrain)&&pt()}function Mt(){ct||(D.pipes.length===1&&D.pipes[0]===p?(M("false write response, pause",0),D.awaitDrainWriters=p,D.multiAwaitDrain=!1):D.pipes.length>1&&D.pipes.includes(p)&&(M("false write response, pause",D.awaitDrainWriters.size),D.awaitDrainWriters.add(p)),P.pause()),pt||(pt=ht(P,p),p.on("drain",pt))}P.on("data",Rt);function Rt(ie){M("ondata");let ae=p.write(ie);M("dest.write",ae),ae===!1&&Mt()}function pe(ie){if(M("onerror",ie),Oe(),p.removeListener("error",pe),p.listenerCount("error")===0){let ae=p._writableState||p._readableState;ae&&!ae.errorEmitted?rt(p,ie):p.emit("error",ie)}}_(p,"error",pe);function Be(){p.removeListener("finish",qt),Oe()}p.once("close",Be);function qt(){M("onfinish"),p.removeListener("close",Be),Oe()}p.once("finish",qt);function Oe(){M("unpipe"),P.unpipe(p)}return p.emit("pipe",P),p.writableNeedDrain===!0?D.flowing&&Mt():D.flowing||(M("pipe resume"),P.resume()),p};function ht(p,b){return function(){let P=p._readableState;P.awaitDrainWriters===b?(M("pipeOnDrain",1),P.awaitDrainWriters=null):P.multiAwaitDrain&&(M("pipeOnDrain",P.awaitDrainWriters.size),P.awaitDrainWriters.delete(b)),(!P.awaitDrainWriters||P.awaitDrainWriters.size===0)&&p.listenerCount("data")&&p.resume()}}I.prototype.unpipe=function(p){let b=this._readableState,P={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!p){let x=b.pipes;b.pipes=[],this.pause();for(let R=0;R<x.length;R++)x[R].emit("unpipe",this,{hasUnpiped:!1});return this}let D=n(b.pipes,p);return D===-1?this:(b.pipes.splice(D,1),b.pipes.length===0&&this.pause(),p.emit("unpipe",this,P),this)},I.prototype.on=function(p,b){let P=y.prototype.on.call(this,p,b),D=this._readableState;return p==="data"?(D.readableListening=this.listenerCount("readable")>0,D.flowing!==!1&&this.resume()):p==="readable"&&!D.endEmitted&&!D.readableListening&&(D.readableListening=D.needReadable=!0,D.flowing=!1,D.emittedReadable=!1,M("on readable",D.length,D.reading),D.length?Q(this):D.reading||i.nextTick(L,this)),P},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(p,b){let P=y.prototype.removeListener.call(this,p,b);return p==="readable"&&i.nextTick(gt,this),P},I.prototype.off=I.prototype.removeListener,I.prototype.removeAllListeners=function(p){let b=y.prototype.removeAllListeners.apply(this,arguments);return(p==="readable"||p===void 0)&&i.nextTick(gt,this),b};function gt(p){let b=p._readableState;b.readableListening=p.listenerCount("readable")>0,b.resumeScheduled&&b[tt]===!1?b.flowing=!0:p.listenerCount("data")>0?p.resume():b.readableListening||(b.flowing=null)}function L(p){M("readable nexttick read 0"),p.read(0)}I.prototype.resume=function(){let p=this._readableState;return p.flowing||(M("resume"),p.flowing=!p.readableListening,j(this,p)),p[tt]=!1,this};function j(p,b){b.resumeScheduled||(b.resumeScheduled=!0,i.nextTick(W,p,b))}function W(p,b){M("resume",b.reading),b.reading||p.read(0),b.resumeScheduled=!1,p.emit("resume"),at(p),b.flowing&&!b.reading&&p.read(0)}I.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[tt]=!0,this};function at(p){let b=p._readableState;for(M("flow",b.flowing);b.flowing&&p.read()!==null;);}I.prototype.wrap=function(p){let b=!1;p.on("data",D=>{!this.push(D)&&p.pause&&(b=!0,p.pause())}),p.on("end",()=>{this.push(null)}),p.on("error",D=>{rt(this,D)}),p.on("close",()=>{this.destroy()}),p.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&p.resume&&(b=!1,p.resume())};let P=l(p);for(let D=1;D<P.length;D++){let x=P[D];this[x]===void 0&&typeof p[x]=="function"&&(this[x]=p[x].bind(p))}return this},I.prototype[f]=function(){return J(this)},I.prototype.iterator=function(p){return p!==void 0&&H(p,"options"),J(this,p)};function J(p,b){typeof p.read!="function"&&(p=I.wrap(p,{objectMode:!0}));let P=U(p,b);return P.stream=p,P}async function*U(p,b){let P=it;function D($){this===p?(P(),P=it):P=$}p.on("readable",D);let x,R=S(p,{writable:!1},$=>{x=$?F(x,$):null,P(),P=it});try{for(;;){let $=p.destroyed?null:p.read();if($!==null)yield $;else{if(x)throw x;if(x===null)return;await new c(D)}}}catch($){throw x=F(x,$),x}finally{(x||(b==null?void 0:b.destroyOnReturn)!==!1)&&(x===void 0||p._readableState.autoDestroy)?E.destroyer(p,null):(p.off("readable",D),R())}}a(I.prototype,{readable:{__proto__:null,get(){let p=this._readableState;return!!p&&p.readable!==!1&&!p.destroyed&&!p.errorEmitted&&!p.endEmitted},set(p){this._readableState&&(this._readableState.readable=!!p)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(p){this._readableState&&(this._readableState.destroyed=p)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(yt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[tt]!==!1},set(p){this[tt]=!!p}}}),I._fromList=G;function G(p,b){if(b.length===0)return null;let P;return b.objectMode?P=b.buffer.shift():!p||p>=b.length?(b.decoder?P=b.buffer.join(""):b.buffer.length===1?P=b.buffer.first():P=b.buffer.concat(b.length),b.buffer.clear()):P=b.buffer.consume(p,b.decoder),P}function vt(p){let b=p._readableState;M("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,i.nextTick(Et,b,p))}function Et(p,b){if(M("endReadableNT",p.endEmitted,p.length),!p.errored&&!p.closeEmitted&&!p.endEmitted&&p.length===0){if(p.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)i.nextTick(Tt,b);else if(p.autoDestroy){let P=b._writableState;(!P||P.autoDestroy&&(P.finished||P.writable===!1))&&b.destroy()}}}function Tt(p){p.writable&&!p.writableEnded&&!p.destroyed&&p.end()}I.from=function(p,b){return z(I,p,b)};var Ut;function m(){return Ut===void 0&&(Ut={}),Ut}I.fromWeb=function(p,b){return m().newStreamReadableFromReadableStream(p,b)},I.toWeb=function(p,b){return m().newReadableStreamFromStreamReadable(p,b)},I.wrap=function(p,b){var P,D;return new I({objectMode:(P=(D=p.readableObjectMode)!==null&&D!==void 0?D:p.objectMode)!==null&&P!==void 0?P:!0,...b,destroy(x,R){E.destroyer(p,x),R(x)}}).wrap(p)}}),Bg=wt((e,t)=>{ut(),dt(),ft();var i=ur(),{ArrayPrototypeSlice:n,Error:r,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:h,Symbol:c,SymbolHasInstance:u}=Re();t.exports=X,X.WritableState=H;var{EventEmitter:f}=(Rr(),ne(fr)),d=Ac().Stream,{Buffer:g}=(je(),ne(Ue)),y=Cr(),{addAbortSignal:_}=oa(),{getHighWaterMark:v,getDefaultHighWaterMark:w}=Tc(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:k,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:V,ERR_UNKNOWN_ENCODING:q}=Xe().codes,{errorOrDestroy:A}=y;l(X.prototype,d.prototype),l(X,d);function Y(){}var Z=c("kOnFinished");function H(L,j,W){typeof W!="boolean"&&(W=j instanceof nn()),this.objectMode=!!(L&&L.objectMode),W&&(this.objectMode=this.objectMode||!!(L&&L.writableObjectMode)),this.highWaterMark=L?v(this,L,"writableHighWaterMark",W):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let at=!!(L&&L.decodeStrings===!1);this.decodeStrings=!at,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=I.bind(void 0,j),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,tt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Z]=[]}function tt(L){L.buffered=[],L.bufferedIndex=0,L.allBuffers=!0,L.allNoop=!0}H.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},o(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function X(L){let j=this instanceof nn();if(!j&&!s(X,this))return new X(L);this._writableState=new H(L,this,j),L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&_(L.signal,this)),d.call(this,L),y.construct(this,()=>{let W=this._writableState;W.writing||st(this,W),lt(this,W)})}o(X,u,{__proto__:null,value:function(L){return s(this,L)?!0:this!==X?!1:L&&L._writableState instanceof H}}),X.prototype.pipe=function(){A(this,new E)};function z(L,j,W,at){let J=L._writableState;if(typeof W=="function")at=W,W=J.defaultEncoding;else{if(!W)W=J.defaultEncoding;else if(W!=="buffer"&&!g.isEncoding(W))throw new q(W);typeof at!="function"&&(at=Y)}if(j===null)throw new F;if(!J.objectMode)if(typeof j=="string")J.decodeStrings!==!1&&(j=g.from(j,W),W="buffer");else if(j instanceof g)W="buffer";else if(d._isUint8Array(j))j=d._uint8ArrayToBuffer(j),W="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],j);let U;return J.ending?U=new V:J.destroyed&&(U=new k("write")),U?(i.nextTick(at,U),A(L,U,!0),U):(J.pendingcb++,it(L,J,j,W,at))}X.prototype.write=function(L,j,W){return z(this,L,j,W)===!0},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){let L=this._writableState;L.corked&&(L.corked--,L.writing||st(this,L))},X.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=h(L)),!g.isEncoding(L))throw new q(L);return this._writableState.defaultEncoding=L,this};function it(L,j,W,at,J){let U=j.objectMode?1:W.length;j.length+=U;let G=j.length<j.highWaterMark;return G||(j.needDrain=!0),j.writing||j.corked||j.errored||!j.constructed?(j.buffered.push({chunk:W,encoding:at,callback:J}),j.allBuffers&&at!=="buffer"&&(j.allBuffers=!1),j.allNoop&&J!==Y&&(j.allNoop=!1)):(j.writelen=U,j.writecb=J,j.writing=!0,j.sync=!0,L._write(W,at,j.onwrite),j.sync=!1),G&&!j.errored&&!j.destroyed}function rt(L,j,W,at,J,U,G){j.writelen=at,j.writecb=G,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new k("write")):W?L._writev(J,j.onwrite):L._write(J,U,j.onwrite),j.sync=!1}function yt(L,j,W,at){--j.pendingcb,at(W),xt(j),A(L,W)}function I(L,j){let W=L._writableState,at=W.sync,J=W.writecb;if(typeof J!="function"){A(L,new T);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,j?(j.stack,W.errored||(W.errored=j),L._readableState&&!L._readableState.errored&&(L._readableState.errored=j),at?i.nextTick(yt,L,W,j,J):yt(L,W,j,J)):(W.buffered.length>W.bufferedIndex&&st(L,W),at?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===J?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:J,stream:L,state:W},i.nextTick(K,W.afterWriteTickInfo)):ot(L,W,1,J))}function K({stream:L,state:j,count:W,cb:at}){return j.afterWriteTickInfo=null,ot(L,j,W,at)}function ot(L,j,W,at){for(!j.ending&&!L.destroyed&&j.length===0&&j.needDrain&&(j.needDrain=!1,L.emit("drain"));W-- >0;)j.pendingcb--,at();j.destroyed&&xt(j),lt(L,j)}function xt(L){if(L.writing)return;for(let J=L.bufferedIndex;J<L.buffered.length;++J){var j;let{chunk:U,callback:G}=L.buffered[J],vt=L.objectMode?1:U.length;L.length-=vt,G((j=L.errored)!==null&&j!==void 0?j:new k("write"))}let W=L[Z].splice(0);for(let J=0;J<W.length;J++){var at;W[J]((at=L.errored)!==null&&at!==void 0?at:new k("end"))}tt(L)}function st(L,j){if(j.corked||j.bufferProcessing||j.destroyed||!j.constructed)return;let{buffered:W,bufferedIndex:at,objectMode:J}=j,U=W.length-at;if(!U)return;let G=at;if(j.bufferProcessing=!0,U>1&&L._writev){j.pendingcb-=U-1;let vt=j.allNoop?Y:Tt=>{for(let Ut=G;Ut<W.length;++Ut)W[Ut].callback(Tt)},Et=j.allNoop&&G===0?W:n(W,G);Et.allBuffers=j.allBuffers,rt(L,j,!0,j.length,Et,"",vt),tt(j)}else{do{let{chunk:vt,encoding:Et,callback:Tt}=W[G];W[G++]=null;let Ut=J?1:vt.length;rt(L,j,!1,Ut,vt,Et,Tt)}while(G<W.length&&!j.writing);G===W.length?tt(j):G>256?(W.splice(0,G),j.bufferedIndex=0):j.bufferedIndex=G}j.bufferProcessing=!1}X.prototype._write=function(L,j,W){if(this._writev)this._writev([{chunk:L,encoding:j}],W);else throw new M("_write()")},X.prototype._writev=null,X.prototype.end=function(L,j,W){let at=this._writableState;typeof L=="function"?(W=L,L=null,j=null):typeof j=="function"&&(W=j,j=null);let J;if(L!=null){let U=z(this,L,j);U instanceof r&&(J=U)}return at.corked&&(at.corked=1,this.uncork()),J||(!at.errored&&!at.ending?(at.ending=!0,lt(this,at,!0),at.ended=!0):at.finished?J=new O("end"):at.destroyed&&(J=new k("end"))),typeof W=="function"&&(J||at.finished?i.nextTick(W,J):at[Z].push(W)),this};function B(L){return L.ending&&!L.destroyed&&L.constructed&&L.length===0&&!L.errored&&L.buffered.length===0&&!L.finished&&!L.writing&&!L.errorEmitted&&!L.closeEmitted}function C(L,j){let W=!1;function at(J){if(W){A(L,J??T());return}if(W=!0,j.pendingcb--,J){let U=j[Z].splice(0);for(let G=0;G<U.length;G++)U[G](J);A(L,J,j.sync)}else B(j)&&(j.prefinished=!0,L.emit("prefinish"),j.pendingcb++,i.nextTick(et,L,j))}j.sync=!0,j.pendingcb++;try{L._final(at)}catch(J){at(J)}j.sync=!1}function Q(L,j){!j.prefinished&&!j.finalCalled&&(typeof L._final=="function"&&!j.destroyed?(j.finalCalled=!0,C(L,j)):(j.prefinished=!0,L.emit("prefinish")))}function lt(L,j,W){B(j)&&(Q(L,j),j.pendingcb===0&&(W?(j.pendingcb++,i.nextTick((at,J)=>{B(J)?et(at,J):J.pendingcb--},L,j)):B(j)&&(j.pendingcb++,et(L,j))))}function et(L,j){j.pendingcb--,j.finished=!0;let W=j[Z].splice(0);for(let at=0;at<W.length;at++)W[at]();if(L.emit("finish"),j.autoDestroy){let at=L._readableState;(!at||at.autoDestroy&&(at.endEmitted||at.readable===!1))&&L.destroy()}}a(X.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(L){this._writableState&&(this._writableState.destroyed=L)}},writable:{__proto__:null,get(){let L=this._writableState;return!!L&&L.writable!==!1&&!L.destroyed&&!L.errored&&!L.ending&&!L.ended},set(L){this._writableState&&(this._writableState.writable=!!L)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let L=this._writableState;return L?!L.destroyed&&!L.ending&&L.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var nt=y.destroy;X.prototype.destroy=function(L,j){let W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[Z].length)&&i.nextTick(xt,W),nt.call(this,L,j),this},X.prototype._undestroy=y.undestroy,X.prototype._destroy=function(L,j){j(L)},X.prototype[f.captureRejectionSymbol]=function(L){this.destroy(L)};var ht;function gt(){return ht===void 0&&(ht={}),ht}X.fromWeb=function(L,j){return gt().newStreamWritableFromWritableStream(L,j)},X.toWeb=function(L){return gt().newWritableStreamFromStreamWritable(L)}}),Gk=wt((e,t)=>{ut(),dt(),ft();var i=ur(),n=(je(),ne(Ue)),{isReadable:r,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:h,isDuplexNodeStream:c}=an(),u=Cn(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:g}}=Xe(),{destroyer:y}=Cr(),_=nn(),v=la(),{createDeferredPromise:w}=en(),S=Lg(),M=globalThis.Blob||n.Blob,T=typeof M<"u"?function(q){return q instanceof M}:function(q){return!1},E=globalThis.AbortController||Mc().AbortController,{FunctionPrototypeCall:k}=Re(),O=class extends _{constructor(q){super(q),(q==null?void 0:q.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(q==null?void 0:q.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function q(A,Y){if(c(A))return A;if(l(A))return V({readable:A});if(h(A))return V({writable:A});if(a(A))return V({writable:!1,readable:!1});if(typeof A=="function"){let{value:H,write:tt,final:X,destroy:z}=F(A);if(o(H))return S(O,H,{objectMode:!0,write:tt,final:X,destroy:z});let it=H==null?void 0:H.then;if(typeof it=="function"){let rt,yt=k(it,H,I=>{if(I!=null)throw new g("nully","body",I)},I=>{y(rt,I)});return rt=new O({objectMode:!0,readable:!1,write:tt,final(I){X(async()=>{try{await yt,i.nextTick(I,null)}catch(K){i.nextTick(I,K)}})},destroy:z})}throw new g("Iterable, AsyncIterable or AsyncFunction",Y,H)}if(T(A))return q(A.arrayBuffer());if(o(A))return S(O,A,{objectMode:!0,writable:!1});if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){let H=A!=null&&A.readable?l(A==null?void 0:A.readable)?A==null?void 0:A.readable:q(A.readable):void 0,tt=A!=null&&A.writable?h(A==null?void 0:A.writable)?A==null?void 0:A.writable:q(A.writable):void 0;return V({readable:H,writable:tt})}let Z=A==null?void 0:A.then;if(typeof Z=="function"){let H;return k(Z,A,tt=>{tt!=null&&H.push(tt),H.push(null)},tt=>{y(H,tt)}),H=new O({objectMode:!0,writable:!1,read(){}})}throw new d(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function F(q){let{promise:A,resolve:Y}=w(),Z=new E,H=Z.signal;return{value:q(async function*(){for(;;){let tt=A;A=null;let{chunk:X,done:z,cb:it}=await tt;if(i.nextTick(it),z)return;if(H.aborted)throw new f(void 0,{cause:H.reason});({promise:A,resolve:Y}=w()),yield X}}(),{signal:H}),write(tt,X,z){let it=Y;Y=null,it({chunk:tt,done:!1,cb:z})},final(tt){let X=Y;Y=null,X({done:!0,cb:tt})},destroy(tt,X){Z.abort(),X(tt)}}}function V(q){let A=q.readable&&typeof q.readable.read!="function"?v.wrap(q.readable):q.readable,Y=q.writable,Z=!!r(A),H=!!s(Y),tt,X,z,it,rt;function yt(I){let K=it;it=null,K?K(I):I&&rt.destroy(I)}return rt=new O({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readable:Z,writable:H}),H&&(u(Y,I=>{H=!1,I&&y(A,I),yt(I)}),rt._write=function(I,K,ot){Y.write(I,K)?ot():tt=ot},rt._final=function(I){Y.end(),X=I},Y.on("drain",function(){if(tt){let I=tt;tt=null,I()}}),Y.on("finish",function(){if(X){let I=X;X=null,I()}})),Z&&(u(A,I=>{Z=!1,I&&y(A,I),yt(I)}),A.on("readable",function(){if(z){let I=z;z=null,I()}}),A.on("end",function(){rt.push(null)}),rt._read=function(){for(;;){let I=A.read();if(I===null){z=rt._read;return}if(!rt.push(I))return}}),rt._destroy=function(I,K){!I&&it!==null&&(I=new f),z=null,tt=null,X=null,it===null?K(I):(it=K,y(Y,I),y(A,I))},rt}}),nn=wt((e,t)=>{ut(),dt(),ft();var{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:r,ObjectSetPrototypeOf:s}=Re();t.exports=l;var o=la(),a=Bg();s(l.prototype,o.prototype),s(l,o);{let f=r(a.prototype);for(let d=0;d<f.length;d++){let g=f[d];l.prototype[g]||(l.prototype[g]=a.prototype[g])}}function l(f){if(!(this instanceof l))return new l(f);o.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}i(l.prototype,{writable:{__proto__:null,...n(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(a.prototype,"writableLength")},writableFinished:{__proto__:null,...n(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});var h;function c(){return h===void 0&&(h={}),h}l.fromWeb=function(f,d){return c().newStreamDuplexFromReadableWritablePair(f,d)},l.toWeb=function(f){return c().newReadableWritablePairFromDuplex(f)};var u;l.from=function(f){return u||(u=Gk()),u(f,"body")}}),Ng=wt((e,t)=>{ut(),dt(),ft();var{ObjectSetPrototypeOf:i,Symbol:n}=Re();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:r}=Xe().codes,s=nn(),{getHighWaterMark:o}=Tc();i(l.prototype,s.prototype),i(l,s);var a=n("kCallback");function l(u){if(!(this instanceof l))return new l(u);let f=u?o(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),s.call(this,u),this._readableState.sync=!1,this[a]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",c)}function h(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,d)=>{if(f){u?u(f):this.destroy(f);return}d!=null&&this.push(d),this.push(null),u&&u()}):(this.push(null),u&&u())}function c(){this._final!==h&&h.call(this)}l.prototype._final=h,l.prototype._transform=function(u,f,d){throw new r("_transform()")},l.prototype._write=function(u,f,d){let g=this._readableState,y=this._writableState,_=g.length;this._transform(u,f,(v,w)=>{if(v){d(v);return}w!=null&&this.push(w),y.ended||_===g.length||g.length<g.highWaterMark?d():this[a]=d})},l.prototype._read=function(){if(this[a]){let u=this[a];this[a]=null,u()}}}),Fg=wt((e,t)=>{ut(),dt(),ft();var{ObjectSetPrototypeOf:i}=Re();t.exports=r;var n=Ng();i(r.prototype,n.prototype),i(r,n);function r(s){if(!(this instanceof r))return new r(s);n.call(this,s)}r.prototype._transform=function(s,o,a){a(null,s)}}),Ic=wt((e,t)=>{ut(),dt(),ft();var i=ur(),{ArrayIsArray:n,Promise:r,SymbolAsyncIterator:s}=Re(),o=Cn(),{once:a}=en(),l=Cr(),h=nn(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:_}=Xe(),{validateFunction:v,validateAbortSignal:w}=sa(),{isIterable:S,isReadable:M,isReadableNodeStream:T,isNodeStream:E,isTransformStream:k,isWebStream:O,isReadableStream:F,isReadableEnded:V}=an(),q=globalThis.AbortController||Mc().AbortController,A,Y;function Z(K,ot,xt){let st=!1;K.on("close",()=>{st=!0});let B=o(K,{readable:ot,writable:xt},C=>{st=!C});return{destroy:C=>{st||(st=!0,l.destroyer(K,C||new g("pipe")))},cleanup:B}}function H(K){return v(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function tt(K){if(S(K))return K;if(T(K))return X(K);throw new u("val",["Readable","Iterable","AsyncIterable"],K)}async function*X(K){Y||(Y=la()),yield*Y.prototype[s].call(K)}async function z(K,ot,xt,{end:st}){let B,C=null,Q=nt=>{if(nt&&(B=nt),C){let ht=C;C=null,ht()}},lt=()=>new r((nt,ht)=>{B?ht(B):C=()=>{B?ht(B):nt()}});ot.on("drain",Q);let et=o(ot,{readable:!1},Q);try{ot.writableNeedDrain&&await lt();for await(let nt of K)ot.write(nt)||await lt();st&&ot.end(),await lt(),xt()}catch(nt){xt(B!==nt?c(B,nt):nt)}finally{et(),ot.off("drain",Q)}}async function it(K,ot,xt,{end:st}){k(ot)&&(ot=ot.writable);let B=ot.getWriter();try{for await(let C of K)await B.ready,B.write(C).catch(()=>{});await B.ready,st&&await B.close(),xt()}catch(C){try{await B.abort(C),xt(C)}catch(Q){xt(Q)}}}function rt(...K){return yt(K,a(H(K)))}function yt(K,ot,xt){if(K.length===1&&n(K[0])&&(K=K[0]),K.length<2)throw new d("streams");let st=new q,B=st.signal,C=xt==null?void 0:xt.signal,Q=[];w(C,"options.signal");function lt(){j(new _)}C==null||C.addEventListener("abort",lt);let et,nt,ht=[],gt=0;function L(U){j(U,--gt===0)}function j(U,G){if(U&&(!et||et.code==="ERR_STREAM_PREMATURE_CLOSE")&&(et=U),!(!et&&!G)){for(;ht.length;)ht.shift()(et);C==null||C.removeEventListener("abort",lt),st.abort(),G&&(et||Q.forEach(vt=>vt()),i.nextTick(ot,et,nt))}}let W;for(let U=0;U<K.length;U++){let G=K[U],vt=U<K.length-1,Et=U>0,Tt=vt||(xt==null?void 0:xt.end)!==!1,Ut=U===K.length-1;if(E(G)){let m=function(p){p&&p.name!=="AbortError"&&p.code!=="ERR_STREAM_PREMATURE_CLOSE"&&L(p)};if(Tt){let{destroy:p,cleanup:b}=Z(G,vt,Et);ht.push(p),M(G)&&Ut&&Q.push(b)}G.on("error",m),M(G)&&Ut&&Q.push(()=>{G.removeListener("error",m)})}if(U===0)if(typeof G=="function"){if(W=G({signal:B}),!S(W))throw new f("Iterable, AsyncIterable or Stream","source",W)}else S(G)||T(G)||k(G)?W=G:W=h.from(G);else if(typeof G=="function"){if(k(W)){var at;W=tt((at=W)===null||at===void 0?void 0:at.readable)}else W=tt(W);if(W=G(W,{signal:B}),vt){if(!S(W,!0))throw new f("AsyncIterable",`transform[${U-1}]`,W)}else{var J;A||(A=Fg());let m=new A({objectMode:!0}),p=(J=W)===null||J===void 0?void 0:J.then;if(typeof p=="function")gt++,p.call(W,D=>{nt=D,D!=null&&m.write(D),Tt&&m.end(),i.nextTick(L)},D=>{m.destroy(D),i.nextTick(L,D)});else if(S(W,!0))gt++,z(W,m,L,{end:Tt});else if(F(W)||k(W)){let D=W.readable||W;gt++,z(D,m,L,{end:Tt})}else throw new f("AsyncIterable or Promise","destination",W);W=m;let{destroy:b,cleanup:P}=Z(W,!1,!0);ht.push(b),Ut&&Q.push(P)}}else if(E(G)){if(T(W)){gt+=2;let m=I(W,G,L,{end:Tt});M(G)&&Ut&&Q.push(m)}else if(k(W)||F(W)){let m=W.readable||W;gt++,z(m,G,L,{end:Tt})}else if(S(W))gt++,z(W,G,L,{end:Tt});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=G}else if(O(G)){if(T(W))gt++,it(tt(W),G,L,{end:Tt});else if(F(W)||S(W))gt++,it(W,G,L,{end:Tt});else if(k(W))gt++,it(W.readable,G,L,{end:Tt});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=G}else W=h.from(G)}return(B!=null&&B.aborted||C!=null&&C.aborted)&&i.nextTick(lt),W}function I(K,ot,xt,{end:st}){let B=!1;if(ot.on("close",()=>{B||xt(new y)}),K.pipe(ot,{end:!1}),st){let C=function(){B=!0,ot.end()};V(K)?i.nextTick(C):K.once("end",C)}else xt();return o(K,{readable:!0,writable:!1},C=>{let Q=K._readableState;C&&C.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?K.once("end",xt).once("error",xt):xt(C)}),o(ot,{readable:!1,writable:!0},xt)}t.exports={pipelineImpl:yt,pipeline:rt}}),Ug=wt((e,t)=>{ut(),dt(),ft();var{pipeline:i}=Ic(),n=nn(),{destroyer:r}=Cr(),{isNodeStream:s,isReadable:o,isWritable:a,isWebStream:l,isTransformStream:h,isWritableStream:c,isReadableStream:u}=an(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:g}}=Xe(),y=Cn();t.exports=function(..._){if(_.length===0)throw new g("streams");if(_.length===1)return n.from(_[0]);let v=[..._];if(typeof _[0]=="function"&&(_[0]=n.from(_[0])),typeof _[_.length-1]=="function"){let A=_.length-1;_[A]=n.from(_[A])}for(let A=0;A<_.length;++A)if(!(!s(_[A])&&!l(_[A]))){if(A<_.length-1&&!(o(_[A])||u(_[A])||h(_[A])))throw new d(`streams[${A}]`,v[A],"must be readable");if(A>0&&!(a(_[A])||c(_[A])||h(_[A])))throw new d(`streams[${A}]`,v[A],"must be writable")}let w,S,M,T,E;function k(A){let Y=T;T=null,Y?Y(A):A?E.destroy(A):!q&&!V&&E.destroy()}let O=_[0],F=i(_,k),V=!!(a(O)||c(O)||h(O)),q=!!(o(F)||u(F)||h(F));if(E=new n({writableObjectMode:!!(O!=null&&O.writableObjectMode),readableObjectMode:!!(F!=null&&F.writableObjectMode),writable:V,readable:q}),V){if(s(O))E._write=function(Y,Z,H){O.write(Y,Z)?H():w=H},E._final=function(Y){O.end(),S=Y},O.on("drain",function(){if(w){let Y=w;w=null,Y()}});else if(l(O)){let Y=(h(O)?O.writable:O).getWriter();E._write=async function(Z,H,tt){try{await Y.ready,Y.write(Z).catch(()=>{}),tt()}catch(X){tt(X)}},E._final=async function(Z){try{await Y.ready,Y.close().catch(()=>{}),S=Z}catch(H){Z(H)}}}let A=h(F)?F.readable:F;y(A,()=>{if(S){let Y=S;S=null,Y()}})}if(q){if(s(F))F.on("readable",function(){if(M){let A=M;M=null,A()}}),F.on("end",function(){E.push(null)}),E._read=function(){for(;;){let A=F.read();if(A===null){M=E._read;return}if(!E.push(A))return}};else if(l(F)){let A=(h(F)?F.readable:F).getReader();E._read=async function(){for(;;)try{let{value:Y,done:Z}=await A.read();if(!E.push(Y))return;if(Z){E.push(null);return}}catch{return}}}}return E._destroy=function(A,Y){!A&&T!==null&&(A=new f),M=null,w=null,S=null,T===null?Y(A):(T=Y,s(F)&&r(F,A))},E}}),Kk=wt((e,t)=>{ut(),dt(),ft();var i=globalThis.AbortController||Mc().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:a}=Xe(),{validateAbortSignal:l,validateInteger:h,validateObject:c}=sa(),u=Re().Symbol("kWeak"),{finished:f}=Cn(),d=Ug(),{addAbortSignalNoValidate:g}=oa(),{isWritable:y,isNodeStream:_}=an(),{ArrayPrototypePush:v,MathFloor:w,Number:S,NumberIsNaN:M,Promise:T,PromiseReject:E,PromisePrototypeThen:k,Symbol:O}=Re(),F=O("kEmpty"),V=O("kEof");function q(st,B){if(B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&l(B.signal,"options.signal"),_(st)&&!y(st))throw new n("stream",st,"must be writable");let C=d(this,st);return B!=null&&B.signal&&g(B.signal,C),C}function A(st,B){if(typeof st!="function")throw new r("fn",["Function","AsyncFunction"],st);B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&l(B.signal,"options.signal");let C=1;return(B==null?void 0:B.concurrency)!=null&&(C=w(B.concurrency)),h(C,"concurrency",1),(async function*(){var Q,lt;let et=new i,nt=this,ht=[],gt=et.signal,L={signal:gt},j=()=>et.abort();B!=null&&(Q=B.signal)!==null&&Q!==void 0&&Q.aborted&&j(),B==null||(lt=B.signal)===null||lt===void 0||lt.addEventListener("abort",j);let W,at,J=!1;function U(){J=!0}async function G(){try{for await(let Tt of nt){var vt;if(J)return;if(gt.aborted)throw new a;try{Tt=st(Tt,L)}catch(Ut){Tt=E(Ut)}Tt!==F&&(typeof((vt=Tt)===null||vt===void 0?void 0:vt.catch)=="function"&&Tt.catch(U),ht.push(Tt),W&&(W(),W=null),!J&&ht.length&&ht.length>=C&&await new T(Ut=>{at=Ut}))}ht.push(V)}catch(Tt){let Ut=E(Tt);k(Ut,void 0,U),ht.push(Ut)}finally{var Et;J=!0,W&&(W(),W=null),B==null||(Et=B.signal)===null||Et===void 0||Et.removeEventListener("abort",j)}}G();try{for(;;){for(;ht.length>0;){let vt=await ht[0];if(vt===V)return;if(gt.aborted)throw new a;vt!==F&&(yield vt),ht.shift(),at&&(at(),at=null)}await new T(vt=>{W=vt})}}finally{et.abort(),J=!0,at&&(at(),at=null)}}).call(this)}function Y(st=void 0){return st!=null&&c(st,"options"),(st==null?void 0:st.signal)!=null&&l(st.signal,"options.signal"),(async function*(){let B=0;for await(let Q of this){var C;if(st!=null&&(C=st.signal)!==null&&C!==void 0&&C.aborted)throw new a({cause:st.signal.reason});yield[B++,Q]}}).call(this)}async function Z(st,B=void 0){for await(let C of z.call(this,st,B))return!0;return!1}async function H(st,B=void 0){if(typeof st!="function")throw new r("fn",["Function","AsyncFunction"],st);return!await Z.call(this,async(...C)=>!await st(...C),B)}async function tt(st,B){for await(let C of z.call(this,st,B))return C}async function X(st,B){if(typeof st!="function")throw new r("fn",["Function","AsyncFunction"],st);async function C(Q,lt){return await st(Q,lt),F}for await(let Q of A.call(this,C,B));}function z(st,B){if(typeof st!="function")throw new r("fn",["Function","AsyncFunction"],st);async function C(Q,lt){return await st(Q,lt)?Q:F}return A.call(this,C,B)}var it=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function rt(st,B,C){var Q;if(typeof st!="function")throw new r("reducer",["Function","AsyncFunction"],st);C!=null&&c(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal");let lt=arguments.length>1;if(C!=null&&(Q=C.signal)!==null&&Q!==void 0&&Q.aborted){let L=new a(void 0,{cause:C.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(L)),L}let et=new i,nt=et.signal;if(C!=null&&C.signal){let L={once:!0,[u]:this};C.signal.addEventListener("abort",()=>et.abort(),L)}let ht=!1;try{for await(let L of this){var gt;if(ht=!0,C!=null&&(gt=C.signal)!==null&&gt!==void 0&&gt.aborted)throw new a;lt?B=await st(B,L,{signal:nt}):(B=L,lt=!0)}if(!ht&&!lt)throw new it}finally{et.abort()}return B}async function yt(st){st!=null&&c(st,"options"),(st==null?void 0:st.signal)!=null&&l(st.signal,"options.signal");let B=[];for await(let Q of this){var C;if(st!=null&&(C=st.signal)!==null&&C!==void 0&&C.aborted)throw new a(void 0,{cause:st.signal.reason});v(B,Q)}return B}function I(st,B){let C=A.call(this,st,B);return(async function*(){for await(let Q of C)yield*Q}).call(this)}function K(st){if(st=S(st),M(st))return 0;if(st<0)throw new o("number",">= 0",st);return st}function ot(st,B=void 0){return B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&l(B.signal,"options.signal"),st=K(st),(async function*(){var C;if(B!=null&&(C=B.signal)!==null&&C!==void 0&&C.aborted)throw new a;for await(let lt of this){var Q;if(B!=null&&(Q=B.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;st--<=0&&(yield lt)}}).call(this)}function xt(st,B=void 0){return B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&l(B.signal,"options.signal"),st=K(st),(async function*(){var C;if(B!=null&&(C=B.signal)!==null&&C!==void 0&&C.aborted)throw new a;for await(let lt of this){var Q;if(B!=null&&(Q=B.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;if(st-- >0)yield lt;else return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:Y,drop:ot,filter:z,flatMap:I,map:A,take:xt,compose:q},t.exports.promiseReturningOperators={every:H,forEach:X,reduce:rt,toArray:yt,some:Z,find:tt}}),jg=wt((e,t)=>{ut(),dt(),ft();var{ArrayPrototypePop:i,Promise:n}=Re(),{isIterable:r,isNodeStream:s,isWebStream:o}=an(),{pipelineImpl:a}=Ic(),{finished:l}=Cn();Wg();function h(...c){return new n((u,f)=>{let d,g,y=c[c.length-1];if(y&&typeof y=="object"&&!s(y)&&!r(y)&&!o(y)){let _=i(c);d=_.signal,g=_.end}a(c,(_,v)=>{_?f(_):u(v)},{signal:d,end:g})})}t.exports={finished:l,pipeline:h}}),Wg=wt((e,t)=>{ut(),dt(),ft();var{Buffer:i}=(je(),ne(Ue)),{ObjectDefineProperty:n,ObjectKeys:r,ReflectApply:s}=Re(),{promisify:{custom:o}}=en(),{streamReturningOperators:a,promiseReturningOperators:l}=Kk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=Xe(),c=Ug(),{pipeline:u}=Ic(),{destroyer:f}=Cr(),d=Cn(),g=jg(),y=an(),_=t.exports=Ac().Stream;_.isDisturbed=y.isDisturbed,_.isErrored=y.isErrored,_.isReadable=y.isReadable,_.Readable=la();for(let w of r(a)){let S=function(...T){if(new.target)throw h();return _.Readable.from(s(M,this,T))},M=a[w];n(S,"name",{__proto__:null,value:M.name}),n(S,"length",{__proto__:null,value:M.length}),n(_.Readable.prototype,w,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(let w of r(l)){let S=function(...T){if(new.target)throw h();return s(M,this,T)},M=l[w];n(S,"name",{__proto__:null,value:M.name}),n(S,"length",{__proto__:null,value:M.length}),n(_.Readable.prototype,w,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}_.Writable=Bg(),_.Duplex=nn(),_.Transform=Ng(),_.PassThrough=Fg(),_.pipeline=u;var{addAbortSignal:v}=oa();_.addAbortSignal=v,_.finished=d,_.destroy=f,_.compose=c,n(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),n(u,o,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),n(d,o,{__proto__:null,enumerable:!0,get(){return g.finished}}),_.Stream=_,_._isUint8Array=function(w){return w instanceof Uint8Array},_._uint8ArrayToBuffer=function(w){return i.from(w.buffer,w.byteOffset,w.byteLength)}}),dr=wt((e,t)=>{ut(),dt(),ft();var i=Wg(),n=jg(),r=i.Readable.destroy;t.exports=i.Readable,t.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,t.exports._isUint8Array=i._isUint8Array,t.exports.isDisturbed=i.isDisturbed,t.exports.isErrored=i.isErrored,t.exports.isReadable=i.isReadable,t.exports.Readable=i.Readable,t.exports.Writable=i.Writable,t.exports.Duplex=i.Duplex,t.exports.Transform=i.Transform,t.exports.PassThrough=i.PassThrough,t.exports.addAbortSignal=i.addAbortSignal,t.exports.finished=i.finished,t.exports.destroy=i.destroy,t.exports.destroy=r,t.exports.pipeline=i.pipeline,t.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=i.Stream,t.exports.default=t.exports}),Qk=wt((e,t)=>{ut(),dt(),ft(),typeof Object.create=="function"?t.exports=function(i,n){n&&(i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(i,n){if(n){i.super_=n;var r=function(){};r.prototype=n.prototype,i.prototype=new r,i.prototype.constructor=i}}}),Xk=wt((e,t)=>{ut(),dt(),ft();var{Buffer:i}=(je(),ne(Ue)),n=Symbol.for("BufferList");function r(s){if(!(this instanceof r))return new r(s);r._init.call(this,s)}r._init=function(s){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},r.prototype._new=function(s){return new r(s)},r.prototype._offset=function(s){if(s===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){let l=o+this._bufs[a].length;if(s<l||a===this._bufs.length-1)return[a,s-o];o=l}},r.prototype._reverseOffset=function(s){let o=s[0],a=s[1];for(let l=0;l<o;l++)a+=this._bufs[l].length;return a},r.prototype.get=function(s){if(s>this.length||s<0)return;let o=this._offset(s);return this._bufs[o[0]][o[1]]},r.prototype.slice=function(s,o){return typeof s=="number"&&s<0&&(s+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,s,o)},r.prototype.copy=function(s,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return s||i.alloc(0);let h=!!s,c=this._offset(a),u=l-a,f=u,d=h&&o||0,g=c[1];if(a===0&&l===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:i.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(s,d),d+=this._bufs[y].length;return s}if(f<=this._bufs[c[0]].length-g)return h?this._bufs[c[0]].copy(s,o,g,g+f):this._bufs[c[0]].slice(g,g+f);h||(s=i.allocUnsafe(u));for(let y=c[0];y<this._bufs.length;y++){let _=this._bufs[y].length-g;if(f>_)this._bufs[y].copy(s,d,g),d+=_;else{this._bufs[y].copy(s,d,g,g+f),d+=_;break}f-=_,g&&(g=0)}return s.length>d?s.slice(0,d):s},r.prototype.shallowSlice=function(s,o){if(s=s||0,o=typeof o!="number"?this.length:o,s<0&&(s+=this.length),o<0&&(o+=this.length),s===o)return this._new();let a=this._offset(s),l=this._offset(o),h=this._bufs.slice(a[0],l[0]+1);return l[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,l[1]),a[1]!==0&&(h[0]=h[0].slice(a[1])),this._new(h)},r.prototype.toString=function(s,o,a){return this.slice(o,a).toString(s)},r.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},r.prototype.duplicate=function(){let s=this._new();for(let o=0;o<this._bufs.length;o++)s.append(this._bufs[o]);return s},r.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(i.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let o=0;o<s.length;o++)this.append(s[o]);else if(this._isBufferList(s))for(let o=0;o<s._bufs.length;o++)this.append(s._bufs[o]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(i.from(s));return this},r.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},r.prototype.indexOf=function(s,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=i.from([s]):typeof s=="string"?s=i.from(s,a):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=i.from(s.buffer,s.byteOffset,s.byteLength):i.isBuffer(s)||(s=i.from(s)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),s.length===0)return o>this.length?this.length:o;let l=this._offset(o),h=l[0],c=l[1];for(;h<this._bufs.length;h++){let u=this._bufs[h];for(;c<u.length;)if(u.length-c>=s.length){let f=u.indexOf(s,c);if(f!==-1)return this._reverseOffset([h,f]);c=u.length-s.length+1}else{let f=this._reverseOffset([h,c]);if(this._match(f,s))return f;c++}c=0}return-1},r.prototype._match=function(s,o){if(this.length-s<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get(s+a)!==o[a])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let o in s)(function(a){s[a]===null?r.prototype[a]=function(l,h){return this.slice(l,l+h)[a](0,h)}:r.prototype[a]=function(l=0){return this.slice(l,l+s[a])[a](0)}})(o)}(),r.prototype._isBufferList=function(s){return s instanceof r||r.isBufferList(s)},r.isBufferList=function(s){return s!=null&&s[n]},t.exports=r}),Zk=wt((e,t)=>{ut(),dt(),ft();var i=dr().Duplex,n=Qk(),r=Xk();function s(o){if(!(this instanceof s))return new s(o);if(typeof o=="function"){this._callback=o;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),o=null}r._init.call(this,o),i.call(this)}n(s,i),Object.assign(s.prototype,r.prototype),s.prototype._new=function(o){return new s(o)},s.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},s.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},s.prototype.end=function(o){i.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},s.prototype._isBufferList=function(o){return o instanceof s||o instanceof r||s.isBufferList(o)},s.isBufferList=r.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=r}),Jk=wt((e,t)=>{ut(),dt(),ft();var i=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=i}),Yg=wt((e,t)=>{ut(),dt(),ft();var i=t.exports,{Buffer:n}=(je(),ne(Ue));i.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},i.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},i.requiredHeaderFlagsErrors={};for(let s in i.requiredHeaderFlags){let o=i.requiredHeaderFlags[s];i.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+i.types[s]+" packet"}i.codes={};for(let s in i.types){let o=i.types[s];i.codes[o]=s}i.CMD_SHIFT=4,i.CMD_MASK=240,i.DUP_MASK=8,i.QOS_MASK=3,i.QOS_SHIFT=1,i.RETAIN_MASK=1,i.VARBYTEINT_MASK=127,i.VARBYTEINT_FIN_MASK=128,i.VARBYTEINT_MAX=268435455,i.SESSIONPRESENT_MASK=1,i.SESSIONPRESENT_HEADER=n.from([i.SESSIONPRESENT_MASK]),i.CONNACK_HEADER=n.from([i.codes.connack<<i.CMD_SHIFT]),i.USERNAME_MASK=128,i.PASSWORD_MASK=64,i.WILL_RETAIN_MASK=32,i.WILL_QOS_MASK=24,i.WILL_QOS_SHIFT=3,i.WILL_FLAG_MASK=4,i.CLEAN_SESSION_MASK=2,i.CONNECT_HEADER=n.from([i.codes.connect<<i.CMD_SHIFT]),i.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},i.propertiesCodes={};for(let s in i.properties){let o=i.properties[s];i.propertiesCodes[o]=s}i.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function r(s){return[0,1,2].map(o=>[0,1].map(a=>[0,1].map(l=>{let h=n.alloc(1);return h.writeUInt8(i.codes[s]<<i.CMD_SHIFT|(a?i.DUP_MASK:0)|o<<i.QOS_SHIFT|l,0,!0),h})))}i.PUBLISH_HEADER=r("publish"),i.SUBSCRIBE_HEADER=r("subscribe"),i.SUBSCRIBE_OPTIONS_QOS_MASK=3,i.SUBSCRIBE_OPTIONS_NL_MASK=1,i.SUBSCRIBE_OPTIONS_NL_SHIFT=2,i.SUBSCRIBE_OPTIONS_RAP_MASK=1,i.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,i.SUBSCRIBE_OPTIONS_RH_MASK=3,i.SUBSCRIBE_OPTIONS_RH_SHIFT=4,i.SUBSCRIBE_OPTIONS_RH=[0,16,32],i.SUBSCRIBE_OPTIONS_NL=4,i.SUBSCRIBE_OPTIONS_RAP=8,i.SUBSCRIBE_OPTIONS_QOS=[0,1,2],i.UNSUBSCRIBE_HEADER=r("unsubscribe"),i.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},i.SUBACK_HEADER=n.from([i.codes.suback<<i.CMD_SHIFT]),i.VERSION3=n.from([3]),i.VERSION4=n.from([4]),i.VERSION5=n.from([5]),i.VERSION131=n.from([131]),i.VERSION132=n.from([132]),i.QOS=[0,1,2].map(s=>n.from([s])),i.EMPTY={pingreq:n.from([i.codes.pingreq<<4,0]),pingresp:n.from([i.codes.pingresp<<4,0]),disconnect:n.from([i.codes.disconnect<<4,0])},i.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},i.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},i.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},i.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},i.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},i.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),tE=wt((e,t)=>{ut(),dt(),ft();var i=1e3,n=i*60,r=n*60,s=r*24,o=s*7,a=s*365.25;t.exports=function(f,d){d=d||{};var g=typeof f;if(g==="string"&&f.length>0)return l(f);if(g==="number"&&isFinite(f))return d.long?c(f):h(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function l(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var g=parseFloat(d[1]),y=(d[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*o;case"days":case"day":case"d":return g*s;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function h(f){var d=Math.abs(f);return d>=s?Math.round(f/s)+"d":d>=r?Math.round(f/r)+"h":d>=n?Math.round(f/n)+"m":d>=i?Math.round(f/i)+"s":f+"ms"}function c(f){var d=Math.abs(f);return d>=s?u(f,d,s,"day"):d>=r?u(f,d,r,"hour"):d>=n?u(f,d,n,"minute"):d>=i?u(f,d,i,"second"):f+" ms"}function u(f,d,g,y){var _=d>=g*1.5;return Math.round(f/g)+" "+y+(_?"s":"")}}),eE=wt((e,t)=>{ut(),dt(),ft();function i(n){s.debug=s,s.default=s,s.coerce=u,s.disable=l,s.enable=a,s.enabled=h,s.humanize=tE(),s.destroy=f,Object.keys(n).forEach(d=>{s[d]=n[d]}),s.names=[],s.skips=[],s.formatters={};function r(d){let g=0;for(let y=0;y<d.length;y++)g=(g<<5)-g+d.charCodeAt(y),g|=0;return s.colors[Math.abs(g)%s.colors.length]}s.selectColor=r;function s(d){let g,y=null,_,v;function w(...S){if(!w.enabled)return;let M=w,T=Number(new Date),E=T-(g||T);M.diff=E,M.prev=g,M.curr=T,g=T,S[0]=s.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let k=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,F)=>{if(O==="%%")return"%";k++;let V=s.formatters[F];if(typeof V=="function"){let q=S[k];O=V.call(M,q),S.splice(k,1),k--}return O}),s.formatArgs.call(M,S),(M.log||s.log).apply(M,S)}return w.namespace=d,w.useColors=s.useColors(),w.color=s.selectColor(d),w.extend=o,w.destroy=s.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(_!==s.namespaces&&(_=s.namespaces,v=s.enabled(d)),v),set:S=>{y=S}}),typeof s.init=="function"&&s.init(w),w}function o(d,g){let y=s(this.namespace+(typeof g>"u"?":":g)+d);return y.log=this.log,y}function a(d){s.save(d),s.namespaces=d,s.names=[],s.skips=[];let g,y=(typeof d=="string"?d:"").split(/[\s,]+/),_=y.length;for(g=0;g<_;g++)y[g]&&(d=y[g].replace(/\*/g,".*?"),d[0]==="-"?s.skips.push(new RegExp("^"+d.slice(1)+"$")):s.names.push(new RegExp("^"+d+"$")))}function l(){let d=[...s.names.map(c),...s.skips.map(c).map(g=>"-"+g)].join(",");return s.enable(""),d}function h(d){if(d[d.length-1]==="*")return!0;let g,y;for(g=0,y=s.skips.length;g<y;g++)if(s.skips[g].test(d))return!1;for(g=0,y=s.names.length;g<y;g++)if(s.names[g].test(d))return!0;return!1}function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=i}),rn=wt((e,t)=>{ut(),dt(),ft(),e.formatArgs=n,e.save=r,e.load=s,e.useColors=i,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;l.splice(1,0,h,"color: inherit");let c=0,u=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(c++,f==="%c"&&(u=c))}),l.splice(u,0,h)}e.log=console.debug||console.log||(()=>{});function r(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof Qt<"u"&&"env"in Qt&&(l=Qt.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=eE()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),iE=wt((e,t)=>{ut(),dt(),ft();var i=Zk(),{EventEmitter:n}=(Rr(),ne(fr)),r=Jk(),s=Yg(),o=rn()("mqtt-packet:parser"),a=class xh extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof xh?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new xh().parser(h)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new r,this.error=null,this._list=i(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),c=h>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let u=h&15,f=s.requiredHeaderFlags[c];return f!=null&&u!==f?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(h&s.RETAIN_MASK)!==0,this.packet.qos=h>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&s.DUP_MASK)!==0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),o("_parseLength %d",h.value),!!h}_parsePayload(){o("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return o("_parsePayload complete result: %s",h),h}_parseConnect(){o("_parseConnect");let h,c,u,f,d={},g=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));d.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,d.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,d.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let _=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),v=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(d.will)g.will={},g.will.retain=_,g.will.qos=v;else{if(_)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(v)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(g.properties=S)}let w=this._parseString();if(w===null)return this._emitError(new Error("Packet too short"));if(g.clientId=w,o("_parseConnect: packet.clientId: %s",g.clientId),d.will){if(g.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(g.will.properties=S)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=h,o("_parseConnect: packet.will.topic: %s",g.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=c,o("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(d.username){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse username"));g.username=f,o("_parseConnect: packet.username: %s",g.username)}if(d.password){if(u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse password"));g.password=u}return this.settings=g,o("_parseConnect: complete"),g}_parseConnack(){o("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(h.properties=u)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}h.payload=this._list.slice(this._pos,h.length),o("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){o("_parseSubscribe");let h=this.packet,c,u,f,d,g,y,_;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(h.properties=v)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(u=this._parseByte(),this.settings.protocolVersion===5){if(u&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(u&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(f=u&s.SUBSCRIBE_OPTIONS_QOS_MASK,f>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(u>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(u>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,d=u>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,d>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));_={topic:c,qos:f},this.settings.protocolVersion===5?(_.nl=y,_.rap=g,_.rh=d):this.settings.bridgeMode&&(_.rh=0,_.rap=!0,_.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",_),h.subscriptions.push(_)}}}_parseSuback(){o("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){o("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),h.unsubscriptions.push(c)}}}_parseUnsuback(){o("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(h.properties=c),h.granted=[];this._pos<this.packet.length;){let u=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[u])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(u)}}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}o("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}}return!0}_parseDisconnect(){let h=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(h.properties=c)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(h.properties=c),o("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let c=this._parseNum(),u=c+this._pos;if(c===-1||u>this._list.length||u>this.packet.length)return null;let f=this._list.toString("utf8",this._pos,u);return this._pos+=c,o("_parseString: result: %s",f),f}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),c=h+this._pos;if(h===-1||c>this._list.length||c>this.packet.length)return null;let u=this._list.slice(this._pos,c);return this._pos+=h,o("_parseBuffer: result: %o",u),u}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){o("_parseVarByteNum");let c=4,u=0,f=1,d=0,g=!1,y,_=this._pos?this._pos:0;for(;u<c&&_+u<this._list.length;){if(y=this._list.readUInt8(_+u++),d+=f*(y&s.VARBYTEINT_MASK),f*=128,!(y&s.VARBYTEINT_FIN_MASK)){g=!0;break}if(this._list.length<=u)break}return!g&&u===c&&this._list.length>=u&&this._emitError(new Error("Invalid variable byte integer")),_&&(this._pos+=u),g?h?g={bytes:u,value:d}:g=d:g=!1,o("_parseVarByteNum: result: %o",g),g}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",h),h}_parseByType(h){switch(o("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");let h=this._parseVarByteNum(),c=this._pos+h,u={};for(;this._pos<c;){let f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;let d=s.propertiesCodes[f];if(!d)return this._emitError(new Error("Unknown property")),!1;if(d==="userProperties"){u[d]||(u[d]=Object.create(null));let g=this._parseByType(s.propertiesTypes[d]);if(u[d][g.name])if(Array.isArray(u[d][g.name]))u[d][g.name].push(g.value);else{let y=u[d][g.name];u[d][g.name]=[y],u[d][g.name].push(g.value)}else u[d][g.name]=g.value;continue}u[d]?Array.isArray(u[d])?u[d].push(this._parseByType(s.propertiesTypes[d])):(u[d]=[u[d]],u[d].push(this._parseByType(s.propertiesTypes[d]))):u[d]=this._parseByType(s.propertiesTypes[d])}return u}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new r,this._pos=0,!0}_emitError(h){o("_emitError",h),this.error=h,this.emit("error",h)}};t.exports=a}),nE=wt((e,t)=>{ut(),dt(),ft();var{Buffer:i}=(je(),ne(Ue)),n=65536,r={},s=i.isBuffer(i.from([1,2]).subarray(0,1));function o(c){let u=i.allocUnsafe(2);return u.writeUInt8(c>>8,0),u.writeUInt8(c&255,0+1),u}function a(){for(let c=0;c<n;c++)r[c]=o(c)}function l(c){let u=0,f=0,d=i.allocUnsafe(4);do u=c%128|0,c=c/128|0,c>0&&(u=u|128),d.writeUInt8(u,f++);while(c>0&&f<4);return c>0&&(f=0),s?d.subarray(0,f):d.slice(0,f)}function h(c){let u=i.allocUnsafe(4);return u.writeUInt32BE(c,0),u}t.exports={cache:r,generateCache:a,generateNumber:o,genBufVariableByteInt:l,generate4ByteBuffer:h}}),rE=wt((e,t)=>{ut(),dt(),ft(),typeof Qt>"u"||!Qt.version||Qt.version.indexOf("v0.")===0||Qt.version.indexOf("v1.")===0&&Qt.version.indexOf("v1.8.")!==0?t.exports={nextTick:i}:t.exports=Qt;function i(n,r,s,o){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,h;switch(a){case 0:case 1:return Qt.nextTick(n);case 2:return Qt.nextTick(function(){n.call(null,r)});case 3:return Qt.nextTick(function(){n.call(null,r,s)});case 4:return Qt.nextTick(function(){n.call(null,r,s,o)});default:for(l=new Array(a-1),h=0;h<l.length;)l[h++]=arguments[h];return Qt.nextTick(function(){n.apply(null,l)})}}}),zg=wt((e,t)=>{ut(),dt(),ft();var i=Yg(),{Buffer:n}=(je(),ne(Ue)),r=n.allocUnsafe(0),s=n.from([0]),o=nE(),a=rE().nextTick,l=rn()("mqtt-packet:writeToStream"),h=o.cache,c=o.generateNumber,u=o.generateCache,f=o.genBufVariableByteInt,d=o.generate4ByteBuffer,g=X,y=!0;function _(B,C,Q){switch(l("generate called"),C.cork&&(C.cork(),a(v,C)),y&&(y=!1,u()),l("generate: packet.cmd: %s",B.cmd),B.cmd){case"connect":return w(B,C);case"connack":return S(B,C,Q);case"publish":return M(B,C,Q);case"puback":case"pubrec":case"pubrel":case"pubcomp":return T(B,C,Q);case"subscribe":return E(B,C,Q);case"suback":return k(B,C,Q);case"unsubscribe":return O(B,C,Q);case"unsuback":return F(B,C,Q);case"pingreq":case"pingresp":return V(B,C);case"disconnect":return q(B,C,Q);case"auth":return A(B,C,Q);default:return C.destroy(new Error("Unknown command")),!1}}Object.defineProperty(_,"cacheNumbers",{get(){return g===X},set(B){B?((!h||Object.keys(h).length===0)&&(y=!0),g=X):(y=!1,g=z)}});function v(B){B.uncork()}function w(B,C,Q){let lt=B||{},et=lt.protocolId||"MQTT",nt=lt.protocolVersion||4,ht=lt.will,gt=lt.clean,L=lt.keepalive||0,j=lt.clientId||"",W=lt.username,at=lt.password,J=lt.properties;gt===void 0&&(gt=!0);let U=0;if(!et||typeof et!="string"&&!n.isBuffer(et))return C.destroy(new Error("Invalid protocolId")),!1;if(U+=et.length+2,nt!==3&&nt!==4&&nt!==5)return C.destroy(new Error("Invalid protocol version")),!1;if(U+=1,(typeof j=="string"||n.isBuffer(j))&&(j||nt>=4)&&(j||gt))U+=n.byteLength(j)+2;else{if(nt<4)return C.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(gt*1===0)return C.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof L!="number"||L<0||L>65535||L%1!==0)return C.destroy(new Error("Invalid keepalive")),!1;U+=2,U+=1;let G,vt;if(nt===5){if(G=yt(C,J),!G)return!1;U+=G.length}if(ht){if(typeof ht!="object")return C.destroy(new Error("Invalid will")),!1;if(!ht.topic||typeof ht.topic!="string")return C.destroy(new Error("Invalid will topic")),!1;if(U+=n.byteLength(ht.topic)+2,U+=2,ht.payload)if(ht.payload.length>=0)typeof ht.payload=="string"?U+=n.byteLength(ht.payload):U+=ht.payload.length;else return C.destroy(new Error("Invalid will payload")),!1;if(vt={},nt===5){if(vt=yt(C,ht.properties),!vt)return!1;U+=vt.length}}let Et=!1;if(W!=null)if(st(W))Et=!0,U+=n.byteLength(W)+2;else return C.destroy(new Error("Invalid username")),!1;if(at!=null){if(!Et)return C.destroy(new Error("Username is required to use password")),!1;if(st(at))U+=xt(at)+2;else return C.destroy(new Error("Invalid password")),!1}C.write(i.CONNECT_HEADER),Z(C,U),rt(C,et),lt.bridgeMode&&(nt+=128),C.write(nt===131?i.VERSION131:nt===132?i.VERSION132:nt===4?i.VERSION4:nt===5?i.VERSION5:i.VERSION3);let Tt=0;return Tt|=W!=null?i.USERNAME_MASK:0,Tt|=at!=null?i.PASSWORD_MASK:0,Tt|=ht&&ht.retain?i.WILL_RETAIN_MASK:0,Tt|=ht&&ht.qos?ht.qos<<i.WILL_QOS_SHIFT:0,Tt|=ht?i.WILL_FLAG_MASK:0,Tt|=gt?i.CLEAN_SESSION_MASK:0,C.write(n.from([Tt])),g(C,L),nt===5&&G.write(),rt(C,j),ht&&(nt===5&&vt.write(),H(C,ht.topic),rt(C,ht.payload)),W!=null&&rt(C,W),at!=null&&rt(C,at),!0}function S(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=lt===5?et.reasonCode:et.returnCode,ht=et.properties,gt=2;if(typeof nt!="number")return C.destroy(new Error("Invalid return code")),!1;let L=null;if(lt===5){if(L=yt(C,ht),!L)return!1;gt+=L.length}return C.write(i.CONNACK_HEADER),Z(C,gt),C.write(et.sessionPresent?i.SESSIONPRESENT_HEADER:s),C.write(n.from([nt])),L==null||L.write(),!0}function M(B,C,Q){l("publish: packet: %o",B);let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.qos||0,ht=et.retain?i.RETAIN_MASK:0,gt=et.topic,L=et.payload||r,j=et.messageId,W=et.properties,at=0;if(typeof gt=="string")at+=n.byteLength(gt)+2;else if(n.isBuffer(gt))at+=gt.length+2;else return C.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(L)?at+=L.length:at+=n.byteLength(L),nt&&typeof j!="number")return C.destroy(new Error("Invalid messageId")),!1;nt&&(at+=2);let J=null;if(lt===5){if(J=yt(C,W),!J)return!1;at+=J.length}return C.write(i.PUBLISH_HEADER[nt][et.dup?1:0][ht?1:0]),Z(C,at),g(C,xt(gt)),C.write(gt),nt>0&&g(C,j),J==null||J.write(),l("publish: payload: %o",L),C.write(L)}function T(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.cmd||"puback",ht=et.messageId,gt=et.dup&&nt==="pubrel"?i.DUP_MASK:0,L=0,j=et.reasonCode,W=et.properties,at=lt===5?3:2;if(nt==="pubrel"&&(L=1),typeof ht!="number")return C.destroy(new Error("Invalid messageId")),!1;let J=null;if(lt===5&&typeof W=="object"){if(J=I(C,W,Q,at),!J)return!1;at+=J.length}return C.write(i.ACKS[nt][L][gt][0]),at===3&&(at+=j!==0?1:-1),Z(C,at),g(C,ht),lt===5&&at!==2&&C.write(n.from([j])),J!==null?J.write():at===4&&C.write(n.from([0])),!0}function E(B,C,Q){l("subscribe: packet: ");let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.dup?i.DUP_MASK:0,ht=et.messageId,gt=et.subscriptions,L=et.properties,j=0;if(typeof ht!="number")return C.destroy(new Error("Invalid messageId")),!1;j+=2;let W=null;if(lt===5){if(W=yt(C,L),!W)return!1;j+=W.length}if(typeof gt=="object"&&gt.length)for(let J=0;J<gt.length;J+=1){let U=gt[J].topic,G=gt[J].qos;if(typeof U!="string")return C.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof G!="number")return C.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(lt===5){if(typeof(gt[J].nl||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(gt[J].rap||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let vt=gt[J].rh||0;if(typeof vt!="number"||vt>2)return C.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}j+=n.byteLength(U)+2+1}else return C.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",i.SUBSCRIBE_HEADER),C.write(i.SUBSCRIBE_HEADER[1][nt?1:0][0]),Z(C,j),g(C,ht),W!==null&&W.write();let at=!0;for(let J of gt){let U=J.topic,G=J.qos,vt=+J.nl,Et=+J.rap,Tt=J.rh,Ut;H(C,U),Ut=i.SUBSCRIBE_OPTIONS_QOS[G],lt===5&&(Ut|=vt?i.SUBSCRIBE_OPTIONS_NL:0,Ut|=Et?i.SUBSCRIBE_OPTIONS_RAP:0,Ut|=Tt?i.SUBSCRIBE_OPTIONS_RH[Tt]:0),at=C.write(n.from([Ut]))}return at}function k(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.messageId,ht=et.granted,gt=et.properties,L=0;if(typeof nt!="number")return C.destroy(new Error("Invalid messageId")),!1;if(L+=2,typeof ht=="object"&&ht.length)for(let W=0;W<ht.length;W+=1){if(typeof ht[W]!="number")return C.destroy(new Error("Invalid qos vector")),!1;L+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let j=null;if(lt===5){if(j=I(C,gt,Q,L),!j)return!1;L+=j.length}return C.write(i.SUBACK_HEADER),Z(C,L),g(C,nt),j!==null&&j.write(),C.write(n.from(ht))}function O(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.messageId,ht=et.dup?i.DUP_MASK:0,gt=et.unsubscriptions,L=et.properties,j=0;if(typeof nt!="number")return C.destroy(new Error("Invalid messageId")),!1;if(j+=2,typeof gt=="object"&&gt.length)for(let J=0;J<gt.length;J+=1){if(typeof gt[J]!="string")return C.destroy(new Error("Invalid unsubscriptions")),!1;j+=n.byteLength(gt[J])+2}else return C.destroy(new Error("Invalid unsubscriptions")),!1;let W=null;if(lt===5){if(W=yt(C,L),!W)return!1;j+=W.length}C.write(i.UNSUBSCRIBE_HEADER[1][ht?1:0][0]),Z(C,j),g(C,nt),W!==null&&W.write();let at=!0;for(let J=0;J<gt.length;J++)at=H(C,gt[J]);return at}function F(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.messageId,ht=et.dup?i.DUP_MASK:0,gt=et.granted,L=et.properties,j=et.cmd,W=0,at=2;if(typeof nt!="number")return C.destroy(new Error("Invalid messageId")),!1;if(lt===5)if(typeof gt=="object"&&gt.length)for(let U=0;U<gt.length;U+=1){if(typeof gt[U]!="number")return C.destroy(new Error("Invalid qos vector")),!1;at+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let J=null;if(lt===5){if(J=I(C,L,Q,at),!J)return!1;at+=J.length}return C.write(i.ACKS[j][W][ht][0]),Z(C,at),g(C,nt),J!==null&&J.write(),lt===5&&C.write(n.from(gt)),!0}function V(B,C,Q){return C.write(i.EMPTY[B.cmd])}function q(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.reasonCode,ht=et.properties,gt=lt===5?1:0,L=null;if(lt===5){if(L=I(C,ht,Q,gt),!L)return!1;gt+=L.length}return C.write(n.from([i.codes.disconnect<<4])),Z(C,gt),lt===5&&C.write(n.from([nt])),L!==null&&L.write(),!0}function A(B,C,Q){let lt=Q?Q.protocolVersion:4,et=B||{},nt=et.reasonCode,ht=et.properties,gt=lt===5?1:0;lt!==5&&C.destroy(new Error("Invalid mqtt version for auth packet"));let L=I(C,ht,Q,gt);return L?(gt+=L.length,C.write(n.from([i.codes.auth<<4])),Z(C,gt),C.write(n.from([nt])),L!==null&&L.write(),!0):!1}var Y={};function Z(B,C){if(C>i.VARBYTEINT_MAX)return B.destroy(new Error(`Invalid variable byte integer: ${C}`)),!1;let Q=Y[C];return Q||(Q=f(C),C<16384&&(Y[C]=Q)),l("writeVarByteInt: writing to stream: %o",Q),B.write(Q)}function H(B,C){let Q=n.byteLength(C);return g(B,Q),l("writeString: %s",C),B.write(C,"utf8")}function tt(B,C,Q){H(B,C),H(B,Q)}function X(B,C){return l("writeNumberCached: number: %d",C),l("writeNumberCached: %o",h[C]),B.write(h[C])}function z(B,C){let Q=c(C);return l("writeNumberGenerated: %o",Q),B.write(Q)}function it(B,C){let Q=d(C);return l("write4ByteNumber: %o",Q),B.write(Q)}function rt(B,C){typeof C=="string"?H(B,C):C?(g(B,C.length),B.write(C)):g(B,0)}function yt(B,C){if(typeof C!="object"||C.length!=null)return{length:1,write(){ot(B,{},0)}};let Q=0;function lt(et,nt){let ht=i.propertiesTypes[et],gt=0;switch(ht){case"byte":{if(typeof nt!="boolean")return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+1;break}case"int8":{if(typeof nt!="number"||nt<0||nt>255)return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+1;break}case"binary":{if(nt&&nt===null)return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+n.byteLength(nt)+2;break}case"int16":{if(typeof nt!="number"||nt<0||nt>65535)return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+2;break}case"int32":{if(typeof nt!="number"||nt<0||nt>4294967295)return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+4;break}case"var":{if(typeof nt!="number"||nt<0||nt>268435455)return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+n.byteLength(f(nt));break}case"string":{if(typeof nt!="string")return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=1+2+n.byteLength(nt.toString());break}case"pair":{if(typeof nt!="object")return B.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;gt+=Object.getOwnPropertyNames(nt).reduce((L,j)=>{let W=nt[j];return Array.isArray(W)?L+=W.reduce((at,J)=>(at+=1+2+n.byteLength(j.toString())+2+n.byteLength(J.toString()),at),0):L+=1+2+n.byteLength(j.toString())+2+n.byteLength(nt[j].toString()),L},0);break}default:return B.destroy(new Error(`Invalid property ${et}: ${nt}`)),!1}return gt}if(C)for(let et in C){let nt=0,ht=0,gt=C[et];if(Array.isArray(gt))for(let L=0;L<gt.length;L++){if(ht=lt(et,gt[L]),!ht)return!1;nt+=ht}else{if(ht=lt(et,gt),!ht)return!1;nt=ht}if(!nt)return!1;Q+=nt}return{length:n.byteLength(f(Q))+Q,write(){ot(B,C,Q)}}}function I(B,C,Q,lt){let et=["reasonString","userProperties"],nt=Q&&Q.properties&&Q.properties.maximumPacketSize?Q.properties.maximumPacketSize:0,ht=yt(B,C);if(nt)for(;lt+ht.length>nt;){let gt=et.shift();if(gt&&C[gt])delete C[gt],ht=yt(B,C);else return!1}return ht}function K(B,C,Q){switch(i.propertiesTypes[C]){case"byte":{B.write(n.from([i.properties[C]])),B.write(n.from([+Q]));break}case"int8":{B.write(n.from([i.properties[C]])),B.write(n.from([Q]));break}case"binary":{B.write(n.from([i.properties[C]])),rt(B,Q);break}case"int16":{B.write(n.from([i.properties[C]])),g(B,Q);break}case"int32":{B.write(n.from([i.properties[C]])),it(B,Q);break}case"var":{B.write(n.from([i.properties[C]])),Z(B,Q);break}case"string":{B.write(n.from([i.properties[C]])),H(B,Q);break}case"pair":{Object.getOwnPropertyNames(Q).forEach(lt=>{let et=Q[lt];Array.isArray(et)?et.forEach(nt=>{B.write(n.from([i.properties[C]])),tt(B,lt.toString(),nt.toString())}):(B.write(n.from([i.properties[C]])),tt(B,lt.toString(),et.toString()))});break}default:return B.destroy(new Error(`Invalid property ${C} value: ${Q}`)),!1}}function ot(B,C,Q){Z(B,Q);for(let lt in C)if(Object.prototype.hasOwnProperty.call(C,lt)&&C[lt]!==null){let et=C[lt];if(Array.isArray(et))for(let nt=0;nt<et.length;nt++)K(B,lt,et[nt]);else K(B,lt,et)}}function xt(B){return B?B instanceof n?B.length:n.byteLength(B):0}function st(B){return typeof B=="string"||B instanceof n}t.exports=_}),sE=wt((e,t)=>{ut(),dt(),ft();var i=zg(),{EventEmitter:n}=(Rr(),ne(fr)),{Buffer:r}=(je(),ne(Ue));function s(a,l){let h=new o;return i(a,h,l),h.concat()}var o=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),h=this._array,c=0,u;for(u=0;u<h.length&&h[u]!==void 0;u++)typeof h[u]!="string"?l[u]=h[u].length:l[u]=r.byteLength(h[u]),a+=l[u];let f=r.allocUnsafe(a);for(u=0;u<h.length&&h[u]!==void 0;u++)typeof h[u]!="string"?(h[u].copy(f,c),c+=l[u]):(f.write(h[u],c),c+=l[u]);return f}destroy(a){a&&this.emit("error",a)}};t.exports=s}),oE=wt(e=>{ut(),dt(),ft(),e.parser=iE().parser,e.generate=sE(),e.writeToStream=zg()}),Vg=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let i=this.nextId++;return this.nextId===65536&&(this.nextId=1),i}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(i){return!0}deallocate(i){}clear(){}};e.default=t}),aE=wt((e,t)=>{ut(),dt(),ft(),t.exports=n;function i(s){return s instanceof No?No.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function n(s){if(s=s||{},s.circles)return r(s);return s.proto?l:a;function o(h,c){for(var u=Object.keys(h),f=new Array(u.length),d=0;d<u.length;d++){var g=u[d],y=h[g];typeof y!="object"||y===null?f[g]=y:y instanceof Date?f[g]=new Date(y):ArrayBuffer.isView(y)?f[g]=i(y):f[g]=c(y)}return f}function a(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return o(h,a);if(h instanceof Map)return new Map(o(Array.from(h),a));if(h instanceof Set)return new Set(o(Array.from(h),a));var c={};for(var u in h)if(Object.hasOwnProperty.call(h,u)!==!1){var f=h[u];typeof f!="object"||f===null?c[u]=f:f instanceof Date?c[u]=new Date(f):f instanceof Map?c[u]=new Map(o(Array.from(f),a)):f instanceof Set?c[u]=new Set(o(Array.from(f),a)):ArrayBuffer.isView(f)?c[u]=i(f):c[u]=a(f)}return c}function l(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return o(h,l);if(h instanceof Map)return new Map(o(Array.from(h),l));if(h instanceof Set)return new Set(o(Array.from(h),l));var c={};for(var u in h){var f=h[u];typeof f!="object"||f===null?c[u]=f:f instanceof Date?c[u]=new Date(f):f instanceof Map?c[u]=new Map(o(Array.from(f),l)):f instanceof Set?c[u]=new Set(o(Array.from(f),l)):ArrayBuffer.isView(f)?c[u]=i(f):c[u]=l(f)}return c}}function r(s){var o=[],a=[];return s.proto?c:h;function l(u,f){for(var d=Object.keys(u),g=new Array(d.length),y=0;y<d.length;y++){var _=d[y],v=u[_];if(typeof v!="object"||v===null)g[_]=v;else if(v instanceof Date)g[_]=new Date(v);else if(ArrayBuffer.isView(v))g[_]=i(v);else{var w=o.indexOf(v);w!==-1?g[_]=a[w]:g[_]=f(v)}}return g}function h(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return l(u,h);if(u instanceof Map)return new Map(l(Array.from(u),h));if(u instanceof Set)return new Set(l(Array.from(u),h));var f={};o.push(u),a.push(f);for(var d in u)if(Object.hasOwnProperty.call(u,d)!==!1){var g=u[d];if(typeof g!="object"||g===null)f[d]=g;else if(g instanceof Date)f[d]=new Date(g);else if(g instanceof Map)f[d]=new Map(l(Array.from(g),h));else if(g instanceof Set)f[d]=new Set(l(Array.from(g),h));else if(ArrayBuffer.isView(g))f[d]=i(g);else{var y=o.indexOf(g);y!==-1?f[d]=a[y]:f[d]=h(g)}}return o.pop(),a.pop(),f}function c(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return l(u,c);if(u instanceof Map)return new Map(l(Array.from(u),c));if(u instanceof Set)return new Set(l(Array.from(u),c));var f={};o.push(u),a.push(f);for(var d in u){var g=u[d];if(typeof g!="object"||g===null)f[d]=g;else if(g instanceof Date)f[d]=new Date(g);else if(g instanceof Map)f[d]=new Map(l(Array.from(g),c));else if(g instanceof Set)f[d]=new Set(l(Array.from(g),c));else if(ArrayBuffer.isView(g))f[d]=i(g);else{var y=o.indexOf(g);y!==-1?f[d]=a[y]:f[d]=c(g)}}return o.pop(),a.pop(),f}}}),lE=wt((e,t)=>{ut(),dt(),ft(),t.exports=aE()()}),hE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function t(n){let r=n.split("/");for(let s=0;s<r.length;s++)if(r[s]!=="+"){if(r[s]==="#")return s===r.length-1;if(r[s].indexOf("+")!==-1||r[s].indexOf("#")!==-1)return!1}return!0}e.validateTopic=t;function i(n){if(n.length===0)return"empty_topic_list";for(let r=0;r<n.length;r++)if(!t(n[r]))return n[r];return null}e.validateTopics=i}),Hg=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),i={objectMode:!0},n={clean:!0},r=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},n),s),this._inflights=new Map}put(s,o){return this._inflights.set(s.messageId,s),o&&o(),this}createStream(){let s=new t.Readable(i),o=[],a=!1,l=0;return this._inflights.forEach((h,c)=>{o.push(h)}),s._read=()=>{!a&&l<o.length?s.push(o[l++]):s.push(null)},s.destroy=h=>{if(!a)return a=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,o){let a=this._inflights.get(s.messageId);return a?(this._inflights.delete(s.messageId),o(null,a)):o&&o(new Error("missing packet")),this}get(s,o){let a=this._inflights.get(s.messageId);return a?o(null,a):o&&o(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};e.default=r}),cE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],i=(n,r,s)=>{n.log("handlePublish: packet %o",r),s=typeof s<"u"?s:n.noop;let o=r.topic.toString(),a=r.payload,{qos:l}=r,{messageId:h}=r,{options:c}=n;if(n.options.protocolVersion===5){let u;if(r.properties&&(u=r.properties.topicAlias),typeof u<"u")if(o.length===0)if(u>0&&u<=65535){let f=n.topicAliasRecv.getTopicByAlias(u);if(f)o=f,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,u);else{n.log("handlePublish :: unregistered topic alias. alias: %d",u),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",u),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(o,u))n.log("handlePublish :: registered topic: %s - alias: %d",o,u);else{n.log("handlePublish :: topic alias out of range. alias: %d",u),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(o,a,r,(u,f)=>{if(typeof u=="number"&&(f=u,u=null),u)return n.emit("error",u);if(t.indexOf(f)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));f?n._sendPacket({cmd:"pubrec",messageId:h,reasonCode:f},s):n.incomingStore.put(r,()=>{n._sendPacket({cmd:"pubrec",messageId:h},s)})});break}case 1:{c.customHandleAcks(o,a,r,(u,f)=>{if(typeof u=="number"&&(f=u,u=null),u)return n.emit("error",u);if(t.indexOf(f)===-1)return n.emit("error",new Error("Wrong reason code for puback"));f||n.emit("message",o,a,r),n.handleMessage(r,d=>{if(d)return s&&s(d);n._sendPacket({cmd:"puback",messageId:h,reasonCode:f},s)})});break}case 0:n.emit("message",o,a,r),n.handleMessage(r,s);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=i}),uE=wt((e,t)=>{t.exports={version:"5.10.2"}}),Dr=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var t=class $g extends Error{constructor(r,s){super(r),this.code=s,Object.setPrototypeOf(this,$g.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;function i(n,r,s=!1){var o;let a=[r];for(;;){let l=a[0],h=Object.getPrototypeOf(l);if(h!=null&&h.prototype)a.unshift(h);else break}for(let l of a)for(let h of Object.getOwnPropertyNames(l.prototype))(s||h!=="constructor")&&Object.defineProperty(n.prototype,h,(o=Object.getOwnPropertyDescriptor(l.prototype,h))!==null&&o!==void 0?o:Object.create(null))}e.applyMixin=i,e.nextTick=typeof(Qt==null?void 0:Qt.nextTick)=="function"?Qt.nextTick:n=>{setTimeout(n,0)},e.MQTTJS_VERSION=uE().version}),ha=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=Dr();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var i=(n,r)=>{let{messageId:s}=r,o=r.cmd,a=null,l=n.outgoing[s]?n.outgoing[s].cb:null,h=null;if(!l){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let c=r.reasonCode;c&&c>0&&c!==16?(h=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(s,()=>{l(h,r)})):n._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:s};let c=r.reasonCode;c&&c>0&&c!==16?(h=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(s,()=>{l(h,r)})):n._sendPacket(a);break}case"suback":{delete n.outgoing[s],n.messageIdProvider.deallocate(s);let c=r.granted;for(let u=0;u<c.length;u++){let f=c[u];if(f&128){h=new Error(`Subscribe error: ${e.ReasonCodes[f]}`),h.code=f;let d=n.messageIdToTopic[s];d&&d.forEach(g=>{delete n._resubscribeTopics[g]})}}delete n.messageIdToTopic[s],n._invokeStoreProcessingQueue(),l(h,r);break}case"unsuback":{delete n.outgoing[s],n.messageIdProvider.deallocate(s),n._invokeStoreProcessingQueue(),l(null,r);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};e.default=i}),fE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=Dr(),i=ha(),n=(r,s)=>{let{options:o}=r,a=o.protocolVersion,l=a===5?s.reasonCode:s.returnCode;if(a!==5){let h=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);r.emit("error",h);return}r.handleAuth(s,(h,c)=>{if(h){r.emit("error",h);return}if(l===24)r.reconnecting=!1,r._sendPacket(c);else{let u=new t.ErrorWithReasonCode(`Connection refused: ${i.ReasonCodes[l]}`,l);r.emit("error",u)}})};e.default=n}),dE=wt(e=>{var d,g,y,_,v,w,S,M,T,E,k,O,F,V,q,A,Y,Z,H,tt,X,z,it,rt,yt,I,kh,ot,xt,st,B,C,qg,lt,et,nt,ht,fn,L,dn,W,Eh,J,_o,G,wo,Et,ge,Ut,Mh,p,ts,P;ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,i=new Set,n=typeof Qt=="object"&&Qt?Qt:{},r=(D,x,R,$)=>{typeof n.emitWarning=="function"?n.emitWarning(D,x,R,$):console.error(`[${R}] ${x}: ${D}`)},s=globalThis.AbortController,o=globalThis.AbortSignal;if(typeof s>"u"){o=class{constructor(){bt(this,"onabort");bt(this,"_onabort",[]);bt(this,"reason");bt(this,"aborted",!1)}addEventListener(R,$){this._onabort.push($)}},s=class{constructor(){bt(this,"signal",new o);x()}abort(R){var $,pt;if(!this.signal.aborted){this.signal.reason=R,this.signal.aborted=!0;for(let ct of this.signal._onabort)ct(R);(pt=($=this.signal).onabort)==null||pt.call($,R)}}};let D=((d=n.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1",x=()=>{D&&(D=!1,r("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",x))}}var a=D=>!i.has(D),l=D=>D&&D===Math.floor(D)&&D>0&&isFinite(D),h=D=>l(D)?D<=Math.pow(2,8)?Uint8Array:D<=Math.pow(2,16)?Uint16Array:D<=Math.pow(2,32)?Uint32Array:D<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(D){super(D),this.fill(0)}},u=(g=class{constructor(x,R){bt(this,"heap");bt(this,"length");if(!N(g,y))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new R(x),this.length=0}static create(x){let R=h(x);if(!R)return[];Bt(g,y,!0);let $=new g(x,R);return Bt(g,y,!1),$}push(x){this.heap[this.length++]=x}pop(){return this.heap[--this.length]}},y=new WeakMap,Wt(g,y,!1),g),f=(P=class{constructor(x){Wt(this,I);Wt(this,C);Wt(this,ht);Wt(this,L);Wt(this,W);Wt(this,J);Wt(this,G);Wt(this,Et);Wt(this,Ut);Wt(this,p);Wt(this,_,void 0);Wt(this,v,void 0);Wt(this,w,void 0);Wt(this,S,void 0);Wt(this,M,void 0);bt(this,"ttl");bt(this,"ttlResolution");bt(this,"ttlAutopurge");bt(this,"updateAgeOnGet");bt(this,"updateAgeOnHas");bt(this,"allowStale");bt(this,"noDisposeOnSet");bt(this,"noUpdateTTL");bt(this,"maxEntrySize");bt(this,"sizeCalculation");bt(this,"noDeleteOnFetchRejection");bt(this,"noDeleteOnStaleGet");bt(this,"allowStaleOnFetchAbort");bt(this,"allowStaleOnFetchRejection");bt(this,"ignoreFetchAbort");Wt(this,T,void 0);Wt(this,E,void 0);Wt(this,k,void 0);Wt(this,O,void 0);Wt(this,F,void 0);Wt(this,V,void 0);Wt(this,q,void 0);Wt(this,A,void 0);Wt(this,Y,void 0);Wt(this,Z,void 0);Wt(this,H,void 0);Wt(this,tt,void 0);Wt(this,X,void 0);Wt(this,z,void 0);Wt(this,it,void 0);Wt(this,rt,void 0);Wt(this,yt,void 0);Wt(this,ot,()=>{});Wt(this,xt,()=>{});Wt(this,st,()=>{});Wt(this,B,()=>!1);Wt(this,lt,x=>{});Wt(this,et,(x,R,$)=>{});Wt(this,nt,(x,R,$,pt)=>{if($||pt)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:R=0,ttl:$,ttlResolution:pt=1,ttlAutopurge:ct,updateAgeOnGet:_t,updateAgeOnHas:Mt,allowStale:Rt,dispose:pe,disposeAfter:Be,noDisposeOnSet:qt,noUpdateTTL:Oe,maxSize:ie=0,maxEntrySize:ae=0,sizeCalculation:Zt,fetchMethod:Pe,noDeleteOnFetchRejection:Nt,noDeleteOnStaleGet:Se,allowStaleOnFetchRejection:$e,allowStaleOnFetchAbort:Ne,ignoreFetchAbort:hi}=x;if(R!==0&&!l(R))throw new TypeError("max option must be a nonnegative integer");let Rn=R?h(R):Array;if(!Rn)throw new Error("invalid max value: "+R);if(Bt(this,_,R),Bt(this,v,ie),this.maxEntrySize=ae||N(this,v),this.sizeCalculation=Zt,this.sizeCalculation){if(!N(this,v)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Pe!==void 0&&typeof Pe!="function")throw new TypeError("fetchMethod must be a function if specified");if(Bt(this,M,Pe),Bt(this,rt,!!Pe),Bt(this,k,new Map),Bt(this,O,new Array(R).fill(void 0)),Bt(this,F,new Array(R).fill(void 0)),Bt(this,V,new Rn(R)),Bt(this,q,new Rn(R)),Bt(this,A,0),Bt(this,Y,0),Bt(this,Z,u.create(R)),Bt(this,T,0),Bt(this,E,0),typeof pe=="function"&&Bt(this,w,pe),typeof Be=="function"?(Bt(this,S,Be),Bt(this,H,[])):(Bt(this,S,void 0),Bt(this,H,void 0)),Bt(this,it,!!N(this,w)),Bt(this,yt,!!N(this,S)),this.noDisposeOnSet=!!qt,this.noUpdateTTL=!!Oe,this.noDeleteOnFetchRejection=!!Nt,this.allowStaleOnFetchRejection=!!$e,this.allowStaleOnFetchAbort=!!Ne,this.ignoreFetchAbort=!!hi,this.maxEntrySize!==0){if(N(this,v)!==0&&!l(N(this,v)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");It(this,C,qg).call(this)}if(this.allowStale=!!Rt,this.noDeleteOnStaleGet=!!Se,this.updateAgeOnGet=!!_t,this.updateAgeOnHas=!!Mt,this.ttlResolution=l(pt)||pt===0?pt:1,this.ttlAutopurge=!!ct,this.ttl=$||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");It(this,I,kh).call(this)}if(N(this,_)===0&&this.ttl===0&&N(this,v)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!N(this,_)&&!N(this,v)){let cn="LRU_CACHE_UNBOUNDED";a(cn)&&(i.add(cn),r("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",cn,P))}}static unsafeExposeInternals(x){return{starts:N(x,X),ttls:N(x,z),sizes:N(x,tt),keyMap:N(x,k),keyList:N(x,O),valList:N(x,F),next:N(x,V),prev:N(x,q),get head(){return N(x,A)},get tail(){return N(x,Y)},free:N(x,Z),isBackgroundFetch:R=>{var $;return It($=x,Et,ge).call($,R)},backgroundFetch:(R,$,pt,ct)=>{var _t;return It(_t=x,G,wo).call(_t,R,$,pt,ct)},moveToTail:R=>{var $;return It($=x,p,ts).call($,R)},indexes:R=>{var $;return It($=x,ht,fn).call($,R)},rindexes:R=>{var $;return It($=x,L,dn).call($,R)},isStale:R=>{var $;return N($=x,B).call($,R)}}}get max(){return N(this,_)}get maxSize(){return N(this,v)}get calculatedSize(){return N(this,E)}get size(){return N(this,T)}get fetchMethod(){return N(this,M)}get dispose(){return N(this,w)}get disposeAfter(){return N(this,S)}getRemainingTTL(x){return N(this,k).has(x)?1/0:0}*entries(){for(let x of It(this,ht,fn).call(this))N(this,F)[x]!==void 0&&N(this,O)[x]!==void 0&&!It(this,Et,ge).call(this,N(this,F)[x])&&(yield[N(this,O)[x],N(this,F)[x]])}*rentries(){for(let x of It(this,L,dn).call(this))N(this,F)[x]!==void 0&&N(this,O)[x]!==void 0&&!It(this,Et,ge).call(this,N(this,F)[x])&&(yield[N(this,O)[x],N(this,F)[x]])}*keys(){for(let x of It(this,ht,fn).call(this)){let R=N(this,O)[x];R!==void 0&&!It(this,Et,ge).call(this,N(this,F)[x])&&(yield R)}}*rkeys(){for(let x of It(this,L,dn).call(this)){let R=N(this,O)[x];R!==void 0&&!It(this,Et,ge).call(this,N(this,F)[x])&&(yield R)}}*values(){for(let x of It(this,ht,fn).call(this))N(this,F)[x]!==void 0&&!It(this,Et,ge).call(this,N(this,F)[x])&&(yield N(this,F)[x])}*rvalues(){for(let x of It(this,L,dn).call(this))N(this,F)[x]!==void 0&&!It(this,Et,ge).call(this,N(this,F)[x])&&(yield N(this,F)[x])}[Symbol.iterator](){return this.entries()}find(x,R={}){for(let $ of It(this,ht,fn).call(this)){let pt=N(this,F)[$],ct=It(this,Et,ge).call(this,pt)?pt.__staleWhileFetching:pt;if(ct!==void 0&&x(ct,N(this,O)[$],this))return this.get(N(this,O)[$],R)}}forEach(x,R=this){for(let $ of It(this,ht,fn).call(this)){let pt=N(this,F)[$],ct=It(this,Et,ge).call(this,pt)?pt.__staleWhileFetching:pt;ct!==void 0&&x.call(R,ct,N(this,O)[$],this)}}rforEach(x,R=this){for(let $ of It(this,L,dn).call(this)){let pt=N(this,F)[$],ct=It(this,Et,ge).call(this,pt)?pt.__staleWhileFetching:pt;ct!==void 0&&x.call(R,ct,N(this,O)[$],this)}}purgeStale(){let x=!1;for(let R of It(this,L,dn).call(this,{allowStale:!0}))N(this,B).call(this,R)&&(this.delete(N(this,O)[R]),x=!0);return x}dump(){let x=[];for(let R of It(this,ht,fn).call(this,{allowStale:!0})){let $=N(this,O)[R],pt=N(this,F)[R],ct=It(this,Et,ge).call(this,pt)?pt.__staleWhileFetching:pt;if(ct===void 0||$===void 0)continue;let _t={value:ct};if(N(this,z)&&N(this,X)){_t.ttl=N(this,z)[R];let Mt=t.now()-N(this,X)[R];_t.start=Math.floor(Date.now()-Mt)}N(this,tt)&&(_t.size=N(this,tt)[R]),x.unshift([$,_t])}return x}load(x){this.clear();for(let[R,$]of x){if($.start){let pt=Date.now()-$.start;$.start=t.now()-pt}this.set(R,$.value,$)}}set(x,R,$={}){var Oe,ie,ae,Zt,Pe;if(R===void 0)return this.delete(x),this;let{ttl:pt=this.ttl,start:ct,noDisposeOnSet:_t=this.noDisposeOnSet,sizeCalculation:Mt=this.sizeCalculation,status:Rt}=$,{noUpdateTTL:pe=this.noUpdateTTL}=$,Be=N(this,nt).call(this,x,R,$.size||0,Mt);if(this.maxEntrySize&&Be>this.maxEntrySize)return Rt&&(Rt.set="miss",Rt.maxEntrySizeExceeded=!0),this.delete(x),this;let qt=N(this,T)===0?void 0:N(this,k).get(x);if(qt===void 0)qt=N(this,T)===0?N(this,Y):N(this,Z).length!==0?N(this,Z).pop():N(this,T)===N(this,_)?It(this,J,_o).call(this,!1):N(this,T),N(this,O)[qt]=x,N(this,F)[qt]=R,N(this,k).set(x,qt),N(this,V)[N(this,Y)]=qt,N(this,q)[qt]=N(this,Y),Bt(this,Y,qt),Rs(this,T)._++,N(this,et).call(this,qt,Be,Rt),Rt&&(Rt.set="add"),pe=!1;else{It(this,p,ts).call(this,qt);let Nt=N(this,F)[qt];if(R!==Nt){if(N(this,rt)&&It(this,Et,ge).call(this,Nt)){Nt.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Se}=Nt;Se!==void 0&&!_t&&(N(this,it)&&((Oe=N(this,w))==null||Oe.call(this,Se,x,"set")),N(this,yt)&&((ie=N(this,H))==null||ie.push([Se,x,"set"])))}else _t||(N(this,it)&&((ae=N(this,w))==null||ae.call(this,Nt,x,"set")),N(this,yt)&&((Zt=N(this,H))==null||Zt.push([Nt,x,"set"])));if(N(this,lt).call(this,qt),N(this,et).call(this,qt,Be,Rt),N(this,F)[qt]=R,Rt){Rt.set="replace";let Se=Nt&&It(this,Et,ge).call(this,Nt)?Nt.__staleWhileFetching:Nt;Se!==void 0&&(Rt.oldValue=Se)}}else Rt&&(Rt.set="update")}if(pt!==0&&!N(this,z)&&It(this,I,kh).call(this),N(this,z)&&(pe||N(this,st).call(this,qt,pt,ct),Rt&&N(this,xt).call(this,Rt,qt)),!_t&&N(this,yt)&&N(this,H)){let Nt=N(this,H),Se;for(;Se=Nt==null?void 0:Nt.shift();)(Pe=N(this,S))==null||Pe.call(this,...Se)}return this}pop(){var x;try{for(;N(this,T);){let R=N(this,F)[N(this,A)];if(It(this,J,_o).call(this,!0),It(this,Et,ge).call(this,R)){if(R.__staleWhileFetching)return R.__staleWhileFetching}else if(R!==void 0)return R}}finally{if(N(this,yt)&&N(this,H)){let R=N(this,H),$;for(;$=R==null?void 0:R.shift();)(x=N(this,S))==null||x.call(this,...$)}}}has(x,R={}){let{updateAgeOnHas:$=this.updateAgeOnHas,status:pt}=R,ct=N(this,k).get(x);if(ct!==void 0){let _t=N(this,F)[ct];if(It(this,Et,ge).call(this,_t)&&_t.__staleWhileFetching===void 0)return!1;if(N(this,B).call(this,ct))pt&&(pt.has="stale",N(this,xt).call(this,pt,ct));else return $&&N(this,ot).call(this,ct),pt&&(pt.has="hit",N(this,xt).call(this,pt,ct)),!0}else pt&&(pt.has="miss");return!1}peek(x,R={}){let{allowStale:$=this.allowStale}=R,pt=N(this,k).get(x);if(pt!==void 0&&($||!N(this,B).call(this,pt))){let ct=N(this,F)[pt];return It(this,Et,ge).call(this,ct)?ct.__staleWhileFetching:ct}}async fetch(x,R={}){let{allowStale:$=this.allowStale,updateAgeOnGet:pt=this.updateAgeOnGet,noDeleteOnStaleGet:ct=this.noDeleteOnStaleGet,ttl:_t=this.ttl,noDisposeOnSet:Mt=this.noDisposeOnSet,size:Rt=0,sizeCalculation:pe=this.sizeCalculation,noUpdateTTL:Be=this.noUpdateTTL,noDeleteOnFetchRejection:qt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Oe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ie=this.ignoreFetchAbort,allowStaleOnFetchAbort:ae=this.allowStaleOnFetchAbort,context:Zt,forceRefresh:Pe=!1,status:Nt,signal:Se}=R;if(!N(this,rt))return Nt&&(Nt.fetch="get"),this.get(x,{allowStale:$,updateAgeOnGet:pt,noDeleteOnStaleGet:ct,status:Nt});let $e={allowStale:$,updateAgeOnGet:pt,noDeleteOnStaleGet:ct,ttl:_t,noDisposeOnSet:Mt,size:Rt,sizeCalculation:pe,noUpdateTTL:Be,noDeleteOnFetchRejection:qt,allowStaleOnFetchRejection:Oe,allowStaleOnFetchAbort:ae,ignoreFetchAbort:ie,status:Nt,signal:Se},Ne=N(this,k).get(x);if(Ne===void 0){Nt&&(Nt.fetch="miss");let hi=It(this,G,wo).call(this,x,Ne,$e,Zt);return hi.__returned=hi}else{let hi=N(this,F)[Ne];if(It(this,Et,ge).call(this,hi)){let Bc=$&&hi.__staleWhileFetching!==void 0;return Nt&&(Nt.fetch="inflight",Bc&&(Nt.returnedStale=!0)),Bc?hi.__staleWhileFetching:hi.__returned=hi}let Rn=N(this,B).call(this,Ne);if(!Pe&&!Rn)return Nt&&(Nt.fetch="hit"),It(this,p,ts).call(this,Ne),pt&&N(this,ot).call(this,Ne),Nt&&N(this,xt).call(this,Nt,Ne),hi;let cn=It(this,G,wo).call(this,x,Ne,$e,Zt),Lc=cn.__staleWhileFetching!==void 0&&$;return Nt&&(Nt.fetch=Rn?"stale":"refresh",Lc&&Rn&&(Nt.returnedStale=!0)),Lc?cn.__staleWhileFetching:cn.__returned=cn}}get(x,R={}){let{allowStale:$=this.allowStale,updateAgeOnGet:pt=this.updateAgeOnGet,noDeleteOnStaleGet:ct=this.noDeleteOnStaleGet,status:_t}=R,Mt=N(this,k).get(x);if(Mt!==void 0){let Rt=N(this,F)[Mt],pe=It(this,Et,ge).call(this,Rt);return _t&&N(this,xt).call(this,_t,Mt),N(this,B).call(this,Mt)?(_t&&(_t.get="stale"),pe?(_t&&$&&Rt.__staleWhileFetching!==void 0&&(_t.returnedStale=!0),$?Rt.__staleWhileFetching:void 0):(ct||this.delete(x),_t&&$&&(_t.returnedStale=!0),$?Rt:void 0)):(_t&&(_t.get="hit"),pe?Rt.__staleWhileFetching:(It(this,p,ts).call(this,Mt),pt&&N(this,ot).call(this,Mt),Rt))}else _t&&(_t.get="miss")}delete(x){var $,pt,ct,_t;let R=!1;if(N(this,T)!==0){let Mt=N(this,k).get(x);if(Mt!==void 0)if(R=!0,N(this,T)===1)this.clear();else{N(this,lt).call(this,Mt);let Rt=N(this,F)[Mt];It(this,Et,ge).call(this,Rt)?Rt.__abortController.abort(new Error("deleted")):(N(this,it)||N(this,yt))&&(N(this,it)&&(($=N(this,w))==null||$.call(this,Rt,x,"delete")),N(this,yt)&&((pt=N(this,H))==null||pt.push([Rt,x,"delete"]))),N(this,k).delete(x),N(this,O)[Mt]=void 0,N(this,F)[Mt]=void 0,Mt===N(this,Y)?Bt(this,Y,N(this,q)[Mt]):Mt===N(this,A)?Bt(this,A,N(this,V)[Mt]):(N(this,V)[N(this,q)[Mt]]=N(this,V)[Mt],N(this,q)[N(this,V)[Mt]]=N(this,q)[Mt]),Rs(this,T)._--,N(this,Z).push(Mt)}}if(N(this,yt)&&((ct=N(this,H))!=null&&ct.length)){let Mt=N(this,H),Rt;for(;Rt=Mt==null?void 0:Mt.shift();)(_t=N(this,S))==null||_t.call(this,...Rt)}return R}clear(){var x,R,$;for(let pt of It(this,L,dn).call(this,{allowStale:!0})){let ct=N(this,F)[pt];if(It(this,Et,ge).call(this,ct))ct.__abortController.abort(new Error("deleted"));else{let _t=N(this,O)[pt];N(this,it)&&((x=N(this,w))==null||x.call(this,ct,_t,"delete")),N(this,yt)&&((R=N(this,H))==null||R.push([ct,_t,"delete"]))}}if(N(this,k).clear(),N(this,F).fill(void 0),N(this,O).fill(void 0),N(this,z)&&N(this,X)&&(N(this,z).fill(0),N(this,X).fill(0)),N(this,tt)&&N(this,tt).fill(0),Bt(this,A,0),Bt(this,Y,0),N(this,Z).length=0,Bt(this,E,0),Bt(this,T,0),N(this,yt)&&N(this,H)){let pt=N(this,H),ct;for(;ct=pt==null?void 0:pt.shift();)($=N(this,S))==null||$.call(this,...ct)}}},_=new WeakMap,v=new WeakMap,w=new WeakMap,S=new WeakMap,M=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,O=new WeakMap,F=new WeakMap,V=new WeakMap,q=new WeakMap,A=new WeakMap,Y=new WeakMap,Z=new WeakMap,H=new WeakMap,tt=new WeakMap,X=new WeakMap,z=new WeakMap,it=new WeakMap,rt=new WeakMap,yt=new WeakMap,I=new WeakSet,kh=function(){let x=new c(N(this,_)),R=new c(N(this,_));Bt(this,z,x),Bt(this,X,R),Bt(this,st,(ct,_t,Mt=t.now())=>{if(R[ct]=_t!==0?Mt:0,x[ct]=_t,_t!==0&&this.ttlAutopurge){let Rt=setTimeout(()=>{N(this,B).call(this,ct)&&this.delete(N(this,O)[ct])},_t+1);Rt.unref&&Rt.unref()}}),Bt(this,ot,ct=>{R[ct]=x[ct]!==0?t.now():0}),Bt(this,xt,(ct,_t)=>{if(x[_t]){let Mt=x[_t],Rt=R[_t];ct.ttl=Mt,ct.start=Rt,ct.now=$||pt();let pe=ct.now-Rt;ct.remainingTTL=Mt-pe}});let $=0,pt=()=>{let ct=t.now();if(this.ttlResolution>0){$=ct;let _t=setTimeout(()=>$=0,this.ttlResolution);_t.unref&&_t.unref()}return ct};this.getRemainingTTL=ct=>{let _t=N(this,k).get(ct);if(_t===void 0)return 0;let Mt=x[_t],Rt=R[_t];if(Mt===0||Rt===0)return 1/0;let pe=($||pt())-Rt;return Mt-pe},Bt(this,B,ct=>x[ct]!==0&&R[ct]!==0&&($||pt())-R[ct]>x[ct])},ot=new WeakMap,xt=new WeakMap,st=new WeakMap,B=new WeakMap,C=new WeakSet,qg=function(){let x=new c(N(this,_));Bt(this,E,0),Bt(this,tt,x),Bt(this,lt,R=>{Bt(this,E,N(this,E)-x[R]),x[R]=0}),Bt(this,nt,(R,$,pt,ct)=>{if(It(this,Et,ge).call(this,$))return 0;if(!l(pt))if(ct){if(typeof ct!="function")throw new TypeError("sizeCalculation must be a function");if(pt=ct($,R),!l(pt))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return pt}),Bt(this,et,(R,$,pt)=>{if(x[R]=$,N(this,v)){let ct=N(this,v)-x[R];for(;N(this,E)>ct;)It(this,J,_o).call(this,!0)}Bt(this,E,N(this,E)+x[R]),pt&&(pt.entrySize=$,pt.totalCalculatedSize=N(this,E))})},lt=new WeakMap,et=new WeakMap,nt=new WeakMap,ht=new WeakSet,fn=function*({allowStale:x=this.allowStale}={}){if(N(this,T))for(let R=N(this,Y);!(!It(this,W,Eh).call(this,R)||((x||!N(this,B).call(this,R))&&(yield R),R===N(this,A)));)R=N(this,q)[R]},L=new WeakSet,dn=function*({allowStale:x=this.allowStale}={}){if(N(this,T))for(let R=N(this,A);!(!It(this,W,Eh).call(this,R)||((x||!N(this,B).call(this,R))&&(yield R),R===N(this,Y)));)R=N(this,V)[R]},W=new WeakSet,Eh=function(x){return x!==void 0&&N(this,k).get(N(this,O)[x])===x},J=new WeakSet,_o=function(x){var ct,_t;let R=N(this,A),$=N(this,O)[R],pt=N(this,F)[R];return N(this,rt)&&It(this,Et,ge).call(this,pt)?pt.__abortController.abort(new Error("evicted")):(N(this,it)||N(this,yt))&&(N(this,it)&&((ct=N(this,w))==null||ct.call(this,pt,$,"evict")),N(this,yt)&&((_t=N(this,H))==null||_t.push([pt,$,"evict"]))),N(this,lt).call(this,R),x&&(N(this,O)[R]=void 0,N(this,F)[R]=void 0,N(this,Z).push(R)),N(this,T)===1?(Bt(this,A,Bt(this,Y,0)),N(this,Z).length=0):Bt(this,A,N(this,V)[R]),N(this,k).delete($),Rs(this,T)._--,R},G=new WeakSet,wo=function(x,R,$,pt){let ct=R===void 0?void 0:N(this,F)[R];if(It(this,Et,ge).call(this,ct))return ct;let _t=new s,{signal:Mt}=$;Mt==null||Mt.addEventListener("abort",()=>_t.abort(Mt.reason),{signal:_t.signal});let Rt={signal:_t.signal,options:$,context:pt},pe=(Zt,Pe=!1)=>{let{aborted:Nt}=_t.signal,Se=$.ignoreFetchAbort&&Zt!==void 0;if($.status&&(Nt&&!Pe?($.status.fetchAborted=!0,$.status.fetchError=_t.signal.reason,Se&&($.status.fetchAbortIgnored=!0)):$.status.fetchResolved=!0),Nt&&!Se&&!Pe)return qt(_t.signal.reason);let $e=ie;return N(this,F)[R]===ie&&(Zt===void 0?$e.__staleWhileFetching?N(this,F)[R]=$e.__staleWhileFetching:this.delete(x):($.status&&($.status.fetchUpdated=!0),this.set(x,Zt,Rt.options))),Zt},Be=Zt=>($.status&&($.status.fetchRejected=!0,$.status.fetchError=Zt),qt(Zt)),qt=Zt=>{let{aborted:Pe}=_t.signal,Nt=Pe&&$.allowStaleOnFetchAbort,Se=Nt||$.allowStaleOnFetchRejection,$e=Se||$.noDeleteOnFetchRejection,Ne=ie;if(N(this,F)[R]===ie&&(!$e||Ne.__staleWhileFetching===void 0?this.delete(x):Nt||(N(this,F)[R]=Ne.__staleWhileFetching)),Se)return $.status&&Ne.__staleWhileFetching!==void 0&&($.status.returnedStale=!0),Ne.__staleWhileFetching;if(Ne.__returned===Ne)throw Zt},Oe=(Zt,Pe)=>{var Se;let Nt=(Se=N(this,M))==null?void 0:Se.call(this,x,ct,Rt);Nt&&Nt instanceof Promise&&Nt.then($e=>Zt($e===void 0?void 0:$e),Pe),_t.signal.addEventListener("abort",()=>{(!$.ignoreFetchAbort||$.allowStaleOnFetchAbort)&&(Zt(void 0),$.allowStaleOnFetchAbort&&(Zt=$e=>pe($e,!0)))})};$.status&&($.status.fetchDispatched=!0);let ie=new Promise(Oe).then(pe,Be),ae=Object.assign(ie,{__abortController:_t,__staleWhileFetching:ct,__returned:void 0});return R===void 0?(this.set(x,ae,{...Rt.options,status:void 0}),R=N(this,k).get(x)):N(this,F)[R]=ae,ae},Et=new WeakSet,ge=function(x){if(!N(this,rt))return!1;let R=x;return!!R&&R instanceof Promise&&R.hasOwnProperty("__staleWhileFetching")&&R.__abortController instanceof s},Ut=new WeakSet,Mh=function(x,R){N(this,q)[R]=x,N(this,V)[x]=R},p=new WeakSet,ts=function(x){x!==N(this,Y)&&(x===N(this,A)?Bt(this,A,N(this,V)[x]):It(this,Ut,Mh).call(this,N(this,q)[x],N(this,V)[x]),It(this,Ut,Mh).call(this,N(this,Y),x),Bt(this,Y,x))},P);e.LRUCache=f}),ln=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(r=0){this.iteratorType=r}equals(r){return this.o===r.o}};e.ContainerIterator=t;var i=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=i;var n=class extends i{};e.Container=n}),pE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=ln(),i=class extends t.Base{constructor(r=[]){super(),this.S=[];let s=this;r.forEach(function(o){s.push(o)})}clear(){this.i=0,this.S=[]}push(r){return this.S.push(r),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=i;e.default=n}),gE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=ln(),i=class extends t.Base{constructor(r=[]){super(),this.j=0,this.q=[];let s=this;r.forEach(function(o){s.push(o)})}clear(){this.q=[],this.i=this.j=0}push(r){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let o=this.i;for(let a=0;a<o;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=r}else this.q[this.j+this.i]=r;return++this.i}pop(){if(this.i===0)return;let r=this.q[this.j++];return this.i-=1,r}front(){if(this.i!==0)return this.q[this.j]}},n=i;e.default=n}),mE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=ln(),i=class extends t.Base{constructor(r=[],s=function(a,l){return a>l?-1:a<l?1:0},o=!0){if(super(),this.v=s,Array.isArray(r))this.C=o?[...r]:r;else{this.C=[];let l=this;r.forEach(function(h){l.C.push(h)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(r){let s=this.C[r];for(;r>0;){let o=r-1>>1,a=this.C[o];if(this.v(a,s)<=0)break;this.C[r]=a,r=o}this.C[r]=s}k(r,s){let o=this.C[r];for(;r<s;){let a=r<<1|1,l=a+1,h=this.C[a];if(l<this.i&&this.v(h,this.C[l])>0&&(a=l,h=this.C[l]),this.v(h,o)>=0)break;this.C[r]=h,r=a}this.C[r]=o}clear(){this.i=0,this.C.length=0}push(r){this.C.push(r),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let r=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),r}top(){return this.C[0]}find(r){return this.C.indexOf(r)>=0}remove(r){let s=this.C.indexOf(r);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(r){let s=this.C.indexOf(r);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},n=i;e.default=n}),Cc=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=ln(),i=class extends t.Container{},n=i;e.default=n}),hn=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),Gg=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=ln(),i=hn(),n=class extends t.ContainerIterator{constructor(r,s){super(s),this.o=r,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,i.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,i.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,i.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,i.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(r){this.container.setElementByPos(this.o,r)}};e.RandomIterator=n}),bE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(Cc()),i=Gg();function n(a){return a&&a.t?a:{default:a}}var r=class Kg extends i.RandomIterator{constructor(l,h,c){super(l,c),this.container=h}copy(){return new Kg(this.o,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let h=this;a.forEach(function(c){h.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let h=0;h<this.i;++h)this.J[h]!==a&&(this.J[l++]=this.J[h]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,h=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(h).fill(l)),this.i+=h,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new r(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},o=s;e.default=o}),yE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(Cc()),i=ln(),n=hn();function r(l){return l&&l.t?l:{default:l}}var s=class Qg extends i.ContainerIterator{constructor(h,c,u,f){super(f),this.o=h,this.h=c,this.container=u,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=h}copy(){return new Qg(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;l.forEach(function(c){h.pushBack(c)})}V(l){let{L:h,B:c}=l;h.B=c,c.L=h,l===this.p&&(this.p=c),l===this._&&(this._=h),this.i-=1}G(l,h){let c=h.B,u={l,L:h,B:c};h.B=u,c.L=u,h===this.h&&(this.p=u),c===this.h&&(this._=u),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let h=this.p;for(;l--;)h=h.B;return h.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let h=this.p;for(;l--;)h=h.B;return this.V(h),this.i}eraseElementByValue(l){let h=this.p;for(;h!==this.h;)h.l===l&&this.V(h),h=h.B;return this.i}eraseElementByIterator(l){let h=l.o;return h===this.h&&(0,n.throwIteratorAccessError)(),l=l.next(),this.V(h),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,h){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=h}insert(l,h,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(h);else if(l===this.i)for(;c--;)this.pushBack(h);else{let u=this.p;for(let d=1;d<l;++d)u=u.B;let f=u.B;for(this.i+=c;c--;)u.B={l:h,L:u},u.B.L=u,u=u.B;u.B=f,f.L=u}return this.i}find(l){let h=this.p;for(;h!==this.h;){if(h.l===l)return new s(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,h=this._,c=0;for(;c<<1<this.i;){let u=l.l;l.l=h.l,h.l=u,l=l.B,h=h.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let h=l;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;l.B=h.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let h=[];this.forEach(function(u){h.push(u)}),h.sort(l);let c=this.p;h.forEach(function(u){c.l=u,c=c.B})}merge(l){let h=this;if(this.i===0)l.forEach(function(c){h.pushBack(c)});else{let c=this.p;l.forEach(function(u){for(;c!==h.h&&c.l<=u;)c=c.B;h.G(u,c.L)})}return this.i}forEach(l){let h=this.p,c=0;for(;h!==this.h;)l(h.l,c++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=o;e.default=a}),_E=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(Cc()),i=Gg();function n(a){return a&&a.t?a:{default:a}}var r=class Xg extends i.RandomIterator{constructor(l,h,c){super(l,c),this.container=h}copy(){return new Xg(this.o,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(h/this.F),1);for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));let c=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-h%this.F>>1;let u=this;a.forEach(function(f){u.pushBack(f)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let h=0;h<l;++h)a[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)a[a.length]=this.A[h];for(let h=0;h<this.R;++h)a[a.length]=this.A[h];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let h=0;h<l;++h)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,h=l%this.F,c=h-1,u=this.j+(l-h)/this.F;return h===0&&(u-=1),u%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:u,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:h}=this.O(a);return this.A[l][h]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:c}=this.O(a);this.A[h][c]=l}insert(a,l,h=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;h--;)this.pushFront(l);else if(a===this.i)for(;h--;)this.pushBack(l);else{let c=[];for(let u=a;u<this.i;++u)c.push(this.getElementByPos(u));this.cut(a-1);for(let u=0;u<h;++u)this.pushBack(l);for(let u=0;u<c.length;++u)this.pushBack(c[u])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:h}=this.O(a);return this.R=l,this.N=h,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let c=a+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(a),this.popBack();let h=this;l.forEach(function(c){h.pushBack(c)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let u=this.getElementByPos(c);u!==a&&l.push(u)}let h=l.length;for(let c=0;c<h;++c)this.setElementByPos(c,l[c]);return this.cut(h-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new r(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let h=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,h),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let h=1;h<this.i;++h){let c=this.getElementByPos(h);c!==l&&(l=c,this.setElementByPos(a++,c))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let h=0;h<this.i;++h)l.push(this.getElementByPos(h));l.sort(a);for(let h=0;h<this.i;++h)this.setElementByPos(h,l[h])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},o=s;e.default=o}),wE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(n,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=r}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let r=n.tt;for(;r.U===n;)n=r,r=n.tt;n=r}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let r=n.tt;for(;r.W===n;)n=r,r=n.tt;return n.W!==r?r:n}}te(){let n=this.tt,r=this.W,s=r.U;return n.tt===this?n.tt=r:n.U===this?n.U=r:n.W=r,r.tt=n,r.U=this,this.tt=r,this.W=s,s&&(s.tt=this),r}se(){let n=this.tt,r=this.U,s=r.W;return n.tt===this?n.tt=r:n.U===this?n.U=r:n.W=r,r.tt=n,r.W=this,this.tt=r,this.U=s,s&&(s.tt=this),r}};e.TreeNode=t;var i=class extends t{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=i}),Zg=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=wE(),i=ln(),n=hn(),r=class extends i.Container{constructor(o=function(l,h){return l<h?-1:l>h?1:0},a=!1){super(),this.Y=void 0,this.v=o,a?(this.re=t.TreeNodeEnableIndex,this.M=function(l,h,c){let u=this.ne(l,h,c);if(u){let f=u.tt;for(;f!==this.h;)f.rt+=1,f=f.tt;let d=this.he(u);if(d){let{parentNode:g,grandParent:y,curNode:_}=d;g.ie(),y.ie(),_.ie()}}return this.i},this.V=function(l){let h=this.fe(l);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=t.TreeNode,this.M=function(l,h,c){let u=this.ne(l,h,c);return u&&this.he(u),this.i},this.V=this.fe),this.h=new this.re}X(o,a){let l=this.h;for(;o;){let h=this.v(o.u,a);if(h<0)o=o.W;else if(h>0)l=o,o=o.U;else return o}return l}Z(o,a){let l=this.h;for(;o;)this.v(o.u,a)<=0?o=o.W:(l=o,o=o.U);return l}$(o,a){let l=this.h;for(;o;){let h=this.v(o.u,a);if(h<0)l=o,o=o.W;else if(h>0)o=o.U;else return o}return l}rr(o,a){let l=this.h;for(;o;)this.v(o.u,a)<0?(l=o,o=o.W):o=o.U;return l}ue(o){for(;;){let a=o.tt;if(a===this.h)return;if(o.ee===1){o.ee=0;return}if(o===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,o=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,o=a)}}}fe(o){if(this.i===1)return this.clear(),this.h;let a=o;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[o.u,a.u]=[a.u,o.u],[o.l,a.l]=[a.l,o.l],o=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(o,a){return o===void 0?!1:this.oe(o.U,a)||a(o)?!0:this.oe(o.W,a)}he(o){for(;;){let a=o.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let h=l.W;if(h&&h.ee===1){if(h.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.W){if(o.ee=0,o.U&&(o.U.tt=a),o.W&&(o.W.tt=l),a.W=o.U,l.U=o.W,o.U=a,o.W=l,l===this.Y)this.Y=o,this.h.tt=o;else{let c=l.tt;c.U===l?c.U=o:c.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let h=l.U;if(h&&h.ee===1){if(h.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.U){if(o.ee=0,o.U&&(o.U.tt=l),o.W&&(o.W.tt=a),l.W=o.U,a.U=o.W,o.U=l,o.W=a,l===this.Y)this.Y=o,this.h.tt=o;else{let c=l.tt;c.U===l?c.U=o:c.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(o,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(o,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,c=this.h.U,u=this.v(c.u,o);if(u===0){c.l=a;return}else if(u>0)c.U=new this.re(o,a),c.U.tt=c,h=c.U,this.h.U=h;else{let f=this.h.W,d=this.v(f.u,o);if(d===0){f.l=a;return}else if(d<0)f.W=new this.re(o,a),f.W.tt=f,h=f.W,this.h.W=h;else{if(l!==void 0){let g=l.o;if(g!==this.h){let y=this.v(g.u,o);if(y===0){g.l=a;return}else if(y>0){let _=g.L(),v=this.v(_.u,o);if(v===0){_.l=a;return}else v<0&&(h=new this.re(o,a),_.W===void 0?(_.W=h,h.tt=_):(g.U=h,h.tt=g))}}}if(h===void 0)for(h=this.Y;;){let g=this.v(h.u,o);if(g>0){if(h.U===void 0){h.U=new this.re(o,a),h.U.tt=h,h=h.U;break}h=h.U}else if(g<0){if(h.W===void 0){h.W=new this.re(o,a),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=a;return}}}}return this.i+=1,h}I(o,a){for(;o;){let l=this.v(o.u,a);if(l<0)o=o.W;else if(l>0)o=o.U;else return o}return o||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(o,a){let l=o.o;if(l===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let h=l.L().u;if(this.v(h,a)>=0)return!1;let c=l.B().u;return this.v(c,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(h){return o===a?(l.V(h),!0):(a+=1,!1)}),this.i}eraseElementByKey(o){if(this.i===0)return!1;let a=this.I(this.Y,o);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(o){let a=o.o;a===this.h&&(0,n.throwIteratorAccessError)();let l=a.W===void 0;return o.iteratorType===0?l&&o.next():(!l||a.U===void 0)&&o.next(),this.V(a),o}forEach(o){let a=0;for(let l of this)o(l,a++,this)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a,l=0;for(let h of this){if(l===o){a=h;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let o=function(a){return a?Math.max(o(a.U),o(a.W))+1:0};return o(this.Y)}},s=r;e.default=s}),Jg=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=ln(),i=hn(),n=class extends t.ContainerIterator{constructor(s,o,a){super(a),this.o=s,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,i.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,i.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,o=this.h.tt;if(s===this.h)return o?o.rt-1:0;let a=0;for(s.U&&(a+=s.U.rt);s!==o;){let l=s.tt;s===l.W&&(a+=1,l.U&&(a+=l.U.rt)),s=l}return a}},r=n;e.default=r}),vE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(Zg()),i=r(Jg()),n=hn();function r(l){return l&&l.t?l:{default:l}}var s=class tm extends i.default{constructor(h,c,u,f){super(h,c,f),this.container=u}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new tm(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.default{constructor(l=[],h,c){super(h,c);let u=this;l.forEach(function(f){u.insert(f)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,h){return this.M(l,void 0,h)}find(l){let h=this.I(this.Y,l);return new s(h,this.h,this)}lowerBound(l){let h=this.X(this.Y,l);return new s(h,this.h,this)}upperBound(l){let h=this.Z(this.Y,l);return new s(h,this.h,this)}reverseLowerBound(l){let h=this.$(this.Y,l);return new s(h,this.h,this)}reverseUpperBound(l){let h=this.rr(this.Y,l);return new s(h,this.h,this)}union(l){let h=this;return l.forEach(function(c){h.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;e.default=a}),SE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(Zg()),i=r(Jg()),n=hn();function r(l){return l&&l.t?l:{default:l}}var s=class em extends i.default{constructor(h,c,u,f){super(h,c,f),this.container=u}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let h=this;return new Proxy([],{get(c,u){if(u==="0")return h.o.u;if(u==="1")return h.o.l},set(c,u,f){if(u!=="1")throw new TypeError("props must be 1");return h.o.l=f,!0}})}copy(){return new em(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.default{constructor(l=[],h,c){super(h,c);let u=this;l.forEach(function(f){u.setElement(f[0],f[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let h=this.X(this.Y,l);return new s(h,this.h,this)}upperBound(l){let h=this.Z(this.Y,l);return new s(h,this.h,this)}reverseLowerBound(l){let h=this.$(this.Y,l);return new s(h,this.h,this)}reverseUpperBound(l){let h=this.rr(this.Y,l);return new s(h,this.h,this)}setElement(l,h,c){return this.M(l,h,c)}find(l){let h=this.I(this.Y,l);return new s(h,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let h=this;return l.forEach(function(c){h.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;e.default=a}),im=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(i){let n=typeof i;return n==="object"&&i!==null||n==="function"}}),nm=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=ln(),i=r(im()),n=hn();function r(a){return a&&a.t?a:{default:a}}var s=class extends t.ContainerIterator{constructor(a,l,h){super(h),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=s;var o=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:h}=a;l.B=h,h.L=l,a===this.p&&(this.p=h),a===this._&&(this._=l),this.i-=1}M(a,l,h){h===void 0&&(h=(0,i.default)(a));let c;if(h){let u=a[this.HASH_TAG];if(u!==void 0)return this.H[u].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:a,l,L:this._,B:this.h},this.H.push(c)}else{let u=this.g[a];if(u)return u.l=l,this.i;c={u:a,l,L:this._,B:this.h},this.g[a]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(a,l){if(l===void 0&&(l=(0,i.default)(a)),l){let h=a[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let h;if(l===void 0&&(l=(0,i.default)(a)),l){let c=a[this.HASH_TAG];if(c===void 0)return!1;delete a[this.HASH_TAG],h=this.H[c],delete this.H[c]}else{if(h=this.g[a],h===void 0)return!1;delete this.g[a]}return this.V(h),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,n.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};e.HashContainer=o}),xE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=nm(),i=hn(),n=class rm extends t.HashContainerIterator{constructor(a,l,h,c){super(a,l,c),this.container=h}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.u}copy(){return new rm(this.o,this.h,this.container,this.iteratorType)}},r=class extends t.HashContainer{constructor(o=[]){super();let a=this;o.forEach(function(l){a.insert(l)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(o,a){return this.M(o,void 0,a)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return a.u}find(o,a){let l=this.I(o,a);return new n(l,this.h,this)}forEach(o){let a=0,l=this.p;for(;l!==this.h;)o(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield o.u,o=o.B}).bind(this)()}},s=r;e.default=s}),kE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=nm(),i=r(im()),n=hn();function r(l){return l&&l.t?l:{default:l}}var s=class sm extends t.HashContainerIterator{constructor(h,c,u,f){super(h,c,f),this.container=u}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let h=this;return new Proxy([],{get(c,u){if(u==="0")return h.o.u;if(u==="1")return h.o.l},set(c,u,f){if(u!=="1")throw new TypeError("props must be 1");return h.o.l=f,!0}})}copy(){return new sm(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(l=[]){super();let h=this;l.forEach(function(c){h.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,h,c){return this.M(l,h,c)}getElementByKey(l,h){if(h===void 0&&(h=(0,i.default)(l)),h){let u=l[this.HASH_TAG];return u!==void 0?this.H[u].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let h=this.p;for(;l--;)h=h.B;return[h.u,h.l]}find(l,h){let c=this.I(l,h);return new s(c,this.h,this)}forEach(l){let h=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],h++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=o;e.default=a}),EE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return r.default}});var t=u(pE()),i=u(gE()),n=u(mE()),r=u(bE()),s=u(yE()),o=u(_E()),a=u(vE()),l=u(SE()),h=u(xE()),c=u(kE());function u(f){return f&&f.t?f:{default:f}}}),ME=wt((e,t)=>{ut(),dt(),ft();var i=EE().OrderedSet,n=rn()("number-allocator:trace"),r=rn()("number-allocator:error");function s(a,l){this.low=a,this.high=l}s.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},s.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function o(a,l){if(!(this instanceof o))return new o(a,l);this.min=a,this.max=l,this.ss=new i([],(h,c)=>h.compare(c)),n("Create"),this.clear()}o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,h=a.pointer.high,c=l;return c+1<=h?this.ss.updateKeyByIterator(a,new s(l+1,h)):this.ss.eraseElementByPos(0),n("alloc():"+c),c},o.prototype.use=function(a){let l=new s(a,a),h=this.ss.lowerBound(l);if(!h.equals(this.ss.end())){let c=h.pointer.low,u=h.pointer.high;return h.pointer.equals(l)?(this.ss.eraseElementByIterator(h),n("use():"+a),!0):c>a?!1:c===a?(this.ss.updateKeyByIterator(h,new s(c+1,u)),n("use():"+a),!0):u===a?(this.ss.updateKeyByIterator(h,new s(c,u-1)),n("use():"+a),!0):(this.ss.updateKeyByIterator(h,new s(a+1,u)),this.ss.insert(new s(c,a-1)),n("use():"+a),!0)}return n("use():failed"),!1},o.prototype.free=function(a){if(a<this.min||a>this.max){r("free():"+a+" is out of range");return}let l=new s(a,a),h=this.ss.upperBound(l);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(l);return}h.pre();let c=h.pointer.high;h.pointer.high+1===a?this.ss.updateKeyByIterator(h,new s(c,a)):this.ss.insert(l)}else if(h.equals(this.ss.begin()))if(a+1===h.pointer.low){let c=h.pointer.high;this.ss.updateKeyByIterator(h,new s(a,c))}else this.ss.insert(l);else{let c=h.pointer.low,u=h.pointer.high;h.pre();let f=h.pointer.low;h.pointer.high+1===a?a+1===c?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new s(f,u))):this.ss.updateKeyByIterator(h,new s(f,a)):a+1===c?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new s(a,u))):this.ss.insert(l)}n("free():"+a)},o.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},t.exports=o}),om=wt((e,t)=>{ut(),dt(),ft();var i=ME();t.exports.NumberAllocator=i}),AE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=dE(),i=om(),n=class{constructor(r){r>0&&(this.aliasToTopic=new t.LRUCache({max:r}),this.topicToAlias={},this.numberAllocator=new i.NumberAllocator(1,r),this.max=r,this.length=0)}put(r,s){if(s===0||s>this.max)return!1;let o=this.aliasToTopic.get(s);return o&&delete this.topicToAlias[o],this.aliasToTopic.set(s,r),this.topicToAlias[r]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(r){return this.aliasToTopic.get(r)}getAliasByTopic(r){let s=this.topicToAlias[r];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=n}),TE=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var i=ha(),n=t(AE()),r=Dr(),s=(o,a)=>{o.log("_handleConnack");let{options:l}=o,h=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(o.connackTimer),delete o.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){o.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(o.topicAliasSend=new n.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(h===0)o.reconnecting=!1,o._onConnect(a);else if(h>0){let c=new r.ErrorWithReasonCode(`Connection refused: ${i.ReasonCodes[h]}`,h);o.emit("error",c)}};e.default=s}),OE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=(i,n,r)=>{i.log("handling pubrel packet");let s=typeof r<"u"?r:i.noop,{messageId:o}=n,a={cmd:"pubcomp",messageId:o};i.incomingStore.get(n,(l,h)=>{l?i._sendPacket(a,s):(i.emit("message",h.topic,h.payload,h),i.handleMessage(h,c=>{if(c)return s(c);i.incomingStore.del(h,i.noop),i._sendPacket(a,s)}))})};e.default=t}),PE=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(cE()),n=t(fE()),r=t(TE()),s=t(ha()),o=t(OE()),a=(l,h,c)=>{let{options:u}=l;if(u.protocolVersion===5&&u.properties&&u.properties.maximumPacketSize&&u.properties.maximumPacketSize<h.length)return l.emit("error",new Error(`exceeding packets size ${h.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",h),h.cmd){case"publish":(0,i.default)(l,h,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,h),c();break;case"pubrel":l.reschedulePing(),(0,o.default)(l,h,c);break;case"connack":(0,r.default)(l,h),c();break;case"auth":l.reschedulePing(),(0,n.default)(l,h),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",h),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};e.default=a}),IE=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var i=t((Rr(),ne(fr))),n=Dr(),r=class{};e.TypedEventEmitter=r,(0,n.applyMixin)(r,i.default)}),ca=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var s;return typeof window<"u"?typeof navigator<"u"&&((s=navigator.userAgent)===null||s===void 0?void 0:s.toLowerCase().indexOf(" electron/"))>-1&&Qt!=null&&Qt.versions?!Object.prototype.hasOwnProperty.call(Qt.versions,"electron"):typeof window.document<"u":!1},i=()=>{var s,o;return!!(typeof self=="object"&&!((o=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||o===void 0)&&o.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",r=t()||i()||n();e.isWebWorker=i(),e.isReactNativeBrowser=n(),e.default=r}),CE=wt((e,t)=>{ut(),dt(),ft(),function(i,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.fastUniqueNumbers={}))}(e,function(i){var n=function(d){return function(g){var y=d(g);return g.add(y),y}},r=function(d){return function(g,y){return d.set(g,y),y}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=o*2,l=function(d,g){return function(y){var _=g.get(y),v=_===void 0?y.size:_<a?_+1:0;if(!y.has(v))return d(y,v);if(y.size<o){for(;y.has(v);)v=Math.floor(Math.random()*a);return d(y,v)}if(y.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(v);)v=Math.floor(Math.random()*s);return d(y,v)}},h=new WeakMap,c=r(h),u=l(c,h),f=n(u);i.addUniqueNumber=f,i.generateUniqueNumber=u})}),RE=wt((e,t)=>{ut(),dt(),ft(),function(i,n){typeof e=="object"&&typeof t<"u"?n(e,CE()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.workerTimersBroker={},i.fastUniqueNumbers))}(e,function(i,n){var r=function(a){return a.method!==void 0&&a.method==="call"},s=function(a){return a.error===null&&typeof a.id=="number"},o=function(a){var l=new Map([[0,function(){}]]),h=new Map([[0,function(){}]]),c=new Map,u=new Worker(a);u.addEventListener("message",function(_){var v=_.data;if(r(v)){var w=v.params,S=w.timerId,M=w.timerType;if(M==="interval"){var T=l.get(S);if(typeof T=="number"){var E=c.get(T);if(E===void 0||E.timerId!==S||E.timerType!==M)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T();else throw new Error("The timer is in an undefined state.")}else if(M==="timeout"){var k=h.get(S);if(typeof k=="number"){var O=c.get(k);if(O===void 0||O.timerId!==S||O.timerType!==M)throw new Error("The timer is in an undefined state.")}else if(typeof k<"u")k(),h.delete(S);else throw new Error("The timer is in an undefined state.")}}else if(s(v)){var F=v.id,V=c.get(F);if(V===void 0)throw new Error("The timer is in an undefined state.");var q=V.timerId,A=V.timerType;c.delete(F),A==="interval"?l.delete(q):h.delete(q)}else{var Y=v.error.message;throw new Error(Y)}});var f=function(_){var v=n.generateUniqueNumber(c);c.set(v,{timerId:_,timerType:"interval"}),l.set(_,v),u.postMessage({id:v,method:"clear",params:{timerId:_,timerType:"interval"}})},d=function(_){var v=n.generateUniqueNumber(c);c.set(v,{timerId:_,timerType:"timeout"}),h.set(_,v),u.postMessage({id:v,method:"clear",params:{timerId:_,timerType:"timeout"}})},g=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=n.generateUniqueNumber(l);return l.set(w,function(){_(),typeof l.get(w)=="function"&&u.postMessage({id:null,method:"set",params:{delay:v,now:performance.now(),timerId:w,timerType:"interval"}})}),u.postMessage({id:null,method:"set",params:{delay:v,now:performance.now(),timerId:w,timerType:"interval"}}),w},y=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=n.generateUniqueNumber(h);return h.set(w,_),u.postMessage({id:null,method:"set",params:{delay:v,now:performance.now(),timerId:w,timerType:"timeout"}}),w};return{clearInterval:f,clearTimeout:d,setInterval:g,setTimeout:y}};i.load=o})}),DE=wt((e,t)=>{ut(),dt(),ft(),function(i,n){typeof e=="object"&&typeof t<"u"?n(e,RE()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.workerTimers={},i.workerTimersBroker))}(e,function(i,n){var r=function(u,f){var d=null;return function(){if(d!==null)return d;var g=new Blob([f],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(g);return d=u(y),setTimeout(function(){return URL.revokeObjectURL(y)}),d}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,o=r(n.load,s),a=function(u){return o().clearInterval(u)},l=function(u){return o().clearTimeout(u)},h=function(){var u;return(u=o()).setInterval.apply(u,arguments)},c=function(){var u;return(u=o()).setTimeout.apply(u,arguments)};i.clearInterval=a,i.clearTimeout=l,i.setInterval=h,i.setTimeout=c})}),LE=wt(e=>{ut(),dt(),ft();var t=e&&e.__createBinding||(Object.create?function(h,c,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(c,u);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(h,f,d)}:function(h,c,u,f){f===void 0&&(f=u),h[f]=c[u]}),i=e&&e.__setModuleDefault||(Object.create?function(h,c){Object.defineProperty(h,"default",{enumerable:!0,value:c})}:function(h,c){h.default=c}),n=e&&e.__importStar||function(h){if(h&&h.__esModule)return h;var c={};if(h!=null)for(var u in h)u!=="default"&&Object.prototype.hasOwnProperty.call(h,u)&&t(c,h,u);return i(c,h),c};Object.defineProperty(e,"__esModule",{value:!0});var r=n(ca()),s=DE(),o={set:s.setInterval,clear:s.clearInterval},a={set:(h,c)=>setInterval(h,c),clear:h=>clearInterval(h)},l=h=>{switch(h){case"native":return a;case"worker":return o;case"auto":default:return r.default&&!r.isWebWorker&&!r.isReactNativeBrowser?o:a}};e.default=l}),am=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(LE()),n=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(r,s){this.destroyed=!1,this.client=r,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,i.default)(s),this.setKeepalive(r.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(r){if(r*=1e3,isNaN(r)||r<=0||r>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${r}`);this._keepalive=r,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${r}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let r=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+r,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=n}),Ah=wt(e=>{ut(),dt(),ft();var t=e&&e.__createBinding||(Object.create?function(T,E,k,O){O===void 0&&(O=k);var F=Object.getOwnPropertyDescriptor(E,k);(!F||("get"in F?!E.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return E[k]}}),Object.defineProperty(T,O,F)}:function(T,E,k,O){O===void 0&&(O=k),T[O]=E[k]}),i=e&&e.__setModuleDefault||(Object.create?function(T,E){Object.defineProperty(T,"default",{enumerable:!0,value:E})}:function(T,E){T.default=E}),n=e&&e.__importStar||function(T){if(T&&T.__esModule)return T;var E={};if(T!=null)for(var k in T)k!=="default"&&Object.prototype.hasOwnProperty.call(T,k)&&t(E,T,k);return i(E,T),E},r=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(kk()),o=r(oE()),a=r(Vg()),l=dr(),h=r(lE()),c=n(hE()),u=r(rn()),f=r(Hg()),d=r(PE()),g=Dr(),y=IE(),_=r(am()),v=n(ca()),w=globalThis.setImmediate||((...T)=>{let E=T.shift();(0,g.nextTick)(()=>{E(...T)})}),S={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},M=class Th extends y.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(E,k){super(),this.options=k||{};for(let O in S)typeof this.options[O]>"u"?this.options[O]=S[O]:this.options[O]=k[O];this.log=this.options.log||(0,u.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Th.VERSION),v.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",v.default?"browser":"node"),this.log("MqttClient :: options.protocol",k.protocol),this.log("MqttClient :: options.protocolVersion",k.protocolVersion),this.log("MqttClient :: options.username",k.username),this.log("MqttClient :: options.keepalive",k.keepalive),this.log("MqttClient :: options.reconnectPeriod",k.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",k.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",k.properties?k.properties.topicAliasMaximum:void 0),this.options.clientId=typeof k.clientId=="string"?k.clientId:Th.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=k.protocolVersion===5&&k.customHandleAcks?k.customHandleAcks:(...O)=>{O[3](null,0)},this.options.writeCache||(o.default.writeToStream.cacheNumbers=!1),this.streamBuilder=E,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=k.outgoingStore||new f.default,this.incomingStore=k.incomingStore||new f.default,this.queueQoSZero=k.queueQoSZero===void 0?!0:k.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,k.properties&&k.properties.topicAliasMaximum>0&&(k.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(k.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:O}=this,F=()=>{let V=O.shift();this.log("deliver :: entry %o",V);let q=null;if(!V){this._resubscribe();return}q=V.packet,this.log("deliver :: call _sendPacket for %o",q);let A=!0;q.messageId&&q.messageId!==0&&(this.messageIdProvider.register(q.messageId)||(A=!1)),A?this._sendPacket(q,Y=>{V.cb&&V.cb(Y),F()}):(this.log("messageId: %d has already used. The message is skipped and removed.",q.messageId),F())};this.log("connect :: sending queued packets"),F()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(E,k){k()}handleMessage(E,k){k()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var E;let k=new l.Writable,O=o.default.parser(this.options),F=null,V=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),O.on("packet",H=>{this.log("parser :: on packet push to packets array."),V.push(H)});let q=()=>{this.log("work :: getting next packet in queue");let H=V.shift();if(H)this.log("work :: packet pulled from queue"),(0,d.default)(this,H,A);else{this.log("work :: no packets in queue");let tt=F;F=null,this.log("work :: done flag is %s",!!tt),tt&&tt()}},A=()=>{if(V.length)(0,g.nextTick)(q);else{let H=F;F=null,H()}};k._write=(H,tt,X)=>{F=X,this.log("writable stream :: parsing buffer"),O.parse(H),q()};let Y=H=>{this.log("streamErrorHandler :: error",H.message),H.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",H)):this.noop(H)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(k),this.stream.on("error",Y),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let Z={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(Z.will=Object.assign(Object.assign({},this.options.will),{payload:(E=this.options.will)===null||E===void 0?void 0:E.payload})),this.topicAliasRecv&&(Z.properties||(Z.properties={}),this.topicAliasRecv&&(Z.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(Z),O.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let H=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(H)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(E,k,O,F){this.log("publish :: message `%s` to topic `%s`",k,E);let{options:V}=this;typeof O=="function"&&(F=O,O=null),O=O||{},O=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),O);let{qos:q,retain:A,dup:Y,properties:Z,cbStorePut:H}=O;if(this._checkDisconnecting(F))return this;let tt=()=>{let X=0;if((q===1||q===2)&&(X=this._nextId(),X===null))return this.log("No messageId left"),!1;let z={cmd:"publish",topic:E,payload:k,qos:q,retain:A,messageId:X,dup:Y};switch(V.protocolVersion===5&&(z.properties=Z),this.log("publish :: qos",q),q){case 1:case 2:this.outgoing[z.messageId]={volatile:!1,cb:F||this.noop},this.log("MqttClient:publish: packet cmd: %s",z.cmd),this._sendPacket(z,void 0,H);break;default:this.log("MqttClient:publish: packet cmd: %s",z.cmd),this._sendPacket(z,F,H);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!tt())&&this._storeProcessingQueue.push({invoke:tt,cbStorePut:O.cbStorePut,callback:F}),this}publishAsync(E,k,O){return new Promise((F,V)=>{this.publish(E,k,O,(q,A)=>{q?V(q):F(A)})})}subscribe(E,k,O){let F=this.options.protocolVersion;typeof k=="function"&&(O=k),O=O||this.noop;let V=!1,q=[];typeof E=="string"?(E=[E],q=E):Array.isArray(E)?q=E:typeof E=="object"&&(V=E.resubscribe,delete E.resubscribe,q=Object.keys(E));let A=c.validateTopics(q);if(A!==null)return w(O,new Error(`Invalid topic ${A}`)),this;if(this._checkDisconnecting(O))return this.log("subscribe: discconecting true"),this;let Y={qos:0};F===5&&(Y.nl=!1,Y.rap=!1,Y.rh=0),k=Object.assign(Object.assign({},Y),k);let Z=k.properties,H=[],tt=(z,it)=>{if(it=it||k,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,z)||this._resubscribeTopics[z].qos<it.qos||V){let rt={topic:z,qos:it.qos};F===5&&(rt.nl=it.nl,rt.rap=it.rap,rt.rh=it.rh,rt.properties=Z),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",rt.topic,rt.qos),H.push(rt)}};if(Array.isArray(E)?E.forEach(z=>{this.log("subscribe: array topic %s",z),tt(z)}):Object.keys(E).forEach(z=>{this.log("subscribe: object topic %s, %o",z,E[z]),tt(z,E[z])}),!H.length)return O(null,[]),this;let X=()=>{let z=this._nextId();if(z===null)return this.log("No messageId left"),!1;let it={cmd:"subscribe",subscriptions:H,messageId:z};if(Z&&(it.properties=Z),this.options.resubscribe){this.log("subscribe :: resubscribe true");let rt=[];H.forEach(yt=>{if(this.options.reconnectPeriod>0){let I={qos:yt.qos};F===5&&(I.nl=yt.nl||!1,I.rap=yt.rap||!1,I.rh=yt.rh||0,I.properties=yt.properties),this._resubscribeTopics[yt.topic]=I,rt.push(yt.topic)}}),this.messageIdToTopic[it.messageId]=rt}return this.outgoing[it.messageId]={volatile:!0,cb(rt,yt){if(!rt){let{granted:I}=yt;for(let K=0;K<I.length;K+=1)H[K].qos=I[K]}O(rt,H,yt)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(it),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!X())&&this._storeProcessingQueue.push({invoke:X,callback:O}),this}subscribeAsync(E,k){return new Promise((O,F)=>{this.subscribe(E,k,(V,q)=>{V?F(V):O(q)})})}unsubscribe(E,k,O){typeof E=="string"&&(E=[E]),typeof k=="function"&&(O=k),O=O||this.noop;let F=c.validateTopics(E);if(F!==null)return w(O,new Error(`Invalid topic ${F}`)),this;if(this._checkDisconnecting(O))return this;let V=()=>{let q=this._nextId();if(q===null)return this.log("No messageId left"),!1;let A={cmd:"unsubscribe",messageId:q,unsubscriptions:[]};return typeof E=="string"?A.unsubscriptions=[E]:Array.isArray(E)&&(A.unsubscriptions=E),this.options.resubscribe&&A.unsubscriptions.forEach(Y=>{delete this._resubscribeTopics[Y]}),typeof k=="object"&&k.properties&&(A.properties=k.properties),this.outgoing[A.messageId]={volatile:!0,cb:O},this.log("unsubscribe: call _sendPacket"),this._sendPacket(A),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!V())&&this._storeProcessingQueue.push({invoke:V,callback:O}),this}unsubscribeAsync(E,k){return new Promise((O,F)=>{this.unsubscribe(E,k,(V,q)=>{V?F(V):O(q)})})}end(E,k,O){this.log("end :: (%s)",this.options.clientId),(E==null||typeof E!="boolean")&&(O=O||k,k=E,E=!1),typeof k!="object"&&(O=O||k,k=null),this.log("end :: cb? %s",!!O),(!O||typeof O!="function")&&(O=this.noop);let F=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(q=>{this.outgoingStore.close(A=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),O){let Y=q||A;this.log("end :: closeStores: invoking callback with args"),O(Y)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},V=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,E),this._cleanUp(E,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(F)},k)};return this.disconnecting?(O(),this):(this._clearReconnect(),this.disconnecting=!0,!E&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,V,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),V()),this)}endAsync(E,k){return new Promise((O,F)=>{this.end(E,k,V=>{V?F(V):O()})})}removeOutgoingMessage(E){if(this.outgoing[E]){let{cb:k}=this.outgoing[E];this._removeOutgoingAndStoreMessage(E,()=>{k(new Error("Message removed"))})}return this}reconnect(E){this.log("client reconnect");let k=()=>{E?(this.options.incomingStore=E.incomingStore,this.options.outgoingStore=E.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=k:k(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(E=>{this.outgoing[E].volatile&&typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(E=>{typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_removeTopicAliasAndRecoverTopicName(E){let k;E.properties&&(k=E.properties.topicAlias);let O=E.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",k,O),O.length===0){if(typeof k>"u")return new Error("Unregistered Topic Alias");if(O=this.topicAliasSend.getTopicByAlias(k),typeof O>"u")return new Error("Unregistered Topic Alias");E.topic=O}k&&delete E.properties.topicAlias}_checkDisconnecting(E){return this.disconnecting&&(E&&E!==this.noop?E(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(E,k,O={}){if(k&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",k)),this.log("_cleanUp :: forced? %s",E),E)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let F=Object.assign({cmd:"disconnect"},O);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(F,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),w(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),k&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",k),k())}_storeAndSend(E,k,O){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",E.cmd);let F=E,V;if(F.cmd==="publish"&&(F=(0,h.default)(E),V=this._removeTopicAliasAndRecoverTopicName(F),V))return k&&k(V);this.outgoingStore.put(F,q=>{if(q)return k&&k(q);O(),this._writePacket(E,k)})}_applyTopicAlias(E){if(this.options.protocolVersion===5&&E.cmd==="publish"){let k;E.properties&&(k=E.properties.topicAlias);let O=E.topic.toString();if(this.topicAliasSend)if(k){if(O.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",O,k),!this.topicAliasSend.put(O,k)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",O,k),new Error("Sending Topic Alias out of range")}else O.length!==0&&(this.options.autoAssignTopicAlias?(k=this.topicAliasSend.getAliasByTopic(O),k?(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:k}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",O,k)):(k=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(O,k),E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:k}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",O,k))):this.options.autoUseTopicAlias&&(k=this.topicAliasSend.getAliasByTopic(O),k&&(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:k}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",O,k))));else if(k)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",O,k),new Error("Sending Topic Alias out of range")}}_noop(E){this.log("noop ::",E)}_writePacket(E,k){this.log("_writePacket :: packet: %O",E),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",E),this.log("_writePacket :: writing to stream");let O=o.default.writeToStream(E,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",O),!O&&k&&k!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",k)):k&&(this.log("_writePacket :: invoking cb"),k())}_sendPacket(E,k,O,F){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),O=O||this.noop,k=k||this.noop;let V=this._applyTopicAlias(E);if(V){k(V);return}if(!this.connected){if(E.cmd==="auth"){this._writePacket(E,k);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(E,k,O);return}if(F){this._writePacket(E,k);return}switch(E.cmd){case"publish":break;case"pubrel":this._storeAndSend(E,k,O);return;default:this._writePacket(E,k);return}switch(E.qos){case 2:case 1:this._storeAndSend(E,k,O);break;case 0:default:this._writePacket(E,k);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(E,k,O){this.log("_storePacket :: packet: %o",E),this.log("_storePacket :: cb? %s",!!k),O=O||this.noop;let F=E;if(F.cmd==="publish"){F=(0,h.default)(E);let q=this._removeTopicAliasAndRecoverTopicName(F);if(q)return k&&k(q)}let V=F.qos||0;V===0&&this.queueQoSZero||F.cmd!=="publish"?this.queue.push({packet:F,cb:k}):V>0?(k=this.outgoing[F.messageId]?this.outgoing[F.messageId].cb:null,this.outgoingStore.put(F,q=>{if(q)return k&&k(q);O()})):k&&k(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new _.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(E=!1){this.keepaliveManager&&this.options.keepalive&&(E||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let E=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&E.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let k=0;k<E.length;k++){let O={};O[E[k]]=this._resubscribeTopics[E[k]],O.resubscribe=!0,this.subscribe(O,{properties:O[E[k]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(E){if(this.disconnected){this.emit("connect",E);return}this.connackPacket=E,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let k=()=>{let O=this.outgoingStore.createStream(),F=()=>{O.destroy(),O=null,this._flushStoreProcessingQueue(),V()},V=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",F),O.on("error",A=>{V(),this._flushStoreProcessingQueue(),this.removeListener("close",F),this.emit("error",A)});let q=()=>{if(!O)return;let A=O.read(1),Y;if(!A){O.once("readable",q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[A.messageId]){q();return}!this.disconnecting&&!this.reconnectTimer?(Y=this.outgoing[A.messageId]?this.outgoing[A.messageId].cb:null,this.outgoing[A.messageId]={volatile:!1,cb(Z,H){Y&&Y(Z,H),q()}},this._packetIdsDuringStoreProcessing[A.messageId]=!0,this.messageIdProvider.register(A.messageId)?this._sendPacket(A,void 0,void 0,!0):this.log("messageId: %d has already used.",A.messageId)):O.destroy&&O.destroy()};O.on("end",()=>{let A=!0;for(let Y in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Y]){A=!1;break}this.removeListener("close",F),A?(V(),this._invokeAllStoreProcessingQueue(),this.emit("connect",E)):k()}),q()};k()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let E=this._storeProcessingQueue[0];if(E&&E.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let E of this._storeProcessingQueue)E.cbStorePut&&E.cbStorePut(new Error("Connection closed")),E.callback&&E.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(E,k){delete this.outgoing[E],this.outgoingStore.del({messageId:E},(O,F)=>{k(O,F),this.messageIdProvider.deallocate(E),this._invokeStoreProcessingQueue()})}};M.VERSION=g.MQTTJS_VERSION,e.default=M}),BE=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=om(),i=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};e.default=i});function zn(e){throw new RangeError(hm[e])}function zf(e,t){let i=e.split("@"),n="";i.length>1&&(n=i[0]+"@",e=i[1]);let r=function(s,o){let a=[],l=s.length;for(;l--;)a[l]=o(s[l]);return a}((e=e.replace(lm,".")).split("."),t).join(".");return n+r}function Vf(e){let t=[],i=0,n=e.length;for(;i<n;){let r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){let s=e.charCodeAt(i++);(64512&s)==56320?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),i--)}else t.push(r)}return t}var Hf,$f,lm,hm,ci,Zs,Ba,Na,Fa,Ua,pn,NE=Fe(()=>{ut(),dt(),ft(),Hf=/^xn--/,$f=/[^\0-\x7E]/,lm=/[\x2E\u3002\uFF0E\uFF61]/g,hm={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ci=Math.floor,Zs=String.fromCharCode,Ba=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Na=function(e,t,i){let n=0;for(e=i?ci(e/700):e>>1,e+=ci(e/t);e>455;n+=36)e=ci(e/35);return ci(n+36*e/(e+38))},Fa=function(e){let t=[],i=e.length,n=0,r=128,s=72,o=e.lastIndexOf("-");o<0&&(o=0);for(let l=0;l<o;++l)e.charCodeAt(l)>=128&&zn("not-basic"),t.push(e.charCodeAt(l));for(let l=o>0?o+1:0;l<i;){let h=n;for(let u=1,f=36;;f+=36){l>=i&&zn("invalid-input");let d=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(d>=36||d>ci((2147483647-n)/u))&&zn("overflow"),n+=d*u;let g=f<=s?1:f>=s+26?26:f-s;if(d<g)break;let y=36-g;u>ci(2147483647/y)&&zn("overflow"),u*=y}let c=t.length+1;s=Na(n-h,c,h==0),ci(n/c)>2147483647-r&&zn("overflow"),r+=ci(n/c),n%=c,t.splice(n++,0,r)}var a;return String.fromCodePoint(...t)},Ua=function(e){let t=[],i=(e=Vf(e)).length,n=128,r=0,s=72;for(let l of e)l<128&&t.push(Zs(l));let o=t.length,a=o;for(o&&t.push("-");a<i;){let l=2147483647;for(let c of e)c>=n&&c<l&&(l=c);let h=a+1;l-n>ci((2147483647-r)/h)&&zn("overflow"),r+=(l-n)*h,n=l;for(let c of e)if(c<n&&++r>2147483647&&zn("overflow"),c==n){let u=r;for(let f=36;;f+=36){let d=f<=s?1:f>=s+26?26:f-s;if(u<d)break;let g=u-d,y=36-d;t.push(Zs(Ba(d+g%y,0))),u=ci(g/y)}t.push(Zs(Ba(u,0))),s=Na(r,h,a==o),r=0,++a}++r,++n}return t.join("")},pn={version:"2.1.0",ucs2:{decode:Vf,encode:e=>String.fromCodePoint(...e)},decode:Fa,encode:Ua,toASCII:function(e){return zf(e,function(t){return $f.test(t)?"xn--"+Ua(t):t})},toUnicode:function(e){return zf(e,function(t){return Hf.test(t)?Fa(t.slice(4).toLowerCase()):t})}},pn.decode,pn.encode,pn.toASCII,pn.toUnicode,pn.ucs2,pn.version});function FE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var qf,br,Gf,xi,UE=Fe(()=>{ut(),dt(),ft(),qf=function(e,t,i,n){t=t||"&",i=i||"=";var r={};if(typeof e!="string"||e.length===0)return r;var s=/\+/g;e=e.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var h,c,u,f,d=e[l].replace(s,"%20"),g=d.indexOf(i);g>=0?(h=d.substr(0,g),c=d.substr(g+1)):(h=d,c=""),u=decodeURIComponent(h),f=decodeURIComponent(c),FE(r,u)?Array.isArray(r[u])?r[u].push(f):r[u]=[r[u],f]:r[u]=f}return r},br=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Gf=function(e,t,i,n){return t=t||"&",i=i||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(r){var s=encodeURIComponent(br(r))+i;return Array.isArray(e[r])?e[r].map(function(o){return s+encodeURIComponent(br(o))}).join(t):s+encodeURIComponent(br(e[r]))}).join(t):n?encodeURIComponent(br(n))+i+encodeURIComponent(br(e)):""},xi={},xi.decode=xi.parse=qf,xi.encode=xi.stringify=Gf,xi.decode,xi.encode,xi.parse,xi.stringify});function Oh(){throw new Error("setTimeout has not been defined")}function Ph(){throw new Error("clearTimeout has not been defined")}function cm(e){if(ji===setTimeout)return setTimeout(e,0);if((ji===Oh||!ji)&&setTimeout)return ji=setTimeout,setTimeout(e,0);try{return ji(e,0)}catch{try{return ji.call(null,e,0)}catch{return ji.call(this||nr,e,0)}}}function jE(){rr&&Zn&&(rr=!1,Zn.length?Ai=Zn.concat(Ai):ls=-1,Ai.length&&um())}function um(){if(!rr){var e=cm(jE);rr=!0;for(var t=Ai.length;t;){for(Zn=Ai,Ai=[];++ls<t;)Zn&&Zn[ls].run();ls=-1,t=Ai.length}Zn=null,rr=!1,function(i){if(Wi===clearTimeout)return clearTimeout(i);if((Wi===Ph||!Wi)&&clearTimeout)return Wi=clearTimeout,clearTimeout(i);try{Wi(i)}catch{try{return Wi.call(null,i)}catch{return Wi.call(this||nr,i)}}}(e)}}function Kf(e,t){(this||nr).fun=e,(this||nr).array=t}function Di(){}var Qf,ji,Wi,nr,xe,Zn,Ai,rr,ls,we,WE=Fe(()=>{ut(),dt(),ft(),nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,xe=Qf={},function(){try{ji=typeof setTimeout=="function"?setTimeout:Oh}catch{ji=Oh}try{Wi=typeof clearTimeout=="function"?clearTimeout:Ph}catch{Wi=Ph}}(),Ai=[],rr=!1,ls=-1,xe.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];Ai.push(new Kf(e,t)),Ai.length!==1||rr||cm(um)},Kf.prototype.run=function(){(this||nr).fun.apply(null,(this||nr).array)},xe.title="browser",xe.browser=!0,xe.env={},xe.argv=[],xe.version="",xe.versions={},xe.on=Di,xe.addListener=Di,xe.once=Di,xe.off=Di,xe.removeListener=Di,xe.removeAllListeners=Di,xe.emit=Di,xe.prependListener=Di,xe.prependOnceListener=Di,xe.listeners=function(e){return[]},xe.binding=function(e){throw new Error("process.binding is not supported")},xe.cwd=function(){return"/"},xe.chdir=function(e){throw new Error("process.chdir is not supported")},xe.umask=function(){return 0},we=Qf,we.addListener,we.argv,we.binding,we.browser,we.chdir,we.cwd,we.emit,we.env,we.listeners,we.nextTick,we.off,we.on,we.once,we.prependListener,we.prependOnceListener,we.removeAllListeners,we.removeListener,we.title,we.umask,we.version,we.versions});function YE(){if(Ih)return vo;Ih=!0;var e=vo={},t,i;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?i=clearTimeout:i=r}catch{i=r}})();function s(y){if(t===setTimeout)return setTimeout(y,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(y,0);try{return t(y,0)}catch{try{return t.call(null,y,0)}catch{return t.call(this||qn,y,0)}}}function o(y){if(i===clearTimeout)return clearTimeout(y);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(y);try{return i(y)}catch{try{return i.call(null,y)}catch{return i.call(this||qn,y)}}}var a=[],l=!1,h,c=-1;function u(){!l||!h||(l=!1,h.length?a=h.concat(a):c=-1,a.length&&f())}function f(){if(!l){var y=s(u);l=!0;for(var _=a.length;_;){for(h=a,a=[];++c<_;)h&&h[c].run();c=-1,_=a.length}h=null,l=!1,o(y)}}e.nextTick=function(y){var _=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)_[v-1]=arguments[v];a.push(new d(y,_)),a.length===1&&!l&&s(f)};function d(y,_){(this||qn).fun=y,(this||qn).array=_}d.prototype.run=function(){(this||qn).fun.apply(null,(this||qn).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},vo}var vo,Ih,qn,me,fm=Fe(()=>{ut(),dt(),ft(),vo={},Ih=!1,qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,me=YE(),me.platform="browser",me.addListener,me.argv,me.binding,me.browser,me.chdir,me.cwd,me.emit,me.env,me.listeners,me.nextTick,me.off,me.on,me.once,me.prependListener,me.prependOnceListener,me.removeAllListeners,me.removeListener,me.title,me.umask,me.version,me.versions});function zE(){if(Ch)return So;Ch=!0;var e=me;function t(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function i(s,o){for(var a="",l=0,h=-1,c=0,u,f=0;f<=s.length;++f){if(f<s.length)u=s.charCodeAt(f);else{if(u===47)break;u=47}if(u===47){if(!(h===f-1||c===1))if(h!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var d=a.lastIndexOf("/");if(d!==a.length-1){d===-1?(a="",l=0):(a=a.slice(0,d),l=a.length-1-a.lastIndexOf("/")),h=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,h=f,c=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(h+1,f):a=s.slice(h+1,f),l=f-h-1;h=f,c=0}else u===46&&c!==-1?++c:c=-1}return a}function n(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var r={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var h;l>=0?h=arguments[l]:(a===void 0&&(a=e.cwd()),h=a),t(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=i(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=i(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];t(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":r.normalize(s)},relative:function(s,o){if(t(s),t(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,h=l-a,c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var u=o.length,f=u-c,d=h<f?h:f,g=-1,y=0;y<=d;++y){if(y===d){if(f>d){if(o.charCodeAt(c+y)===47)return o.slice(c+y+1);if(y===0)return o.slice(c+y)}else h>d&&(s.charCodeAt(a+y)===47?g=y:y===0&&(g=0));break}var _=s.charCodeAt(a+y),v=o.charCodeAt(c+y);if(_!==v)break;_===47&&(g=y)}var w="";for(y=a+g+1;y<=l;++y)(y===l||s.charCodeAt(y)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+o.slice(c+g):(c+=g,o.charCodeAt(c)===47&&++c,o.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,h=!0,c=s.length-1;c>=1;--c)if(o=s.charCodeAt(c),o===47){if(!h){l=c;break}}else h=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');t(s);var a=0,l=-1,h=!0,c;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var u=o.length-1,f=-1;for(c=s.length-1;c>=0;--c){var d=s.charCodeAt(c);if(d===47){if(!h){a=c+1;break}}else f===-1&&(h=!1,f=c+1),u>=0&&(d===o.charCodeAt(u)?--u===-1&&(l=c):(u=-1,l=f))}return a===l?l=f:l===-1&&(l=s.length),s.slice(a,l)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!h){a=c+1;break}}else l===-1&&(h=!1,l=c+1);return l===-1?"":s.slice(a,l)}},extname:function(s){t(s);for(var o=-1,a=0,l=-1,h=!0,c=0,u=s.length-1;u>=0;--u){var f=s.charCodeAt(u);if(f===47){if(!h){a=u+1;break}continue}l===-1&&(h=!1,l=u+1),f===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,h;l?(o.root="/",h=1):h=0;for(var c=-1,u=0,f=-1,d=!0,g=s.length-1,y=0;g>=h;--g){if(a=s.charCodeAt(g),a===47){if(!d){u=g+1;break}continue}f===-1&&(d=!1,f=g+1),a===46?c===-1?c=g:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||f===-1||y===0||y===1&&c===f-1&&c===u+1?f!==-1&&(u===0&&l?o.base=o.name=s.slice(1,f):o.base=o.name=s.slice(u,f)):(u===0&&l?(o.name=s.slice(1,c),o.base=s.slice(1,f)):(o.name=s.slice(u,c),o.base=s.slice(u,f)),o.ext=s.slice(c,f)),u>0?o.dir=s.slice(0,u-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,So=r,So}var So,Ch,Rh,VE=Fe(()=>{ut(),dt(),ft(),fm(),So={},Ch=!1,Rh=zE()}),dm={};cr(dm,{URL:()=>Im,Url:()=>Mm,default:()=>Jt,fileURLToPath:()=>pm,format:()=>Am,parse:()=>Pm,pathToFileURL:()=>gm,resolve:()=>Tm,resolveObject:()=>Om});function ri(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Hr(e,t,i){if(e&&fi.isObject(e)&&e instanceof ri)return e;var n=new ri;return n.parse(e,t,i),n}function HE(){if(Dh)return xo;Dh=!0;var e=we;function t(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function i(s,o){for(var a="",l=0,h=-1,c=0,u,f=0;f<=s.length;++f){if(f<s.length)u=s.charCodeAt(f);else{if(u===47)break;u=47}if(u===47){if(!(h===f-1||c===1))if(h!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var d=a.lastIndexOf("/");if(d!==a.length-1){d===-1?(a="",l=0):(a=a.slice(0,d),l=a.length-1-a.lastIndexOf("/")),h=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,h=f,c=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(h+1,f):a=s.slice(h+1,f),l=f-h-1;h=f,c=0}else u===46&&c!==-1?++c:c=-1}return a}function n(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var r={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var h;l>=0?h=arguments[l]:(a===void 0&&(a=e.cwd()),h=a),t(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=i(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=i(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];t(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":r.normalize(s)},relative:function(s,o){if(t(s),t(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,h=l-a,c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var u=o.length,f=u-c,d=h<f?h:f,g=-1,y=0;y<=d;++y){if(y===d){if(f>d){if(o.charCodeAt(c+y)===47)return o.slice(c+y+1);if(y===0)return o.slice(c+y)}else h>d&&(s.charCodeAt(a+y)===47?g=y:y===0&&(g=0));break}var _=s.charCodeAt(a+y),v=o.charCodeAt(c+y);if(_!==v)break;_===47&&(g=y)}var w="";for(y=a+g+1;y<=l;++y)(y===l||s.charCodeAt(y)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+o.slice(c+g):(c+=g,o.charCodeAt(c)===47&&++c,o.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,h=!0,c=s.length-1;c>=1;--c)if(o=s.charCodeAt(c),o===47){if(!h){l=c;break}}else h=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');t(s);var a=0,l=-1,h=!0,c;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var u=o.length-1,f=-1;for(c=s.length-1;c>=0;--c){var d=s.charCodeAt(c);if(d===47){if(!h){a=c+1;break}}else f===-1&&(h=!1,f=c+1),u>=0&&(d===o.charCodeAt(u)?--u===-1&&(l=c):(u=-1,l=f))}return a===l?l=f:l===-1&&(l=s.length),s.slice(a,l)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!h){a=c+1;break}}else l===-1&&(h=!1,l=c+1);return l===-1?"":s.slice(a,l)}},extname:function(s){t(s);for(var o=-1,a=0,l=-1,h=!0,c=0,u=s.length-1;u>=0;--u){var f=s.charCodeAt(u);if(f===47){if(!h){a=u+1;break}continue}l===-1&&(h=!1,l=u+1),f===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,h;l?(o.root="/",h=1):h=0;for(var c=-1,u=0,f=-1,d=!0,g=s.length-1,y=0;g>=h;--g){if(a=s.charCodeAt(g),a===47){if(!d){u=g+1;break}continue}f===-1&&(d=!1,f=g+1),a===46?c===-1?c=g:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||f===-1||y===0||y===1&&c===f-1&&c===u+1?f!==-1&&(u===0&&l?o.base=o.name=s.slice(1,f):o.base=o.name=s.slice(u,f)):(u===0&&l?(o.name=s.slice(1,c),o.base=s.slice(1,f)):(o.name=s.slice(u,c),o.base=s.slice(u,f)),o.ext=s.slice(c,f)),u>0?o.dir=s.slice(0,u-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,xo=r,xo}function $E(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jo?qE(e):GE(e)}function qE(e){let t=e.hostname,i=e.pathname;for(let n=0;n<i.length;n++)if(i[n]==="%"){let r=i.codePointAt(n+2)||32;if(i[n+1]==="2"&&r===102||i[n+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(i=i.replace(wm,"\\"),i=decodeURIComponent(i),t!=="")return`\\\\${t}${i}`;{let n=i.codePointAt(1)|32,r=i[2];if(n<ym||n>_m||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return i.slice(1)}}function GE(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let i=0;i<t.length;i++)if(t[i]==="%"){let n=t.codePointAt(i+2)||32;if(t[i+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function KE(e){let t=Lh.resolve(e),i=e.charCodeAt(e.length-1);(i===bm||jo&&i===mm)&&t[t.length-1]!==Lh.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(vm,"%25")),!jo&&t.includes("\\")&&(t=t.replace(Sm,"%5C")),t.includes(`
`)&&(t=t.replace(xm,"%0A")),t.includes("\r")&&(t=t.replace(km,"%0D")),t.includes("	")&&(t=t.replace(Em,"%09")),n.pathname=t,n}function pm(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Wo?QE(e):XE(e)}function QE(e){let t=e.hostname,i=e.pathname;for(let n=0;n<i.length;n++)if(i[n]==="%"){let r=i.codePointAt(n+2)||32;if(i[n+1]==="2"&&r===102||i[n+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(i=i.replace(Bm,"\\"),i=decodeURIComponent(i),t!=="")return`\\\\${t}${i}`;{let n=i.codePointAt(1)|32,r=i[2];if(n<Dm||n>Lm||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return i.slice(1)}}function XE(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let i=0;i<t.length;i++)if(t[i]==="%"){let n=t.codePointAt(i+2)||32;if(t[i+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function gm(e){let t=Rh.resolve(e),i=e.charCodeAt(e.length-1);(i===Rm||Wo&&i===Cm)&&t[t.length-1]!==Rh.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(Nm,"%25")),!Wo&&t.includes("\\")&&(t=t.replace(Fm,"%5C")),t.includes(`
`)&&(t=t.replace(Um,"%0A")),t.includes("\r")&&(t=t.replace(jm,"%0D")),t.includes("	")&&(t=t.replace(Wm,"%09")),n.pathname=t,n}var Jt,Xf,fi,Zf,Jf,td,ed,Js,ja,Wa,Ya,id,nd,to,Vn,eo,xo,Dh,Lh,rd,mm,bm,ym,_m,jo,wm,vm,Sm,xm,km,Em,sd,Mm,Am,Tm,Om,Pm,Im,Cm,Rm,Dm,Lm,Wo,Bm,Nm,Fm,Um,jm,Wm,ZE=Fe(()=>{ut(),dt(),ft(),NE(),UE(),WE(),VE(),fm(),Jt={},Xf=pn,fi={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Jt.parse=Hr,Jt.resolve=function(e,t){return Hr(e,!1,!0).resolve(t)},Jt.resolveObject=function(e,t){return e?Hr(e,!1,!0).resolveObject(t):t},Jt.format=function(e){return fi.isString(e)&&(e=Hr(e)),e instanceof ri?e.format():ri.prototype.format.call(e)},Jt.Url=ri,Zf=/^([a-z0-9.+-]+:)/i,Jf=/:[0-9]*$/,td=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ed=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Js=["'"].concat(ed),ja=["%","/","?",";","#"].concat(Js),Wa=["/","?","#"],Ya=/^[+a-z0-9A-Z_-]{0,63}$/,id=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,nd={javascript:!0,"javascript:":!0},to={javascript:!0,"javascript:":!0},Vn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},eo=xi,ri.prototype.parse=function(e,t,i){if(!fi.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),r=n!==-1&&n<e.indexOf("#")?"?":"#",s=e.split(r);s[0]=s[0].replace(/\\/g,"/");var o=e=s.join(r);if(o=o.trim(),!i&&e.split("#").length===1){var a=td.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?eo.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=Zf.exec(o);if(l){var h=(l=l[0]).toLowerCase();this.protocol=h,o=o.substr(l.length)}if(i||l||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=o.substr(0,2)==="//";!c||l&&to[l]||(o=o.substr(2),this.slashes=!0)}if(!to[l]&&(c||l&&!Vn[l])){for(var u,f,d=-1,g=0;g<Wa.length;g++)(y=o.indexOf(Wa[g]))!==-1&&(d===-1||y<d)&&(d=y);for((f=d===-1?o.lastIndexOf("@"):o.lastIndexOf("@",d))!==-1&&(u=o.slice(0,f),o=o.slice(f+1),this.auth=decodeURIComponent(u)),d=-1,g=0;g<ja.length;g++){var y;(y=o.indexOf(ja[g]))!==-1&&(d===-1||y<d)&&(d=y)}d===-1&&(d=o.length),this.host=o.slice(0,d),o=o.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var v=this.hostname.split(/\./),w=(g=0,v.length);g<w;g++){var S=v[g];if(S&&!S.match(Ya)){for(var M="",T=0,E=S.length;T<E;T++)S.charCodeAt(T)>127?M+="x":M+=S[T];if(!M.match(Ya)){var k=v.slice(0,g),O=v.slice(g+1),F=S.match(id);F&&(k.push(F[1]),O.unshift(F[2])),O.length&&(o="/"+O.join(".")+o),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=Xf.toASCII(this.hostname));var V=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+V,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!nd[h])for(g=0,w=Js.length;g<w;g++){var A=Js[g];if(o.indexOf(A)!==-1){var Y=encodeURIComponent(A);Y===A&&(Y=escape(A)),o=o.split(A).join(Y)}}var Z=o.indexOf("#");Z!==-1&&(this.hash=o.substr(Z),o=o.slice(0,Z));var H=o.indexOf("?");if(H!==-1?(this.search=o.substr(H),this.query=o.substr(H+1),t&&(this.query=eo.parse(this.query)),o=o.slice(0,H)):t&&(this.search="",this.query={}),o&&(this.pathname=o),Vn[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var tt=this.search||"";this.path=V+tt}return this.href=this.format(),this},ri.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&fi.isObject(this.query)&&Object.keys(this.query).length&&(s=eo.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Vn[t])&&r!==!1?(r="//"+(r||""),i&&i.charAt(0)!=="/"&&(i="/"+i)):r||(r=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),t+r+(i=i.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+n},ri.prototype.resolve=function(e){return this.resolveObject(Hr(e,!1,!0)).format()},ri.prototype.resolveObject=function(e){if(fi.isString(e)){var t=new ri;t.parse(e,!1,!0),e=t}for(var i=new ri,n=Object.keys(this),r=0;r<n.length;r++){var s=n[r];i[s]=this[s]}if(i.hash=e.hash,e.href==="")return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(i[l]=e[l])}return Vn[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!Vn[e.protocol]){for(var h=Object.keys(e),c=0;c<h.length;c++){var u=h[c];i[u]=e[u]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||to[e.protocol])i.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),f[0]!==""&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var d=i.pathname||"",g=i.search||"";i.path=d+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&i.pathname.charAt(0)==="/",_=e.host||e.pathname&&e.pathname.charAt(0)==="/",v=_||y||i.host&&e.pathname,w=v,S=i.pathname&&i.pathname.split("/")||[],M=(f=e.pathname&&e.pathname.split("/")||[],i.protocol&&!Vn[i.protocol]);if(M&&(i.hostname="",i.port=null,i.host&&(S[0]===""?S[0]=i.host:S.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(f[0]===""?f[0]=e.host:f.unshift(e.host)),e.host=null),v=v&&(f[0]===""||S[0]==="")),_)i.host=e.host||e.host===""?e.host:i.host,i.hostname=e.hostname||e.hostname===""?e.hostname:i.hostname,i.search=e.search,i.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),i.search=e.search,i.query=e.query;else if(!fi.isNullOrUndefined(e.search))return M&&(i.hostname=i.host=S.shift(),(F=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=F.shift(),i.host=i.hostname=F.shift())),i.search=e.search,i.query=e.query,fi.isNull(i.pathname)&&fi.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!S.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=S.slice(-1)[0],E=(i.host||e.host||S.length>1)&&(T==="."||T==="..")||T==="",k=0,O=S.length;O>=0;O--)(T=S[O])==="."?S.splice(O,1):T===".."?(S.splice(O,1),k++):k&&(S.splice(O,1),k--);if(!v&&!w)for(;k--;k)S.unshift("..");!v||S[0]===""||S[0]&&S[0].charAt(0)==="/"||S.unshift(""),E&&S.join("/").substr(-1)!=="/"&&S.push("");var F,V=S[0]===""||S[0]&&S[0].charAt(0)==="/";return M&&(i.hostname=i.host=V?"":S.length?S.shift():"",(F=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=F.shift(),i.host=i.hostname=F.shift())),(v=v||i.host&&S.length)&&!V&&S.unshift(""),S.length?i.pathname=S.join("/"):(i.pathname=null,i.path=null),fi.isNull(i.pathname)&&fi.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},ri.prototype.parseHost=function(){var e=this.host,t=Jf.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Jt.Url,Jt.format,Jt.resolve,Jt.resolveObject,xo={},Dh=!1,Lh=HE(),rd=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jt.URL=typeof URL<"u"?URL:null,Jt.pathToFileURL=KE,Jt.fileURLToPath=$E,Jt.Url,Jt.format,Jt.resolve,Jt.resolveObject,Jt.URL,mm=92,bm=47,ym=97,_m=122,jo=rd==="win32",wm=/\//g,vm=/%/g,Sm=/\\/g,xm=/\n/g,km=/\r/g,Em=/\t/g,sd=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jt.URL=typeof URL<"u"?URL:null,Jt.pathToFileURL=gm,Jt.fileURLToPath=pm,Mm=Jt.Url,Am=Jt.format,Tm=Jt.resolve,Om=Jt.resolveObject,Pm=Jt.parse,Im=Jt.URL,Cm=92,Rm=47,Dm=97,Lm=122,Wo=sd==="win32",Bm=/\//g,Nm=/%/g,Fm=/\\/g,Um=/\n/g,jm=/\r/g,Wm=/\t/g}),JE=wt((e,t)=>{ut(),dt(),ft(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Rc=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var t=dr(),i=(je(),ne(Ue));function n(s,o){let a=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?a[l]=i.Buffer.from(s[l].chunk,"utf8"):a[l]=s[l].chunk;this._write(i.Buffer.concat(a),"binary",o)}e.writev=n;var r=class extends t.Duplex{constructor(s,o,a){super({objectMode:!0}),this.proxy=o,this.socket=a,this.writeQueue=[],s.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(s){this.proxy.read(s)}_write(s,o,a){this.isSocketOpen?this.writeToProxy(s,o,a):this.writeQueue.push({chunk:s,encoding:o,cb:a})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,o){this.writeQueue=[],this.proxy.destroy(),o(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,o,a){this.proxy.write(s,o)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:o,cb:a}=this.writeQueue.shift();this.writeToProxy(s,o,a)}}};e.BufferedDuplex=r}),io=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var i=(je(),ne(Ue)),n=t(JE()),r=t(rn()),s=dr(),o=t(ca()),a=Rc(),l=(0,r.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(v,w){let S=`${v.protocol}://${v.hostname}:${v.port}${v.path}`;return typeof v.transformWsUrl=="function"&&(S=v.transformWsUrl(S,v,w)),S}function u(v){let w=v;return v.port||(v.protocol==="wss"?w.port=443:w.port=80),v.path||(w.path="/"),v.wsOptions||(w.wsOptions={}),!o.default&&!v.forceNativeWebSocket&&v.protocol==="wss"&&h.forEach(S=>{Object.prototype.hasOwnProperty.call(v,S)&&!Object.prototype.hasOwnProperty.call(v.wsOptions,S)&&(w.wsOptions[S]=v[S])}),w}function f(v){let w=u(v);if(w.hostname||(w.hostname=w.host),!w.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let S=new URL(document.URL);w.hostname=S.hostname,w.port||(w.port=Number(S.port))}return w.objectMode===void 0&&(w.objectMode=!(w.binary===!0||w.binary===void 0)),w}function d(v,w,S){l("createWebSocket"),l(`protocol: ${S.protocolId} ${S.protocolVersion}`);let M=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${w} and protocol: ${M}`);let T;return S.createWebsocket?T=S.createWebsocket(w,[M],S):T=new n.default(w,[M],S.wsOptions),T}function g(v,w){let S=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt",M=c(w,v),T;return w.createWebsocket?T=w.createWebsocket(M,[S],w):T=new WebSocket(M,[S]),T.binaryType="arraybuffer",T}var y=(v,w)=>{l("streamBuilder");let S=u(w);S.hostname=S.hostname||S.host||"localhost";let M=c(S,v),T=d(v,M,S),E=n.default.createWebSocketStream(T,S.wsOptions);return E.url=M,T.on("close",()=>{E.destroy()}),E};e.streamBuilder=y;var _=(v,w)=>{l("browserStreamBuilder");let S,M=f(w).browserBufferSize||1024*512,T=w.browserBufferTimeout||1e3,E=!w.objectMode,k=g(v,w),O=V(w,H,tt);w.objectMode||(O._writev=a.writev.bind(O)),O.on("close",()=>{k.close()});let F=typeof k.addEventListener<"u";k.readyState===k.OPEN?(S=O,S.socket=k):(S=new a.BufferedDuplex(w,O,k),F?k.addEventListener("open",q):k.onopen=q),F?(k.addEventListener("close",A),k.addEventListener("error",Y),k.addEventListener("message",Z)):(k.onclose=A,k.onerror=Y,k.onmessage=Z);function V(X,z,it){let rt=new s.Transform({objectMode:X.objectMode});return rt._write=z,rt._flush=it,rt}function q(){l("WebSocket onOpen"),S instanceof a.BufferedDuplex&&S.socketReady()}function A(X){l("WebSocket onClose",X),S.end(),S.destroy()}function Y(X){l("WebSocket onError",X);let z=new Error("WebSocket error");z.event=X,S.destroy(z)}async function Z(X){let{data:z}=X;z instanceof ArrayBuffer?z=i.Buffer.from(z):z instanceof Blob?z=i.Buffer.from(await new Response(z).arrayBuffer()):z=i.Buffer.from(z,"utf8"),O&&!O.destroyed&&O.push(z)}function H(X,z,it){if(k.bufferedAmount>M){setTimeout(H,T,X,z,it);return}E&&typeof X=="string"&&(X=i.Buffer.from(X,"utf8"));try{k.send(X)}catch(rt){return it(rt)}it()}function tt(X){k.close(),X()}return S};e.browserStreamBuilder=_}),Dc={};cr(Dc,{Server:()=>ye,Socket:()=>ye,Stream:()=>ye,_createServerHandle:()=>ye,_normalizeArgs:()=>ye,_setSimultaneousAccepts:()=>ye,connect:()=>ye,createConnection:()=>ye,createServer:()=>ye,default:()=>Ym,isIP:()=>ye,isIPv4:()=>ye,isIPv6:()=>ye});function ye(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Ym,zm=Fe(()=>{ut(),dt(),ft(),Ym={_createServerHandle:ye,_normalizeArgs:ye,_setSimultaneousAccepts:ye,connect:ye,createConnection:ye,createServer:ye,isIP:ye,isIPv4:ye,isIPv6:ye,Server:ye,Socket:ye,Stream:ye}}),od=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var i=t((zm(),ne(Dc))),n=t(rn()),r=(0,n.default)("mqttjs:tcp"),s=(o,a)=>{a.port=a.port||1883,a.hostname=a.hostname||a.host||"localhost";let{port:l,path:h}=a,c=a.hostname;return r("port %d and host %s",l,c),i.default.createConnection({port:l,host:c,path:h})};e.default=s}),Vm={};cr(Vm,{default:()=>Hm});var Hm,tM=Fe(()=>{ut(),dt(),ft(),Hm={}}),ad=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var i=t((tM(),ne(Vm))),n=t((zm(),ne(Dc))),r=t(rn()),s=(0,r.default)("mqttjs:tls"),o=(a,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",n.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,s("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let h=i.default.connect(l);h.on("secureConnect",()=>{l.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",c)});function c(u){l.rejectUnauthorized&&a.emit("error",u),h.end()}return h.on("error",c),h};e.default=o}),ld=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=(je(),ne(Ue)),i=dr(),n=Rc(),r,s,o;function a(){let f=new i.Transform;return f._write=(d,g,y)=>{r.send({data:d.buffer,success(){y()},fail(_){y(new Error(_))}})},f._flush=d=>{r.close({success(){d()}})},f}function l(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function h(f,d){let g=f.protocol==="wxs"?"wss":"ws",y=`${g}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(y=`${g}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(y=f.transformWsUrl(y,f,d)),y}function c(){r.onOpen(()=>{o.socketReady()}),r.onMessage(f=>{let{data:d}=f;d instanceof ArrayBuffer?d=t.Buffer.from(d):d=t.Buffer.from(d,"utf8"),s.push(d)}),r.onClose(()=>{o.emit("close"),o.end(),o.destroy()}),r.onError(f=>{let d=new Error(f.errMsg);o.destroy(d)})}var u=(f,d)=>{if(d.hostname=d.hostname||d.host,!d.hostname)throw new Error("Could not determine host. Specify host manually.");let g=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt";l(d);let y=h(d,f);r=wx.connectSocket({url:y,protocols:[g]}),s=a(),o=new n.BufferedDuplex(d,s,r),o._destroy=(v,w)=>{r.close({success(){w&&w(v)}})};let _=o.destroy;return o.destroy=(v,w)=>(o.destroy=_,setTimeout(()=>{r.close({fail(){o._destroy(v,w)}})},0),o),c(),o};e.default=u}),hd=wt(e=>{ut(),dt(),ft(),Object.defineProperty(e,"__esModule",{value:!0});var t=(je(),ne(Ue)),i=dr(),n=Rc(),r,s,o,a=!1;function l(){let d=new i.Transform;return d._write=(g,y,_)=>{r.sendSocketMessage({data:g.buffer,success(){_()},fail(){_(new Error)}})},d._flush=g=>{r.closeSocket({success(){g()}})},d}function h(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function c(d,g){let y=d.protocol==="alis"?"wss":"ws",_=`${y}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(_=`${y}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(_=d.transformWsUrl(_,d,g)),_}function u(){a||(a=!0,r.onSocketOpen(()=>{o.socketReady()}),r.onSocketMessage(d=>{if(typeof d.data=="string"){let g=t.Buffer.from(d.data,"base64");s.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{let y=g.result;y instanceof ArrayBuffer?y=t.Buffer.from(y):y=t.Buffer.from(y,"utf8"),s.push(y)}),g.readAsArrayBuffer(d.data)}}),r.onSocketClose(()=>{o.end(),o.destroy()}),r.onSocketError(d=>{o.destroy(d)}))}var f=(d,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let y=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";h(g);let _=c(g,d);return r=g.my,r.connectSocket({url:_,protocols:y}),s=l(),o=new n.BufferedDuplex(g,s,r),u(),o};e.default=f}),eM=wt(e=>{ut(),dt(),ft();var t=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var i=t(rn()),n=t((ZE(),ne(dm))),r=t(Ah()),s=t(ca());typeof(Qt==null?void 0:Qt.nextTick)!="function"&&(Qt.nextTick=setImmediate);var o=(0,i.default)("mqttjs"),a=null;function l(u){let f;u.auth&&(f=u.auth.match(/^(.+):(.+)$/),f?(u.username=f[1],u.password=f[2]):u.username=u.auth)}function h(u,f){var d,g,y,_;if(o("connecting to an MQTT broker..."),typeof u=="object"&&!f&&(f=u,u=""),f=f||{},u&&typeof u=="string"){let S=n.default.parse(u,!0),M={};if(S.port!=null&&(M.port=Number(S.port)),M.host=S.hostname,M.query=S.query,M.auth=S.auth,M.protocol=S.protocol,M.path=S.path,M.protocol=(d=M.protocol)===null||d===void 0?void 0:d.replace(/:$/,""),f=Object.assign(Object.assign({},M),f),!f.protocol)throw new Error("Missing protocol")}if(f.unixSocket=f.unixSocket||((g=f.protocol)===null||g===void 0?void 0:g.includes("+unix")),f.unixSocket?f.protocol=f.protocol.replace("+unix",""):!(!((y=f.protocol)===null||y===void 0)&&y.startsWith("ws"))&&!(!((_=f.protocol)===null||_===void 0)&&_.startsWith("wx"))&&delete f.path,l(f),f.query&&typeof f.query.clientId=="string"&&(f.clientId=f.query.clientId),f.cert&&f.key)if(f.protocol){if(["mqtts","wss","wxs","alis"].indexOf(f.protocol)===-1)switch(f.protocol){case"mqtt":f.protocol="mqtts";break;case"ws":f.protocol="wss";break;case"wx":f.protocol="wxs";break;case"ali":f.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${f.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!s.default&&!f.forceNativeWebSocket?(a.ws=io().streamBuilder,a.wss=io().streamBuilder,a.mqtt=od().default,a.tcp=od().default,a.ssl=ad().default,a.tls=a.ssl,a.mqtts=ad().default):(a.ws=io().browserStreamBuilder,a.wss=io().browserStreamBuilder,a.wx=ld().default,a.wxs=ld().default,a.ali=hd().default,a.alis=hd().default)),!a[f.protocol]){let S=["mqtts","wss"].indexOf(f.protocol)!==-1;f.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((M,T)=>S&&T%2===0?!1:typeof a[M]=="function")[0]}if(f.clean===!1&&!f.clientId)throw new Error("Missing clientId for unclean clients");f.protocol&&(f.defaultProtocol=f.protocol);function v(S){return f.servers&&((!S._reconnectCount||S._reconnectCount===f.servers.length)&&(S._reconnectCount=0),f.host=f.servers[S._reconnectCount].host,f.port=f.servers[S._reconnectCount].port,f.protocol=f.servers[S._reconnectCount].protocol?f.servers[S._reconnectCount].protocol:f.defaultProtocol,f.hostname=f.host,S._reconnectCount++),o("calling streambuilder for",f.protocol),a[f.protocol](S,f)}let w=new r.default(v,f);return w.on("error",()=>{}),w}function c(u,f,d=!0){return new Promise((g,y)=>{let _=h(u,f),v={connect:S=>{w(),g(_)},end:()=>{w(),g(_)},error:S=>{w(),_.end(),y(S)}};d===!1&&(v.close=()=>{v.error(new Error("Couldn't connect to server"))});function w(){Object.keys(v).forEach(S=>{_.off(S,v[S])})}Object.keys(v).forEach(S=>{_.on(S,v[S])})})}e.connectAsync=c,e.default=h}),cd=wt(e=>{ut(),dt(),ft();var t=e&&e.__createBinding||(Object.create?function(d,g,y,_){_===void 0&&(_=y);var v=Object.getOwnPropertyDescriptor(g,y);(!v||("get"in v?!g.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(d,_,v)}:function(d,g,y,_){_===void 0&&(_=y),d[_]=g[y]}),i=e&&e.__setModuleDefault||(Object.create?function(d,g){Object.defineProperty(d,"default",{enumerable:!0,value:g})}:function(d,g){d.default=g}),n=e&&e.__importStar||function(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&t(g,d,y);return i(g,d),g},r=e&&e.__exportStar||function(d,g){for(var y in d)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&t(g,d,y)},s=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var o=s(Ah());e.MqttClient=o.default;var a=s(Vg());e.DefaultMessageIdProvider=a.default;var l=s(BE());e.UniqueMessageIdProvider=l.default;var h=s(Hg());e.Store=h.default;var c=n(eM());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var u=s(am());e.KeepaliveManager=u.default,e.Client=o.default,r(Ah(),e),r(Dr(),e);var f=ha();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})}),iM=wt(e=>{ut(),dt(),ft();var t=e&&e.__createBinding||(Object.create?function(o,a,l,h){h===void 0&&(h=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,h,c)}:function(o,a,l,h){h===void 0&&(h=l),o[h]=a[l]}),i=e&&e.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),n=e&&e.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&t(a,o,l);return i(a,o),a},r=e&&e.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,o,l)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(cd());e.default=s,r(cd(),e)});const nM=iM();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/function rM(e){let t,i,n,r,s,o,a,l,h=e[5]?"På":"Av",c,u,f,d,g,y,_,v="High <br/>Power",w,S,M,T,E="10° <br/>Läge",k,O,F,V,q,A,Y,Z="Fläkt",H,tt,X,z,it,rt="<span>|</span> <span>|</span> <span>|</span> <span>|</span>",yt,I,K="<span>Auto</span> <span>Låg</span> <span>Med</span> <span>Hög</span>",ot,xt,st,B,C="Läge",Q,lt,et,nt,ht,gt="<span>|</span> <span>|</span> <span>|</span> <span>|</span>",L,j,W="<span>Auto</span> <span>Värme</span> <span>Kylning</span> <span>Avfukt</span>",at,J,U,G,vt="Skicka till värmepumpen",Et,Tt,Ut,m,p,b;function P(x){e[19](x)}let D={relMode:e[10],disabled:e[12],tempMax:e[7],tempMin:e[6]};return e[0]!==void 0&&(D.temp=e[0]),r=new i0({props:D}),dd.push(()=>Qm(r,"temp",P)),Ut=new dk({}),{c(){t=Dt("div"),i=Dt("div"),n=Dt("div"),Uc(r.$$.fragment),a=re(),l=Dt("button"),c=xs(h),f=re(),d=Dt("div"),g=Dt("div"),y=Dt("button"),_=Dt("span"),_.innerHTML=v,S=re(),M=Dt("button"),T=Dt("span"),T.innerHTML=E,F=re(),V=Dt("div"),q=Dt("div"),A=Dt("div"),Y=Dt("span"),Y.textContent=Z,H=re(),tt=Dt("div"),X=Dt("input"),z=re(),it=Dt("div"),it.innerHTML=rt,yt=re(),I=Dt("div"),I.innerHTML=K,xt=re(),st=Dt("div"),B=Dt("span"),B.textContent=C,Q=re(),lt=Dt("div"),et=Dt("input"),nt=re(),ht=Dt("div"),ht.innerHTML=gt,L=re(),j=Dt("div"),j.innerHTML=W,J=re(),U=Dt("div"),G=Dt("button"),G.textContent=vt,Et=re(),Tt=Dt("div"),Uc(Ut.$$.fragment),this.h()},l(x){t=Lt(x,"DIV",{class:!0});var R=le(t);i=Lt(R,"DIV",{class:!0});var $=le(i);n=Lt($,"DIV",{class:!0});var pt=le(n);jc(r.$$.fragment,pt),pt.forEach(Ft),a=se($),l=Lt($,"BUTTON",{class:!0});var ct=le(l);c=ks(ct,h),ct.forEach(Ft),f=se($),d=Lt($,"DIV",{class:!0});var _t=le(d);g=Lt(_t,"DIV",{class:!0});var Mt=le(g);y=Lt(Mt,"BUTTON",{class:!0});var Rt=le(y);_=Lt(Rt,"SPAN",{class:!0,"data-svelte-h":!0}),ve(_)!=="svelte-13r8rb7"&&(_.innerHTML=v),Rt.forEach(Ft),S=se(Mt),M=Lt(Mt,"BUTTON",{class:!0});var pe=le(M);T=Lt(pe,"SPAN",{class:!0,"data-svelte-h":!0}),ve(T)!=="svelte-2l1hj3"&&(T.innerHTML=E),pe.forEach(Ft),Mt.forEach(Ft),_t.forEach(Ft),F=se($),V=Lt($,"DIV",{class:!0});var Be=le(V);q=Lt(Be,"DIV",{class:!0});var qt=le(q);A=Lt(qt,"DIV",{class:!0});var Oe=le(A);Y=Lt(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),ve(Y)!=="svelte-fgsbr8"&&(Y.textContent=Z),H=se(Oe),tt=Lt(Oe,"DIV",{class:!0});var ie=le(tt);X=Lt(ie,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),z=se(ie),it=Lt(ie,"DIV",{class:!0,"data-svelte-h":!0}),ve(it)!=="svelte-1wtqiq6"&&(it.innerHTML=rt),yt=se(ie),I=Lt(ie,"DIV",{class:!0,"data-svelte-h":!0}),ve(I)!=="svelte-1mixnqc"&&(I.innerHTML=K),ie.forEach(Ft),Oe.forEach(Ft),xt=se(qt),st=Lt(qt,"DIV",{class:!0});var ae=le(st);B=Lt(ae,"SPAN",{class:!0,"data-svelte-h":!0}),ve(B)!=="svelte-1ymgcin"&&(B.textContent=C),Q=se(ae),lt=Lt(ae,"DIV",{class:!0});var Zt=le(lt);et=Lt(Zt,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),nt=se(Zt),ht=Lt(Zt,"DIV",{class:!0,"data-svelte-h":!0}),ve(ht)!=="svelte-1wtqiq6"&&(ht.innerHTML=gt),L=se(Zt),j=Lt(Zt,"DIV",{class:!0,"data-svelte-h":!0}),ve(j)!=="svelte-17uig8e"&&(j.innerHTML=W),Zt.forEach(Ft),ae.forEach(Ft),qt.forEach(Ft),Be.forEach(Ft),J=se($),U=Lt($,"DIV",{class:!0});var Pe=le(U);G=Lt(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(G)!=="svelte-14524iw"&&(G.textContent=vt),Pe.forEach(Ft),Et=se($),Tt=Lt($,"DIV",{class:!0});var Nt=le(Tt);jc(Ut.$$.fragment,Nt),Nt.forEach(Ft),$.forEach(Ft),R.forEach(Ft),this.h()},h(){Ot(n,"class",o="mt-10 "+(e[12]||!e[5]?"opacity-20 pointer-events-none":"")),Ot(l,"class",u="btn "+(e[5]?"btn-success":"btn-error")+" mt-10 w-8/12 rounded"),Ot(_,"class","p-4"),Ot(y,"class",w="btn btn-primary h-full rounded "+(e[1]?"opacity-20 pointer-events-none":"")),Ot(T,"class","p-4"),Ot(M,"class",k="btn btn-primary h-full rounded "+(e[2]?"opacity-20 pointer-events-none":"")),Ot(g,"class","w-full grid grid-flow-col grid-cols-2 justify-between drop-shadow-sm gap-4"),Ot(d,"class",O="mt-4 w-8/12 flex "+(e[5]?"":"opacity-20 pointer-events-none")),Ot(Y,"class","mb-2 w-full text-center"),Ot(X,"class","range range-sm"),Ot(X,"type","range"),Ot(X,"min","0"),Ot(X,"max",e[11]),Ot(X,"step","1"),Ot(it,"class","w-full flex justify-between text-xs px-2"),Ot(I,"class","w-full flex justify-between text-xs px-2"),Ot(tt,"class","mx-3"),Ot(A,"class",ot="w-9/12 flex flex-col "+(e[11]==0?"opacity-20 pointer-events-none":"")),Ot(B,"class","mb-2 w-full text-center"),Ot(et,"class","range range-sm"),Ot(et,"type","range"),Ot(et,"min","0"),Ot(et,"max","3"),Ot(et,"step","1"),Ot(ht,"class","w-full flex justify-between text-xs px-2"),Ot(j,"class","w-full flex justify-between text-xs px-2"),Ot(lt,"class","mx-3"),Ot(st,"class","mt-6 w-9/12 flex flex-col"),Ot(q,"class","flex flex-col w-full items-center"),Ot(V,"class",at="mt-6 w-full "+(e[12]||!e[5]?"opacity-20 pointer-events-none":"")),Ot(G,"class","btn btn-primary mt-3 mb-8 w-full rounded"),Ot(U,"class","w-8/12 mt-6"),Ot(Tt,"class","h-96"),Ot(i,"class","w-screen md:w-7/12 lg:w-5/12 sm flex flex-col items-center"),Ot(t,"class","w-screen bg-base-200 select-none flex justify-center")},m(x,R){Te(x,t,R),Pt(t,i),Pt(i,n),Wc(r,n,null),Pt(i,a),Pt(i,l),Pt(l,c),Pt(i,f),Pt(i,d),Pt(d,g),Pt(g,y),Pt(y,_),Pt(g,S),Pt(g,M),Pt(M,T),Pt(i,F),Pt(i,V),Pt(V,q),Pt(q,A),Pt(A,Y),Pt(A,H),Pt(A,tt),Pt(tt,X),Ds(X,e[4]),Pt(tt,z),Pt(tt,it),Pt(tt,yt),Pt(tt,I),Pt(q,xt),Pt(q,st),Pt(st,B),Pt(st,Q),Pt(st,lt),Pt(lt,et),Ds(et,e[3]),Pt(lt,nt),Pt(lt,ht),Pt(lt,L),Pt(lt,j),Pt(i,J),Pt(i,U),Pt(U,G),Pt(i,Et),Pt(i,Tt),Wc(Ut,Tt,null),m=!0,p||(b=[si(l,"click",e[20]),si(y,"click",e[21]),si(M,"click",e[22]),si(X,"change",e[23]),si(X,"input",e[23]),si(et,"change",e[24]),si(et,"input",e[24]),si(G,"click",e[16])],p=!0)},p(x,R){const $={};R[0]&1024&&($.relMode=x[10]),R[0]&4096&&($.disabled=x[12]),R[0]&128&&($.tempMax=x[7]),R[0]&64&&($.tempMin=x[6]),!s&&R[0]&1&&(s=!0,$.temp=x[0],Km(()=>s=!1)),r.$set($),(!m||R[0]&4128&&o!==(o="mt-10 "+(x[12]||!x[5]?"opacity-20 pointer-events-none":"")))&&Ot(n,"class",o),(!m||R[0]&32)&&h!==(h=x[5]?"På":"Av")&&Es(c,h),(!m||R[0]&32&&u!==(u="btn "+(x[5]?"btn-success":"btn-error")+" mt-10 w-8/12 rounded"))&&Ot(l,"class",u),(!m||R[0]&2&&w!==(w="btn btn-primary h-full rounded "+(x[1]?"opacity-20 pointer-events-none":"")))&&Ot(y,"class",w),(!m||R[0]&4&&k!==(k="btn btn-primary h-full rounded "+(x[2]?"opacity-20 pointer-events-none":"")))&&Ot(M,"class",k),(!m||R[0]&32&&O!==(O="mt-4 w-8/12 flex "+(x[5]?"":"opacity-20 pointer-events-none")))&&Ot(d,"class",O),(!m||R[0]&2048)&&Ot(X,"max",x[11]),R[0]&16&&Ds(X,x[4]),(!m||R[0]&2048&&ot!==(ot="w-9/12 flex flex-col "+(x[11]==0?"opacity-20 pointer-events-none":"")))&&Ot(A,"class",ot),R[0]&8&&Ds(et,x[3]),(!m||R[0]&4128&&at!==(at="mt-6 w-full "+(x[12]||!x[5]?"opacity-20 pointer-events-none":"")))&&Ot(V,"class",at)},i(x){m||(En(r.$$.fragment,x),En(Ut.$$.fragment,x),m=!0)},o(x){kn(r.$$.fragment,x),kn(Ut.$$.fragment,x),m=!1},d(x){x&&Ft(t),Yc(r),Yc(Ut),p=!1,ud(b)}}}function sM(e){let t,i,n,r="Kunde inte logga in!",s,o,a="Försök igen senare.",l,h,c,u,f="Tryck för att försöka igen",d,g,y="Logga in",_,v;return{c(){t=Dt("div"),i=Dt("div"),n=Dt("h1"),n.textContent=r,s=re(),o=Dt("p"),o.textContent=a,l=re(),h=Dt("br"),c=re(),u=Dt("p"),u.textContent=f,d=re(),g=Dt("button"),g.textContent=y,this.h()},l(w){t=Lt(w,"DIV",{class:!0});var S=le(t);i=Lt(S,"DIV",{class:!0});var M=le(i);n=Lt(M,"H1",{"data-svelte-h":!0}),ve(n)!=="svelte-8ypnun"&&(n.textContent=r),s=se(M),o=Lt(M,"P",{"data-svelte-h":!0}),ve(o)!=="svelte-14bbz9p"&&(o.textContent=a),l=se(M),h=Lt(M,"BR",{}),c=se(M),u=Lt(M,"P",{"data-svelte-h":!0}),ve(u)!=="svelte-yq7acw"&&(u.textContent=f),d=se(M),g=Lt(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(g)!=="svelte-1o3l0pz"&&(g.textContent=y),M.forEach(Ft),S.forEach(Ft),this.h()},h(){Ot(g,"class","btn mt-2 w-8/12 rounded"),Ot(i,"class","error md:w-7/12 lg:w-5/12 sm svelte-x1bt70"),Ot(t,"class","w-screen select-none flex justify-center")},m(w,S){Te(w,t,S),Pt(t,i),Pt(i,n),Pt(i,s),Pt(i,o),Pt(i,l),Pt(i,h),Pt(i,c),Pt(i,u),Pt(i,d),Pt(i,g),_||(v=si(g,"click",e[18]),_=!0)},p:Ae,i:Ae,o:Ae,d(w){w&&Ft(t),_=!1,v()}}}function oM(e){let t,i='<div class="spinner svelte-x1bt70"></div>';return{c(){t=Dt("div"),t.innerHTML=i,this.h()},l(n){t=Lt(n,"DIV",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-1cnlc2w"&&(t.innerHTML=i),this.h()},h(){Ot(t,"class","loading-container svelte-x1bt70")},m(n,r){Te(n,t,r)},p:Ae,i:Ae,o:Ae,d(n){n&&Ft(t)}}}function aM(e){let t,i,n="No response from heat pump",r,s,o="Please try again.",a,l,h="Okay",c,u;return{c(){t=Dt("div"),i=Dt("h1"),i.textContent=n,r=re(),s=Dt("p"),s.textContent=o,a=re(),l=Dt("button"),l.textContent=h,this.h()},l(f){t=Lt(f,"DIV",{class:!0});var d=le(t);i=Lt(d,"H1",{"data-svelte-h":!0}),ve(i)!=="svelte-ulx25e"&&(i.textContent=n),r=se(d),s=Lt(d,"P",{"data-svelte-h":!0}),ve(s)!=="svelte-1xlh1sv"&&(s.textContent=o),a=se(d),l=Lt(d,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-1lsj5le"&&(l.textContent=h),d.forEach(Ft),this.h()},h(){Ot(l,"class","btn mt-2 w-8/12 rounded"),Ot(t,"class","error svelte-x1bt70")},m(f,d){Te(f,t,d),Pt(t,i),Pt(t,r),Pt(t,s),Pt(t,a),Pt(t,l),c||(u=si(l,"click",e[17]),c=!0)},p:Ae,i:Ae,o:Ae,d(f){f&&Ft(t),c=!1,u()}}}function lM(e){let t,i='<div class="spinner svelte-x1bt70"></div> <p>Waiting for heat pump response...</p>';return{c(){t=Dt("div"),t.innerHTML=i,this.h()},l(n){t=Lt(n,"DIV",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-4u7ycq"&&(t.innerHTML=i),this.h()},h(){Ot(t,"class","loading-container flex-col svelte-x1bt70")},m(n,r){Te(n,t,r)},p:Ae,i:Ae,o:Ae,d(n){n&&Ft(t)}}}function hM(e){let t,i,n,r;const s=[lM,aM,oM,sM,rM],o=[];function a(l,h){return l[13]?0:l[14]?1:l[8]?2:l[9]?3:4}return t=a(e),i=o[t]=s[t](e),{c(){i.c(),n=Nc()},l(l){i.l(l),n=Nc()},m(l,h){o[t].m(l,h),Te(l,n,h),r=!0},p(l,h){let c=t;t=a(l),t===c?o[t].p(l,h):(hs(),kn(o[c],1,1,()=>{o[c]=null}),cs(),i=o[t],i?i.p(l,h):(i=o[t]=s[t](l),i.c()),En(i,1),i.m(n.parentNode,n))},i(l){r||(En(i),r=!0)},o(l){kn(i),r=!1},d(l){l&&Ft(n),o[t].d(l)}}}const cM="https://sso.melo.se/application/o/emqx/.well-known/openid-configuration";async function za(){return(await fetch(cM)).json()}function uM(e,t,i){let n;Gm(e,dl,it=>i(28,n=it));let r="",s={},o=!0,a=!1;function l(){za().then(it=>{const rt="pPdjbX7XGaFpwme0AlZCPbkJ5ZFF4lGYRWOeLIy8",yt=window.location.href.split("?")[0],I="openid profile email",K="code",ot=Math.random().toString(36).substring(7),xt=`${it.authorization_endpoint}?response_type=${K}&client_id=${rt}&redirect_uri=${yt}&scope=${I}&state=${ot}`;window.location.href=xt}).catch(()=>{i(9,a=!0),i(8,o=!1)})}async function h(){const it=new URLSearchParams(window.location.search),rt=it.get("code"),yt=it.get("state");if(rt&&yt)try{const K=(await za()).token_endpoint,ot="pPdjbX7XGaFpwme0AlZCPbkJ5ZFF4lGYRWOeLIy8",xt=window.location.href.split("?")[0],st=new URLSearchParams({grant_type:"authorization_code",code:rt,redirect_uri:xt,client_id:ot}),C=await(await fetch(K,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:st.toString()})).json();C.access_token?(r=C.access_token,await c(r),i(8,o=!1)):(i(9,a=!0),i(8,o=!1))}catch(I){console.error("Error during token exchange",I),i(9,a=!0),i(8,o=!1)}else l()}async function c(it){try{const rt=await za();s=await(await fetch(rt.userinfo_endpoint,{method:"POST",headers:{Authorization:`Bearer ${it}`}})).json()}catch(rt){console.error("Error fetching user info",rt),i(9,a=!0)}}fd(()=>{window.location.search.includes("code=")?h():l()});const u=nM.connect("ws://localhost:9001");u.on("connect",it=>console.error(it));let f=n.temp,d=n.tenDegreeMode,g=n.highPower,y=n.mode,_=n.fan,v=n.power,w=18,S=32,M,T=3,E,k=!1,O=!1,F=null;function V(){i(13,k=!0),i(14,O=!1),F=Math.floor(Math.random()*99999999),u.publish("heatpump/data",JSON.stringify({temp:f||gn.temp,tenDegreeMode:d||gn.tenDegreeMode,highPower:g||gn.highPower,mode:y||gn.mode,fan:_||gn.fan,power:v||gn.power,id:F}),{retain:!0,qos:2}),setTimeout(()=>{k&&(i(13,k=!1),i(14,O=!0))},1e4)}u.on("message",(it,rt)=>{if(it==="heatpump/received")try{JSON.parse(rt.toString()).id===F&&i(13,k=!1)}catch(yt){console.error("Error parsing MQTT message",yt)}}),u.subscribe("heatpump/received");const q=()=>{i(14,O=!1)},A=()=>{l()};function Y(it){f=it,i(0,f),i(3,y),i(6,w),i(7,S)}const Z=()=>{i(5,v=!v)},H=()=>{i(2,g=!g)},tt=()=>{i(1,d=!d)};function X(){_=Fc(this.value),i(4,_)}function z(){y=Fc(this.value),i(3,y)}return e.$$.update=()=>{e.$$.dirty[0]&201&&(y==0||y==3?(i(10,M=!0),i(6,w=-2),i(7,S=2),(w>f||f>S)&&i(0,f=0)):(i(10,M=!1),i(6,w=18),i(7,S=32),(w>f||f>S)&&i(0,f=20))),e.$$.dirty[0]&63&&dl.set(JSON.stringify({temp:f,tenDegreeMode:d,highPower:g,mode:y,fan:_,power:v})),e.$$.dirty[0]&8&&y==3&&i(11,T=0),e.$$.dirty[0]&6&&i(12,E=d||g)},[f,d,g,y,_,v,w,S,o,a,M,T,E,k,O,l,V,q,A,Y,Z,H,tt,X,z]}class mM extends Bh{constructor(t){super(),Nh(this,t,uM,hM,sr,{},null,[-1,-1])}}export{mM as component};
